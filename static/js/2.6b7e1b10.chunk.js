/*! For license information please see 2.6b7e1b10.chunk.js.LICENSE.txt */
(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[2],[function(e,t,r){"use strict";e.exports=r(53)},function(e,t,r){"use strict";e.exports=r(54)},function(e,t,r){"use strict";var n=r(31),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function c(e){return"[object Function]"===a.call(e)}function u(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){"object"===typeof t[n]&&"object"===typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,a=arguments.length;n<a;n++)u(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"===typeof t[n]&&"object"===typeof r?t[n]=e(t[n],r):t[n]="object"===typeof r?e({},r):r}for(var n=0,a=arguments.length;n<a;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,a){e[a]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){e.exports=r(59)},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){var n,a=r(109),i=r(46),o=r(111),s=r(112),c=r(113);"undefined"!==typeof ArrayBuffer&&(n=r(114));var u="undefined"!==typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!==typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=u||l;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=a(p),h={type:"error",data:"parser error"},m=r(115);function v(e,t,r){for(var n=new Array(e.length),a=s(e.length,r),i=function(e,r,a){t(r,(function(t,r){n[e]=r,a(t,n)}))},o=0;o<e.length;o++)i(o,e[o],a)}t.encodePacket=function(e,r,n,a){"function"===typeof r&&(a=r,r=!1),"function"===typeof n&&(a=n,n=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!==typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var a=e.data,i=new Uint8Array(a),o=new Uint8Array(1+a.byteLength);o[0]=p[e.type];for(var s=0;s<i.length;s++)o[s+1]=i[s];return n(o.buffer)}(e,r,a);if("undefined"!==typeof m&&i instanceof m)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);if(d)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var a=new FileReader;return a.onload=function(){t.encodePacket({type:e.type,data:a.result},r,!0,n)},a.readAsArrayBuffer(e.data)}(e,r,n);var a=new Uint8Array(1);a[0]=p[e.type];var i=new m([a.buffer,e.data]);return n(i)}(e,r,a);if(i&&i.base64)return function(e,r){var n="b"+t.packets[e.type]+e.data.data;return r(n)}(e,a);var o=p[e.type];return void 0!==e.data&&(o+=n?c.encode(String(e.data),{strict:!1}):String(e.data)),a(""+o)},t.encodeBase64Packet=function(e,r){var n,a="b"+t.packets[e.type];if("undefined"!==typeof m&&e.data instanceof m){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(a+e)},i.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(u){for(var o=new Uint8Array(e.data),s=new Array(o.length),c=0;c<o.length;c++)s[c]=o[c];n=String.fromCharCode.apply(null,s)}return a+=btoa(n),r(a)},t.decodePacket=function(e,r,n){if(void 0===e)return h;if("string"===typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(n&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(t){return!1}return e}(e)))return h;var a=e.charAt(0);return Number(a)==a&&f[a]?e.length>1?{type:f[a],data:e.substring(1)}:{type:f[a]}:h}a=new Uint8Array(e)[0];var i=o(e,1);return m&&"blob"===r&&(i=new m([i])),{type:f[a],data:i}},t.decodeBase64Packet=function(e,t){var r=f[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var a=n.decode(e.substr(1));return"blob"===t&&m&&(a=new m([a])),{type:r,data:a}},t.encodePayload=function(e,r,n){"function"===typeof r&&(n=r,r=null);var a=i(e);if(r&&a)return m&&!d?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n);if(!e.length)return n("0:");v(e,(function(e,n){t.encodePacket(e,!!a&&r,!1,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return n(t.join(""))}))},t.decodePayload=function(e,r,n){if("string"!==typeof e)return t.decodePayloadAsBinary(e,r,n);var a;if("function"===typeof r&&(n=r,r=null),""===e)return n(h,0,1);for(var i,o,s="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===s||s!=(i=Number(s)))return n(h,0,1);if(s!=(o=e.substr(c+1,i)).length)return n(h,0,1);if(o.length){if(a=t.decodePacket(o,r,!1),h.type===a.type&&h.data===a.data)return n(h,0,1);if(!1===n(a,c+i,u))return}c+=i,s=""}else s+=l}return""!==s?n(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));v(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){return r(null,e)}))}),(function(e,t){var n=t.reduce((function(e,t){var r;return e+(r="string"===typeof t?t.length:t.byteLength).toString().length+r+2}),0),a=new Uint8Array(n),i=0;return t.forEach((function(e){var t="string"===typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o);r=n.buffer}a[i++]=t?0:1;var s=r.byteLength.toString();for(o=0;o<s.length;o++)a[i++]=parseInt(s[o]);a[i++]=255;for(n=new Uint8Array(r),o=0;o<n.length;o++)a[i++]=n[o]})),r(a.buffer)}))},t.encodePayloadAsBlob=function(e,r){v(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"===typeof e){for(var n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);e=n.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(i.length+1);for(a=0;a<i.length;a++)o[a]=parseInt(i[a]);if(o[i.length]=255,m){var s=new m([t.buffer,o.buffer,e]);r(null,s)}}))}),(function(e,t){return r(new m(t))}))},t.decodePayloadAsBinary=function(e,r,n){"function"===typeof r&&(n=r,r=null);for(var a=e,i=[];a.byteLength>0;){for(var s=new Uint8Array(a),c=0===s[0],u="",l=1;255!==s[l];l++){if(u.length>310)return n(h,0,1);u+=s[l]}a=o(a,2+u.length),u=parseInt(u);var d=o(a,0,u);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(m){var p=new Uint8Array(d);d="";for(l=0;l<p.length;l++)d+=String.fromCharCode(p[l])}i.push(d),a=o(a,u)}var f=i.length;i.forEach((function(e,a){n(t.decodePacket(e,r,!0),a,f)}))}},function(e,t,r){"use strict";function n(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,c,"next",e)}function c(e){n(o,a,i,s,c,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return a}))},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return a}))},function(e,t,r){(function(n){function a(){var e;try{e=t.storage.debug}catch(r){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/avCoreTrain",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DB_CLIENT:"https://lobby.stagescloud.com:8080",REACT_APP_DB_TOKEN:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVmZTRiNzMzZmMzOTliYTgzMmZhOGFmYiIsImlhdCI6MTYwODgyNDc0Mn0.aW_zq_P9OsZLU_us3HsQUnF3Hm-69prrCqmxqFTp5YdKfqqL-XRZ-gNQKkwBStUzBBCvT0fxaN9ChDdN8CKjqA"}).DEBUG),e}(t=e.exports=r(95)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=a,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(a())}).call(this,r(4))},function(e,t){t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),n=0,a=r.length;n<a;n++){var i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(n){function a(){var e;try{e=t.storage.debug}catch(r){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/avCoreTrain",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DB_CLIENT:"https://lobby.stagescloud.com:8080",REACT_APP_DB_TOKEN:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVmZTRiNzMzZmMzOTliYTgzMmZhOGFmYiIsImlhdCI6MTYwODgyNDc0Mn0.aW_zq_P9OsZLU_us3HsQUnF3Hm-69prrCqmxqFTp5YdKfqqL-XRZ-gNQKkwBStUzBBCvT0fxaN9ChDdN8CKjqA"}).DEBUG),e}(t=e.exports=r(116)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=a,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(a())}).call(this,r(4))},function(e,t,r){var n,a,i=r(60),o=r(62),s=r(66),c=r(24),u=r(67),l=r(68),d=r(71),p=r(74),f=r(27),h=r(3),m=r(28),v=r(29);e.exports=(n=r(30),a=r(39),function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=46)}([function(e,t,r){var n,a;e.exports=(n=r(15),a=r(45),function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),r.d(t,"k",(function(){return o})),r.d(t,"j",(function(){return s})),r.d(t,"d",(function(){return a})),r.d(t,"l",(function(){return i})),r.d(t,"e",(function(){return u})),r.d(t,"i",(function(){return c})),r.d(t,"h",(function(){return h})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return f})),function(e){e.GET_SERVER_CONFIGS="getServerConfigs",e.CREATE_TRANSPORT="createTransport",e.CONNECT_TRANSPORT="connectTransport",e.CLOSE_TRANSPORT="closeTransport",e.PRODUCE="produce",e.CONSUME="consume",e.RESUME_CONSUMER="resumeConsumer",e.PAUSE_CONSUMER="pauseConsumer",e.CLOSE_CONSUMER="closeConsumer",e.RESUME_PRODUCER="resumeProducer",e.PAUSE_PRODUCER="pauseProducer",e.CLOSE_PRODUCER="closeProducer",e.FILE_STREAMING="fileStreaming",e.LIVE_STREAMING="liveStreaming",e.LIVE_TO_HLS="liveToHls",e.STOP_FILE_STREAMING="stopFileStreaming",e.START_RECORDING="startRecording",e.STOP_RECORDING="stopRecording",e.CREATE_PIPE_TRANSPORT="createPipeTransport",e.CONNECT_PIPE_TRANSPORT="connectPipeTransport",e.SET_PREFERRED_LAYERS="setPreferredLayers",e.SET_MAX_INCOMING_BITRATE="setMaxIncomingBitrate",e.PRODUCERS_STATS="producersStats",e.CONSUMERS_STATS="consumersStats",e.TRANSPORT_STATS="transportStats",e.PIPE_TO_REMOTE_PRODUCER="pipeToRemoteProducer",e.PIPE_FROM_REMOTE_PRODUCER="pipeFromRemoteProducer",e.WORKER_LOAD="workerLoad",e.NUM_WORKERS="numWorkers",e.RECORDED_STREAMS="recordedStreams",e.STREAM_RECORDINGS="streamRecordings",e.DELETE_STREAM_RECORDINGS="deleteStreamRecordings",e.DELETE_RECORDING="deleteRecording",e.PUSH_TO_SERVER_INPUTS="pushToServerInputs",e.PULL_FROM_SERVER_INPUTS="pullFromServerInputs",e.PUSH_TO_SERVER_OPTIONS="pushToServerOptions",e.PUSH_TO_SERVER="pushToServer",e.KINDS_BY_FILE="kindsByFile",e.REQUEST_KEYFRAME="requestKeyframe",e.LISTEN_STREAM_STARTED="listenStreamStarted",e.LISTEN_STREAM_STOPPED="listenStreamStopped",e.MIXER_START="mixerStart",e.MIXER_CLOSE="mixerClose",e.MIXER_ADD="mixerAdd",e.MIXER_ADD_FILE="mixerAddFile",e.MIXER_REMOVE="mixerRemove",e.MIXER_UPDATE="mixerUpdate",e.MIXER_PIPE_START="mixerPipeStart",e.MIXER_PIPE_STOP="mixerPipeStop",e.MIXER_COMMAND="mixerCommand",e.LISTEN_MIXER_STOPPED="listenMixerStopped"}(n||(n={}));var a,i,o=[n.GET_SERVER_CONFIGS,n.CREATE_TRANSPORT,n.CONNECT_TRANSPORT,n.CLOSE_TRANSPORT,n.PRODUCE,n.CONSUME,n.LISTEN_STREAM_STARTED,n.LISTEN_STREAM_STOPPED,n.LISTEN_MIXER_STOPPED,n.CREATE_PIPE_TRANSPORT,n.CONNECT_PIPE_TRANSPORT,n.PIPE_TO_REMOTE_PRODUCER,n.PIPE_FROM_REMOTE_PRODUCER],s=Object.values(n).filter((function(e){return!o.includes(e)}));!function(e){e.STREAM_STARTED="streamStarted",e.STREAM_STOPPED="streamStopped",e.MIXER_STOPPED="mixerStopped"}(a||(a={})),function(e){e.STATS="stats",e.TRAFFIC="traffic",e.CPU="cpu",e.STREAM="stream"}(i||(i={}));var c,u={ROOT:"hls",PLAYLIST:"master.m3u8"};!function(e){e.API="api"}(c||(c={}));var l,d,p,f,h={PATH:"nexmo",AUDIO_SAMPLE_RATE:16e3,AUDIO_CHANNELS:1};!function(e){e[e.UNKNOWN=500]="UNKNOWN",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.INVALID_TRANSPORT=530]="INVALID_TRANSPORT",e[e.INVALID_PRODUCER=531]="INVALID_PRODUCER",e[e.INVALID_CONSUMER=532]="INVALID_CONSUMER",e[e.INVALID_STREAM=533]="INVALID_STREAM",e[e.INVALID_OPERATION=534]="INVALID_OPERATION",e[e.INVALID_WORKER=535]="INVALID_WORKER",e[e.INVALID_INPUT=536]="INVALID_INPUT",e[e.INVALID_ACTION=537]="INVALID_ACTION"}(l||(l={})),function(e){e[e.SUBSCRIBE=0]="SUBSCRIBE",e[e.PUBLISH=1]="PUBLISH",e[e.RECORDING=2]="RECORDING",e[e.STREAMING=3]="STREAMING",e[e.MIXER=4]="MIXER"}(d||(d={})),function(e){e[e.LIVE=0]="LIVE",e[e.RECORDING=1]="RECORDING",e[e.RTMP=2]="RTMP",e[e.HLS=3]="HLS"}(p||(p={})),function(e){e.SCALE="scale",e.CROP="crop",e.PAD="pad"}(f||(f={}))},function(e,t){e.exports=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(6),a=r.n(n),i=r(1),o=r.n(i),s=r(0),c=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},u=function(){function e(t,r,n,a,i){m(this,e),this.closed=!1,this.log=a||console.log,this.url=t,this.worker=r,this.token=n,this.cloudApi=i}return v(e,[{key:"connectSocket",value:function(){var e=this;return new Promise((function(t,r){e.client.connected?t():(e.client.on("error",(function(e){"Not enough or too many segments"===e.message?e.errorId=s.c.UNAUTHORIZED:e.errorId=s.c.UNKNOWN,r(e)})),e.client.on("connect",t))}))}},{key:"resumeConsumer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.RESUME_CONSUMER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pauseConsumer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PAUSE_CONSUMER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setPreferredLayers",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.SET_PREFERRED_LAYERS,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closeConsumer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.CLOSE_CONSUMER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"resumeProducer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.RESUME_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pauseProducer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PAUSE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closeProducer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.CLOSE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"produce",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PRODUCE,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"consume",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.CONSUME,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"createPipeTransport",value:function(){return c(this,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(s.a.CREATE_PIPE_TRANSPORT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"connectPipeTransport",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.CONNECT_PIPE_TRANSPORT,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closeTransport",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.CLOSE_TRANSPORT,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"getServerConfigs",value:function(){return c(this,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(s.a.GET_SERVER_CONFIGS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"createTransport",value:function(){return c(this,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(s.a.CREATE_TRANSPORT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"connectTransport",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.CONNECT_TRANSPORT,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setMaxIncomingBitrate",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.SET_MAX_INCOMING_BITRATE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"producersStats",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PRODUCERS_STATS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"consumersStats",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.CONSUMERS_STATS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"transportStats",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.TRANSPORT_STATS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"workerLoad",value:function(){return c(this,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(s.a.WORKER_LOAD);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"numWorkers",value:function(){return c(this,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(s.a.NUM_WORKERS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"pipeToRemoteProducer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PIPE_TO_REMOTE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pipeFromRemoteProducer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PIPE_FROM_REMOTE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"startRecording",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.origin&&this.cloudApi,!t.t0){t.next=5;break}return t.next=4,this.cloudApi.streamOrigin(this,e.stream);case 4:e.origin=t.sent;case 5:return t.next=7,this.request(s.a.START_RECORDING,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"stopRecording",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.STOP_RECORDING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"fileStreaming",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.FILE_STREAMING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopFileStreaming",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.STOP_FILE_STREAMING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"recordedStreams",value:function(){return c(this,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(s.a.RECORDED_STREAMS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"streamRecordings",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.STREAM_RECORDINGS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"deleteStreamRecordings",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.DELETE_STREAM_RECORDINGS,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"deleteRecording",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.DELETE_RECORDING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pushToServerInputs",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PUSH_TO_SERVER_INPUTS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"pushToServerOptions",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PUSH_TO_SERVER_OPTIONS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"pushToServer",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PUSH_TO_SERVER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pullFromServerInputs",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.PULL_FROM_SERVER_INPUTS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"kindsByFile",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.KINDS_BY_FILE,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"requestKeyframe",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.REQUEST_KEYFRAME,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"listenStreamStarted",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.LISTEN_STREAM_STARTED,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"listenStreamStopped",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.LISTEN_STREAM_STOPPED,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"liveStreaming",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.LIVE_STREAMING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"liveToHls",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.LIVE_TO_HLS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"mixerStart",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_START,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"mixerClose",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_CLOSE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerAdd",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.origin&&this.cloudApi,!t.t0){t.next=5;break}return t.next=4,this.cloudApi.streamOrigin(this,e.stream);case 4:e.origin=t.sent;case 5:return t.next=7,this.request(s.a.MIXER_ADD,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"mixerAddFile",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_ADD_FILE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerUpdate",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_UPDATE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerRemove",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_REMOVE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerPipeStart",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_PIPE_START,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"mixerPipeStop",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_PIPE_STOP,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerCommand",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.MIXER_COMMAND,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"listenMixerStopped",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(s.a.LISTEN_MIXER_STOPPED,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"hlsUrl",value:function(e){return"".concat(this.url,"/").concat(s.e.ROOT,"/").concat(e,"/").concat(s.e.PLAYLIST)}},{key:"streamOrigin",value:function(e){if(e&&e.url!==this.url)return{source:e,target:{url:this.url,token:this.token,worker:this.worker}}}},{key:"clear",value:function(){this.closed=!0,this._client&&(this._client.removeAllListeners(),this.client.connected&&this._client.disconnect())}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(this,void 0,void 0,h.mark((function r(){return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.closed){r.next=2;break}return r.abrupt("return",this._client||s.k.includes(e)?this.socketRequest(e,t):this.restRequest(e,t));case 2:case"end":return r.stop()}}),r,this)})))}},{key:"socketRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(this,void 0,void 0,h.mark((function r(){var n=this;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.connectSocket();case 2:return this.log("sent message",e,JSON.stringify(t)),r.abrupt("return",new Promise((function(r,a){n.client.emit(e,t,(function(t){t&&"boolean"!=typeof t&&t.hasOwnProperty("errorId")?(n.log("got error",e,JSON.stringify(t)),a(t)):(n.log("got message",e,JSON.stringify(t)),r(t))}))})));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"restRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(this,void 0,void 0,h.mark((function r(){var n,a,i;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.post("".concat(this.url,"/").concat(s.i.API,"/").concat(this.worker,"/").concat(e),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}});case 3:return n=r.sent,a=n.data,r.abrupt("return",(this.log("got message",e,JSON.stringify(a)),a));case 8:throw r.prev=8,r.t0=r.catch(0),i=s.c.UNKNOWN,this.log("got error",r.t0),r.t0.response&&r.t0.response.status&&s.c[r.t0.response.status]&&(i=r.t0.response.status),{errorId:i};case 12:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"client",get:function(){return this._client||(this._client=a()(this.url,{path:"",transports:["websocket"],query:"auth_token=".concat(this.token,"&mediasoup_worker=").concat(this.worker),forceNew:!0})),this._client}}]),e}()},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),a=function(){function e(){m(this,e)}return v(e,null,[{key:"pinCodeChoice",value:function(e,t){return[{action:"talk",text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Please, enter active pin code.",bargeIn:!0},{action:"input",maxDigits:e,timeOut:10,eventUrl:[t]}]}},{key:"pinCodeChoiceRepeat",value:function(t,r){var n=arguments.length>3?arguments[3]:void 0;return[{action:"talk",text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Sorry, this pin code is invalid."}].concat(f(e.pinCodeChoice(t,r,n)))}},{key:"mixerConnect",value:function(e,t){return[{action:"talk",text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Connecting to meeting. Please, wait."},{action:"connect",endpoint:[{type:"websocket",uri:"".concat(e.replace("http","ws"),"/").concat(n.h.PATH),"content-type":"audio/l16;rate="+n.h.AUDIO_SAMPLE_RATE,headers:t}]}]}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(1),a=r.n(n),i=r(0),o=r(2),s=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},c=function(){function e(t,r,n){m(this,e),this.url=t,this.token=r,this.log=n}return v(e,[{key:"create",value:function(e){return s(this,void 0,void 0,h.mark((function t(){var r,n,i,s,c;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.post(this.url+"/api/customer/config/api",{operation:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}});case 2:return r=t.sent,n=r.data.config,i=n.url,s=n.worker,c=n.token,t.abrupt("return",new o.a(i,s,c,this.log,this));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"streamOrigin",value:function(e,t){return s(this,void 0,void 0,h.mark((function r(){var n,o,s,c,u;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.post(this.url+"/api/customer/config/sdk",{operation:i.b.PUBLISH,stream:t},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}});case 2:return n=r.sent,o=n.data.config,s=o.url,c=o.worker,u=o.token,r.abrupt("return",e.streamOrigin({url:s,worker:c,token:u}));case 8:case"end":return r.stop()}}),r,this)})))}}]),e}()},function(e,t){e.exports=a},function(e,t,r){"use strict";r.r(t);var n=r(0);r.d(t,"ERROR",(function(){return n.c})),r.d(t,"ACTION",(function(){return n.a})),r.d(t,"API_OPERATION",(function(){return n.b})),r.d(t,"EVENT",(function(){return n.d})),r.d(t,"STAT",(function(){return n.l})),r.d(t,"MIXER_PIPE_TYPE",(function(){return n.f})),r.d(t,"NEXMO",(function(){return n.h})),r.d(t,"HLS",(function(){return n.e})),r.d(t,"PATH",(function(){return n.i})),r.d(t,"SOCKET_ONLY_ACTIONS",(function(){return n.k})),r.d(t,"REST_ACTIONS",(function(){return n.j})),r.d(t,"MIXER_RENDER_TYPE",(function(){return n.g}));var a=r(2);r.d(t,"MediasoupSocketApi",(function(){return a.a}));var i=r(3);for(var o in i)["default","ERROR","ACTION","API_OPERATION","EVENT","STAT","MIXER_PIPE_TYPE","NEXMO","HLS","PATH","SOCKET_ONLY_ACTIONS","REST_ACTIONS","MIXER_RENDER_TYPE","MediasoupSocketApi","NexmoUtils","CloudApi"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);var s=r(4);r.d(t,"NexmoUtils",(function(){return s.a}));var c=r(5);r.d(t,"CloudApi",(function(){return c.a}))}]))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),a="mediasoup-client";t.Logger=function(){function e(t){m(this,e),t?(this._debug=n.default("".concat(a,":").concat(t)),this._warn=n.default("".concat(a,":WARN:").concat(t)),this._error=n.default("".concat(a,":ERROR:").concat(t))):(this._debug=n.default(a),this._warn=n.default(a+":WARN"),this._error=n.default(a+":ERROR")),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return v(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){return"object"!=typeof e?{}:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(29),a=r(2);function i(e){var t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");var r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if(e.kind=r[1].toLowerCase(),e.preferredPayloadType&&"number"!=typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(var n=0,a=Object.keys(e.parameters);n<a.length;n++){var i=a[n],s=e.parameters[i];if(void 0===s&&(e.parameters[i]="",s=""),"string"!=typeof s&&"number"!=typeof s)throw new TypeError("invalid codec parameter [key:".concat(i,"s, value:").concat(s,"]"));if("apt"===i&&"number"!=typeof s)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);var c,u=p(e.rtcpFeedback);try{for(u.s();!(c=u.n()).done;)o(c.value)}catch(l){u.e(l)}finally{u.f()}}function o(e){if("object"!=typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!=typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"==typeof e.parameter||(e.parameter="")}function s(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if(e.kind&&"string"==typeof e.kind||(e.kind=""),""!==e.kind&&"audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!=typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!=typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function c(e){if("object"!=typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!=typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");var t,r=p(e.codecs);try{for(r.s();!(t=r.n()).done;)u(t.value)}catch(s){r.e(s)}finally{r.f()}if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);var n,a=p(e.headerExtensions);try{for(a.s();!(n=a.n()).done;)l(n.value)}catch(s){a.e(s)}finally{a.f()}if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);var i,o=p(e.encodings);try{for(o.s();!(i=o.n()).done;)d(i.value)}catch(s){o.e(s)}finally{o.f()}if(e.rtcp&&"object"!=typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),f(e.rtcp)}function u(e){var t=new RegExp("^(audio|video)/(.+)","i");if("object"!=typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!=typeof e.mimeType)throw new TypeError("missing codec.mimeType");var r=t.exec(e.mimeType);if(!r)throw new TypeError("invalid codec.mimeType");if("number"!=typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!=typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===r[1].toLowerCase()?"number"!=typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(var n=0,a=Object.keys(e.parameters);n<a.length;n++){var i=a[n],s=e.parameters[i];if(void 0===s&&(e.parameters[i]="",s=""),"string"!=typeof s&&"number"!=typeof s)throw new TypeError("invalid codec parameter [key:".concat(i,"s, value:").concat(s,"]"));if("apt"===i&&"number"!=typeof s)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);var c,u=p(e.rtcpFeedback);try{for(u.s();!(c=u.n()).done;)o(c.value)}catch(l){u.e(l)}finally{u.f()}}function l(e){if("object"!=typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!=typeof e.uri)throw new TypeError("missing ext.uri");if("number"!=typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!=typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"==typeof e.parameters||(e.parameters={});for(var t=0,r=Object.keys(e.parameters);t<r.length;t++){var n=r[t],a=e.parameters[n];if(void 0===a&&(e.parameters[n]="",a=""),"string"!=typeof a&&"number"!=typeof a)throw new TypeError("invalid header extension parameter")}}function d(e){if("object"!=typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!=typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!=typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!=typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!=typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"==typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!=typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function f(e){if("object"!=typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!=typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"==typeof e.reducedSize||(e.reducedSize=!0)}function h(e){if("object"!=typeof e)throw new TypeError("numStreams is not an object");if("number"!=typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!=typeof e.MIS)throw new TypeError("missing numStreams.MIS")}function m(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function v(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.strict,i=void 0!==a&&a,o=r.modify,s=void 0!==o&&o,c=e.mimeType.toLowerCase();if(c!==t.mimeType.toLowerCase())return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(c){case"video/h264":if((e.parameters["packetization-mode"]||0)!==(t.parameters["packetization-mode"]||0))return!1;if(i){if(!n.isSameProfile(e.parameters,t.parameters))return!1;var u;try{u=n.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(e){return!1}s&&(u?e.parameters["profile-level-id"]=u:delete e.parameters["profile-level-id"])}break;case"video/vp9":if(i&&(e.parameters["profile-id"]||0)!==(t.parameters["profile-id"]||0))return!1}return!0}function g(e,t){return(!e.kind||!t.kind||e.kind===t.kind)&&e.uri===t.uri}function y(e,t){var r,n=[],a=p(e.rtcpFeedback||[]);try{var i=function(){var e=r.value,a=(t.rtcpFeedback||[]).find((function(t){return t.type===e.type&&(t.parameter===e.parameter||!t.parameter&&!e.parameter)}));a&&n.push(a)};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return n}t.validateRtpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);var t,r=p(e.codecs);try{for(r.s();!(t=r.n()).done;)i(t.value)}catch(o){r.e(o)}finally{r.f()}if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);var n,a=p(e.headerExtensions);try{for(a.s();!(n=a.n()).done;)s(n.value)}catch(o){a.e(o)}finally{a.f()}},t.validateRtpCodecCapability=i,t.validateRtcpFeedback=o,t.validateRtpHeaderExtension=s,t.validateRtpParameters=c,t.validateRtpCodecParameters=u,t.validateRtpHeaderExtensionParameters=l,t.validateRtpEncodingParameters=d,t.validateRtcpParameters=f,t.validateSctpCapabilities=function(e){if("object"!=typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!=typeof e.numStreams)throw new TypeError("missing caps.numStreams");h(e.numStreams)},t.validateNumSctpStreams=h,t.validateSctpParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.port)throw new TypeError("missing params.port");if("number"!=typeof e.OS)throw new TypeError("missing params.OS");if("number"!=typeof e.MIS)throw new TypeError("missing params.MIS");if("number"!=typeof e.maxMessageSize)throw new TypeError("missing params.maxMessageSize")},t.validateSctpStreamParameters=function(e){if("object"!=typeof e)throw new TypeError("params is not an object");if("number"!=typeof e.streamId)throw new TypeError("missing params.streamId");var t=!1;if("boolean"==typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&"number"!=typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!=typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.priority&&"string"!=typeof e.priority)throw new TypeError("invalid params.priority");if(e.label&&"string"!=typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!=typeof e.protocol)throw new TypeError("invalid params.protocol")},t.getExtendedRtpCapabilities=function(e,t){var r,n={codecs:[],headerExtensions:[]},a=p(t.codecs||[]);try{var i=function(){var t=r.value;if(m(t))return"continue";var a=(e.codecs||[]).find((function(e){return v(e,t,{strict:!0,modify:!0})}));if(!a)return"continue";var i={mimeType:a.mimeType,kind:a.kind,clockRate:a.clockRate,channels:a.channels,localPayloadType:a.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:t.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:a.parameters,remoteParameters:t.parameters,rtcpFeedback:y(a,t)};n.codecs.push(i)};for(a.s();!(r=a.n()).done;)i()}catch(f){a.e(f)}finally{a.f()}var o,s=p(n.codecs);try{var c=function(){var r=o.value,n=e.codecs.find((function(e){return m(e)&&e.parameters.apt===r.localPayloadType})),a=t.codecs.find((function(e){return m(e)&&e.parameters.apt===r.remotePayloadType}));n&&a&&(r.localRtxPayloadType=n.preferredPayloadType,r.remoteRtxPayloadType=a.preferredPayloadType)};for(s.s();!(o=s.n()).done;)c()}catch(f){s.e(f)}finally{s.f()}var u,l=p(t.headerExtensions);try{var d=function(){var t=u.value,r=e.headerExtensions.find((function(e){return g(e,t)}));if(!r)return"continue";var a={kind:t.kind,uri:t.uri,sendId:r.preferredId,recvId:t.preferredId,encrypt:r.preferredEncrypt,direction:"sendrecv"};switch(t.direction){case"sendrecv":a.direction="sendrecv";break;case"recvonly":a.direction="sendonly";break;case"sendonly":a.direction="recvonly";break;case"inactive":a.direction="inactive"}n.headerExtensions.push(a)};for(l.s();!(u=l.n()).done;)d()}catch(f){l.e(f)}finally{l.f()}return n},t.getRecvRtpCapabilities=function(e){var t,r={codecs:[],headerExtensions:[]},n=p(e.codecs);try{for(n.s();!(t=n.n()).done;){var a=t.value,i={mimeType:a.mimeType,kind:a.kind,preferredPayloadType:a.remotePayloadType,clockRate:a.clockRate,channels:a.channels,parameters:a.localParameters,rtcpFeedback:a.rtcpFeedback};if(r.codecs.push(i),a.remoteRtxPayloadType){var o={mimeType:a.kind+"/rtx",kind:a.kind,preferredPayloadType:a.remoteRtxPayloadType,clockRate:a.clockRate,parameters:{apt:a.remotePayloadType},rtcpFeedback:[]};r.codecs.push(o)}}}catch(d){n.e(d)}finally{n.f()}var s,c=p(e.headerExtensions);try{for(c.s();!(s=c.n()).done;){var u=s.value;if("sendrecv"===u.direction||"recvonly"===u.direction){var l={kind:u.kind,uri:u.uri,preferredId:u.recvId,preferredEncrypt:u.encrypt,direction:u.direction};r.headerExtensions.push(l)}}}catch(d){c.e(d)}finally{c.f()}return r},t.getSendingRtpParameters=function(e,t){var r,n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},a=p(t.codecs);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.kind===e){var o={mimeType:i.mimeType,payloadType:i.localPayloadType,clockRate:i.clockRate,channels:i.channels,parameters:i.localParameters,rtcpFeedback:i.rtcpFeedback};if(n.codecs.push(o),i.localRtxPayloadType){var s={mimeType:i.kind+"/rtx",payloadType:i.localRtxPayloadType,clockRate:i.clockRate,parameters:{apt:i.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}}}catch(f){a.e(f)}finally{a.f()}var c,u=p(t.headerExtensions);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(!(l.kind&&l.kind!==e||"sendrecv"!==l.direction&&"sendonly"!==l.direction)){var d={uri:l.uri,id:l.sendId,encrypt:l.encrypt,parameters:{}};n.headerExtensions.push(d)}}}catch(f){u.e(f)}finally{u.f()}return n},t.getSendingRemoteRtpParameters=function(e,t){var r,n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},a=p(t.codecs);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.kind===e){var o={mimeType:i.mimeType,payloadType:i.localPayloadType,clockRate:i.clockRate,channels:i.channels,parameters:i.remoteParameters,rtcpFeedback:i.rtcpFeedback};if(n.codecs.push(o),i.localRtxPayloadType){var s={mimeType:i.kind+"/rtx",payloadType:i.localRtxPayloadType,clockRate:i.clockRate,parameters:{apt:i.localPayloadType},rtcpFeedback:[]};n.codecs.push(s)}}}}catch(k){a.e(k)}finally{a.f()}var c,u=p(t.headerExtensions);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(!(l.kind&&l.kind!==e||"sendrecv"!==l.direction&&"sendonly"!==l.direction)){var d={uri:l.uri,id:l.sendId,encrypt:l.encrypt,parameters:{}};n.headerExtensions.push(d)}}}catch(k){u.e(k)}finally{u.f()}if(n.headerExtensions.some((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri}))){var f,h=p(n.codecs);try{for(h.s();!(f=h.n()).done;){var m=f.value;m.rtcpFeedback=(m.rtcpFeedback||[]).filter((function(e){return"goog-remb"!==e.type}))}}catch(k){h.e(k)}finally{h.f()}}else if(n.headerExtensions.some((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri}))){var v,g=p(n.codecs);try{for(g.s();!(v=g.n()).done;){var y=v.value;y.rtcpFeedback=(y.rtcpFeedback||[]).filter((function(e){return"transport-cc"!==e.type}))}}catch(k){g.e(k)}finally{g.f()}}else{var b,w=p(n.codecs);try{for(w.s();!(b=w.n()).done;){var _=b.value;_.rtcpFeedback=(_.rtcpFeedback||[]).filter((function(e){return"transport-cc"!==e.type&&"goog-remb"!==e.type}))}}catch(k){w.e(k)}finally{w.f()}}return n},t.reduceCodecs=function(e,t){var r=[];if(t){for(var n=0;n<e.length;++n)if(v(e[n],t)){r.push(e[n]),m(e[n+1])&&r.push(e[n+1]);break}if(0===r.length)throw new TypeError("no matching codec found")}else r.push(e[0]),m(e[1])&&r.push(e[1]);return r},t.generateProbatorRtpParameters=function(e){c(e=a.clone(e));var t={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((function(t){return t.kind===e}))},t.canReceive=function(e,t){if(c(e),0===e.codecs.length)return!1;var r=e.codecs[0];return t.codecs.some((function(e){return e.remotePayloadType===r.payloadType}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){u(r,e);var t=l(r);function r(e){var n;return m(this,r),(n=t.call(this,e)).name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(c(n),r):n.stack=new Error(e).stack,n}return r}(d(Error));t.UnsupportedError=n;var a=function(e){u(r,e);var t=l(r);function r(e){var n;return m(this,r),(n=t.call(this,e)).name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(c(n),r):n.stack=new Error(e).stack,n}return r}(d(Error));t.InvalidStateError=a},function(e,t,r){var n=r(32),a=r(33);t.write=a,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){u(r,e);var t=l(r);function r(){return m(this,r),t.call(this)}return r}(r(9).EnhancedEventEmitter);t.HandlerInterface=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5);t.extractRtpCapabilities=function(e){var t,r=e.sdpObject,a=new Map,i=[],o=!1,s=!1,c=p(r.media);try{for(c.s();!(t=c.n()).done;){var u=t.value,l=u.type;switch(l){case"audio":if(o)continue;o=!0;break;case"video":if(s)continue;s=!0;break;default:continue}var d,f=p(u.rtp);try{for(f.s();!(d=f.n()).done;){var h=d.value,m={kind:l,mimeType:"".concat(l,"/").concat(h.codec),preferredPayloadType:h.payload,clockRate:h.rate,channels:h.encoding,parameters:{},rtcpFeedback:[]};a.set(m.preferredPayloadType,m)}}catch(O){f.e(O)}finally{f.f()}var v,g=p(u.fmtp||[]);try{for(g.s();!(v=g.n()).done;){var y=v.value,b=n.parseParams(y.config),w=a.get(y.payload);w&&(b&&b["profile-level-id"]&&(b["profile-level-id"]=String(b["profile-level-id"])),w.parameters=b)}}catch(O){g.e(O)}finally{g.f()}var _,k=p(u.rtcpFb||[]);try{for(k.s();!(_=k.n()).done;){var S=_.value,x=a.get(S.payload);if(x){var R={type:S.type,parameter:S.subtype};R.parameter||delete R.parameter,x.rtcpFeedback.push(R)}}}catch(O){k.e(O)}finally{k.f()}var E,C=p(u.ext||[]);try{for(C.s();!(E=C.n()).done;){var T=E.value;if(!T["encrypt-uri"]){var P={kind:l,uri:T.uri,preferredId:T.value};i.push(P)}}}catch(O){C.e(O)}finally{C.f()}}}catch(O){c.e(O)}finally{c.f()}return{codecs:Array.from(a.values()),headerExtensions:i}},t.extractDtlsParameters=function(e){var t=e.sdpObject,r=(t.media||[]).find((function(e){return e.iceUfrag&&0!==e.port}));if(!r)throw new Error("no active media section found");var n,a=r.fingerprint||t.fingerprint;switch(r.setup){case"active":n="client";break;case"passive":n="server";break;case"actpass":n="auto"}return{role:n,fingerprints:[{algorithm:a.type,value:a.hash}]}},t.getCname=function(e){var t=(e.offerMediaObject.ssrcs||[]).find((function(e){return"cname"===e.attribute}));return t?t.value:""},t.applyCodecParameters=function(e){var t,r=e.offerRtpParameters,a=e.answerMediaObject,i=p(r.codecs);try{var o=function(){var e=t.value,r=e.mimeType.toLowerCase();if("audio/opus"!==r)return"continue";if(!(a.rtp||[]).find((function(t){return t.payload===e.payloadType})))return"continue";a.fmtp=a.fmtp||[];var i=a.fmtp.find((function(t){return t.payload===e.payloadType}));i||(i={payload:e.payloadType,config:""},a.fmtp.push(i));var o=n.parseParams(i.config);switch(r){case"audio/opus":var s=e.parameters["sprop-stereo"];void 0!==s&&(o.stereo=s?1:0)}i.config="";for(var c=0,u=Object.keys(o);c<u.length;c++){var l=u[c];i.config&&(i.config+=";"),i.config+="".concat(l,"=").concat(o[l])}};for(i.s();!(t=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),i=r(34),o=new a.Logger("RemoteSdp");t.RemoteSdp=function(){function e(t){var r=t.iceParameters,n=t.iceCandidates,a=t.dtlsParameters,i=t.sctpParameters,o=t.plainRtpParameters,s=t.planB,c=void 0!==s&&s;if(m(this,e),this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=r,this._iceCandidates=n,this._dtlsParameters=a,this._sctpParameters=i,this._plainRtpParameters=o,this._planB=c,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},r&&r.iceLite&&(this._sdpObject.icelite="ice-lite"),a){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};var u=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:a.fingerprints[u-1].algorithm,hash:a.fingerprints[u-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}o&&(this._sdpObject.origin.address=o.ip,this._sdpObject.origin.ipVer=o.ipVersion)}return v(e,[{key:"updateIceParameters",value:function(e){o.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;var t,r=p(this._mediaSections);try{for(r.s();!(t=r.n()).done;)t.value.setIceParameters(e)}catch(n){r.e(n)}finally{r.f()}}},{key:"updateDtlsRole",value:function(e){o.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;var t,r=p(this._mediaSections);try{for(r.s();!(t=r.n()).done;)t.value.setDtlsRole(e)}catch(n){r.e(n)}finally{r.f()}}},{key:"getNextMediaSectionIdx",value:function(){for(var e=0;e<this._mediaSections.length;++e){var t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}},{key:"send",value:function(e){var t=e.offerMediaObject,r=e.reuseMid,n=e.offerRtpParameters,a=e.answerRtpParameters,o=e.codecOptions,s=e.extmapAllowMixed,c=void 0!==s&&s,u=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:n,answerRtpParameters:a,codecOptions:o,extmapAllowMixed:c});r?this._replaceMediaSection(u,r):this._midToIndex.has(u.mid)?this._replaceMediaSection(u):this._addMediaSection(u)}},{key:"receive",value:function(e){var t,r=e.mid,n=e.kind,a=e.offerRtpParameters,o=e.streamId,s=e.trackId,c=this._midToIndex.get(r);void 0!==c&&(t=this._mediaSections[c]),t?(t.planBReceive({offerRtpParameters:a,streamId:o,trackId:s}),this._replaceMediaSection(t)):(t=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:r,kind:n,offerRtpParameters:a,streamId:o,trackId:s}),this._addMediaSection(t))}},{key:"disableMediaSection",value:function(e){var t=this._midToIndex.get(e);if(void 0===t)throw new Error("no media section found with mid '".concat(e,"'"));this._mediaSections[t].disable()}},{key:"closeMediaSection",value:function(e){var t=this._midToIndex.get(e);if(void 0===t)throw new Error("no media section found with mid '".concat(e,"'"));var r=this._mediaSections[t];if(e===this._firstMid)return o.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),void this.disableMediaSection(e);r.close(),this._regenerateBundleMids()}},{key:"planBStopReceiving",value:function(e){var t=e.mid,r=e.offerRtpParameters,n=this._midToIndex.get(t);if(void 0===n)throw new Error("no media section found with mid '".concat(t,"'"));var a=this._mediaSections[n];a.planBStopReceiving({offerRtpParameters:r}),this._replaceMediaSection(a)}},{key:"sendSctpAssociation",value:function(e){var t=e.offerMediaObject,r=new i.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(r)}},{key:"receiveSctpAssociation",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).oldDataChannelSpec,t=void 0!==e&&e,r=new i.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(r)}},{key:"getSdp",value:function(){return this._sdpObject.origin.sessionVersion++,n.write(this._sdpObject)}},{key:"_addMediaSection",value:function(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}},{key:"_replaceMediaSection",value:function(e,t){if("string"==typeof t){var r=this._midToIndex.get(t);if(void 0===r)throw new Error("no media section found for reuseMid '".concat(t,"'"));var n=this._mediaSections[r];this._mediaSections[r]=e,this._midToIndex.delete(n.mid),this._midToIndex.set(e.mid,r),this._sdpObject.media[r]=e.getObject(),this._regenerateBundleMids()}else{var a=this._midToIndex.get(e.mid);if(void 0===a)throw new Error("no media section found with mid '".concat(e.mid,"'"));this._mediaSections[a]=e,this._sdpObject.media[a]=e.getObject()}}},{key:"_regenerateBundleMids",value:function(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((function(e){return!e.closed})).map((function(e){return e.mid})).join(" "))}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),a=new(r(1).Logger)("EnhancedEventEmitter"),i=function(e){u(r,e);var t=l(r);function r(){var e;return m(this,r),(e=t.call(this)).setMaxListeners(1/0),e}return v(r,[{key:"safeEmit",value:function(e){var t=this.listenerCount(e);try{for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return this.emit.apply(this,[e].concat(n))}catch(n){return a.error("safeEmit() | event listener threw an error [event:%s]:%o",e,n),Boolean(t)}}},{key:"safeEmitAsPromise",value:function(){var e=s(h.mark((function e(t){var r,n,a,i=this,o=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=o.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=o[a];return e.abrupt("return",new Promise((function(e,r){return i.safeEmit.apply(i,[t].concat(n,[e,r]))})));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(n.EventEmitter);t.EnhancedEventEmitter=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function(e){var t,r=e.offerMediaObject,n=new Set,a=p(r.ssrcs||[]);try{for(a.s();!(t=a.n()).done;){var i=t.value.id;n.add(i)}}catch(E){a.e(E)}finally{a.f()}if(0===n.size)throw new Error("no a=ssrc lines found");var s,c=new Map,u=p(r.ssrcGroups||[]);try{for(u.s();!(s=u.n()).done;){var l=s.value;if("FID"===l.semantics){var d=l.ssrcs.split(/\s+/),f=o(d,2),h=f[0],m=f[1];h=Number(h),m=Number(m),n.has(h)&&(n.delete(h),n.delete(m),c.set(h,m))}}}catch(E){u.e(E)}finally{u.f()}var v,g=p(n);try{for(g.s();!(v=g.n()).done;){var y=v.value;c.set(y,null)}}catch(E){g.e(E)}finally{g.f()}var b,w=[],_=p(c);try{for(_.s();!(b=_.n()).done;){var k=o(b.value,2),S=k[0],x=k[1],R={ssrc:S};x&&(R.rtx={ssrc:x}),w.push(R)}}catch(E){_.e(E)}finally{_.f()}return w},t.addLegacySimulcast=function(e){var t=e.offerMediaObject,r=e.numStreams;if(r<=1)throw new TypeError("numStreams must be greater than 1");var n=(t.ssrcs||[]).find((function(e){return"msid"===e.attribute}));if(!n)throw new Error("a=ssrc line with msid information not found");var a,i=o(n.value.split(" ")[0],2),s=i[0],c=i[1],u=n.id;(t.ssrcGroups||[]).some((function(e){if("FID"!==e.semantics)return!1;var t=e.ssrcs.split(/\s+/);return Number(t[0])===u&&(a=Number(t[1]),!0)}));var l=t.ssrcs.find((function(e){return"cname"===e.attribute}));if(!l)throw new Error("a=ssrc line with cname information not found");for(var d=l.value,p=[],f=[],h=0;h<r;++h)p.push(u+h),a&&f.push(a+h);t.ssrcGroups=[],t.ssrcs=[],t.ssrcGroups.push({semantics:"SIM",ssrcs:p.join(" ")});for(var m=0;m<p.length;++m){var v=p[m];t.ssrcs.push({id:v,attribute:"cname",value:d}),t.ssrcs.push({id:v,attribute:"msid",value:"".concat(s," ").concat(c)})}for(var g=0;g<f.length;++g){var y=p[g],b=f[g];t.ssrcs.push({id:b,attribute:"cname",value:d}),t.ssrcs.push({id:b,attribute:"msid",value:"".concat(s," ").concat(c)}),t.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(y," ").concat(b)})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRtpEncodings=function(e){var t,r,n=e.offerMediaObject,a=e.track,i=new Set,s=p(n.ssrcs||[]);try{for(s.s();!(r=s.n()).done;){var c=r.value;if("msid"===c.attribute&&c.value.split(" ")[1]===a.id){var u=c.id;i.add(u),t||(t=u)}}}catch(P){s.e(P)}finally{s.f()}if(0===i.size)throw new Error("a=ssrc line with msid information not found [track.id:".concat(a.id,"]"));var l,d=new Map,f=p(n.ssrcGroups||[]);try{for(f.s();!(l=f.n()).done;){var h=l.value;if("FID"===h.semantics){var m=h.ssrcs.split(/\s+/),v=o(m,2),g=v[0],y=v[1];g=Number(g),y=Number(y),i.has(g)&&(i.delete(g),i.delete(y),d.set(g,y))}}}catch(P){f.e(P)}finally{f.f()}var b,w=p(i);try{for(w.s();!(b=w.n()).done;){var _=b.value;d.set(_,null)}}catch(P){w.e(P)}finally{w.f()}var k,S=[],x=p(d);try{for(x.s();!(k=x.n()).done;){var R=o(k.value,2),E=R[0],C=R[1],T={ssrc:E};C&&(T.rtx={ssrc:C}),S.push(T)}}catch(P){x.e(P)}finally{x.f()}return S},t.addLegacySimulcast=function(e){var t,r,n,a=e.offerMediaObject,i=e.track,o=e.numStreams;if(o<=1)throw new TypeError("numStreams must be greater than 1");if(!(a.ssrcs||[]).find((function(e){return"msid"===e.attribute&&e.value.split(" ")[1]===i.id&&(t=e.id,n=e.value.split(" ")[0],!0)})))throw new Error("a=ssrc line with msid information not found [track.id:".concat(i.id,"]"));(a.ssrcGroups||[]).some((function(e){if("FID"!==e.semantics)return!1;var n=e.ssrcs.split(/\s+/);return Number(n[0])===t&&(r=Number(n[1]),!0)}));var s=a.ssrcs.find((function(e){return"cname"===e.attribute&&e.id===t}));if(!s)throw new Error("a=ssrc line with cname information not found [track.id:".concat(i.id,"]"));for(var c=s.value,u=[],l=[],d=0;d<o;++d)u.push(t+d),r&&l.push(r+d);a.ssrcGroups=a.ssrcGroups||[],a.ssrcs=a.ssrcs||[],a.ssrcGroups.push({semantics:"SIM",ssrcs:u.join(" ")});for(var p=0;p<u.length;++p){var f=u[p];a.ssrcs.push({id:f,attribute:"cname",value:c}),a.ssrcs.push({id:f,attribute:"msid",value:"".concat(n," ").concat(i.id)})}for(var h=0;h<l.length;++h){var m=u[h],v=l[h];a.ssrcs.push({id:v,attribute:"cname",value:c}),a.ssrcs.push({id:v,attribute:"msid",value:"".concat(n," ").concat(i.id)}),a.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(m," ").concat(v)})}}},function(e,t,r){(function(n){t.log=function(){var e;return"object"==typeof console&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(a=n))})),t.splice(a,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(27)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(17))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");t.parse=function(e){var t=n.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},function(e,t,r){"use strict";var n,a="object"==typeof Reflect?Reflect:null,i=a&&"function"==typeof a.apply?a.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var a,i,o,s;if(u(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),o=i[t]),void 0===o)o=i[t]=r,++e._eventsCount;else if("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(a=l(e))>0&&o.length>a&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=p.bind(n);return a.listener=r,n.wrapFn=a,a}function h(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):v(a,a.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=v(c,u);for(r=0;r<u;++r)i(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,a,i,o;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){o=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(26),a=r(1),i=r(4),o=r(3),c=r(18),u=r(31),l=r(35),d=r(36),p=r(37),f=r(38),g=r(39),y=r(40),b=r(41),w=r(43),_=new a.Logger("Device");function k(){if("object"==typeof navigator&&"ReactNative"===navigator.product)return"undefined"==typeof RTCPeerConnection?void _.warn("this._detectDevice() | unsupported ReactNative without RTCPeerConnection"):(_.debug("this._detectDevice() | ReactNative handler chosen"),"ReactNative");if("object"!=typeof navigator||"string"!=typeof navigator.userAgent)_.warn("this._detectDevice() | unknown device");else{var e=navigator.userAgent,t=n.getParser(e),r=t.getEngine();if(t.satisfies({chrome:">=74",chromium:">=74"}))return"Chrome74";if(t.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(t.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(t.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(t.satisfies({firefox:">=60"}))return"Firefox60";if(t.satisfies({safari:">=12.0"})&&"undefined"!=typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(t.satisfies({safari:">=11"}))return"Safari11";if(t.satisfies({"microsoft edge":">=11"})&&t.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(r.name&&"blink"===r.name.toLowerCase()){var a=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(a){var i=Number(a[1]);return i>=74?"Chrome74":i>=70?"Chrome70":i>=67?"Chrome67":"Chrome55"}return"Chrome74"}_.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=k,t.Device=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.handlerName,n=t.handlerFactory,a=t.Handler;if(m(this,e),this._loaded=!1,_.debug("constructor()"),a){if(_.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),"string"!=typeof a)throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");r=a}if(r&&n)throw new TypeError("just one of handlerName or handlerInterface can be given");if(n)this._handlerFactory=n;else{if(r)_.debug("constructor() | handler given: %s",r);else{if(!(r=k()))throw new i.UnsupportedError("device not supported");_.debug("constructor() | detected handler: %s",r)}switch(r){case"Chrome74":this._handlerFactory=u.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=l.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=d.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=p.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=f.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=g.Safari12.createFactory();break;case"Safari11":this._handlerFactory=y.Safari11.createFactory();break;case"Edge11":this._handlerFactory=b.Edge11.createFactory();break;case"ReactNative":this._handlerFactory=w.ReactNative.createFactory();break;default:throw new TypeError('unknown handlerName "'.concat(r,'"'))}}var o=this._handlerFactory();this._handlerName=o.name,o.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}return v(e,[{key:"load",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.routerRtpCapabilities,_.debug("load() [routerRtpCapabilities:%o]",r),e.prev=2,!this._loaded){e.next=5;break}throw new i.InvalidStateError("already loaded");case 5:return o.validateRtpCapabilities(r),n=this._handlerFactory(),e.next=8,n.getNativeRtpCapabilities();case 8:return a=e.sent,_.debug("load() | got native RTP capabilities:%o",a),o.validateRtpCapabilities(a),this._extendedRtpCapabilities=o.getExtendedRtpCapabilities(a,r),_.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=o.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=o.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=o.getRecvRtpCapabilities(this._extendedRtpCapabilities),o.validateRtpCapabilities(this._recvRtpCapabilities),_.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),e.next=20,n.getNativeSctpCapabilities();case 20:this._sctpCapabilities=e.sent,_.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),o.validateSctpCapabilities(this._sctpCapabilities),_.debug("load() succeeded"),this._loaded=!0,n.close(),e.next=31;break;case 28:throw e.prev=28,e.t0=e.catch(2),n&&n.close(),e.t0;case 31:case"end":return e.stop()}}),e,this,[[2,28]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"canProduce",value:function(e){if(!this._loaded)throw new i.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError('invalid kind "'.concat(e,'"'));return this._canProduceByKind[e]}},{key:"createSendTransport",value:function(e){var t=e.id,r=e.iceParameters,n=e.iceCandidates,a=e.dtlsParameters,i=e.sctpParameters,o=e.iceServers,s=e.iceTransportPolicy,c=e.additionalSettings,u=e.proprietaryConstraints,l=e.appData,d=void 0===l?{}:l;return _.debug("createSendTransport()"),this._createTransport({direction:"send",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,appData:d})}},{key:"createRecvTransport",value:function(e){var t=e.id,r=e.iceParameters,n=e.iceCandidates,a=e.dtlsParameters,i=e.sctpParameters,o=e.iceServers,s=e.iceTransportPolicy,c=e.additionalSettings,u=e.proprietaryConstraints,l=e.appData,d=void 0===l?{}:l;return _.debug("createRecvTransport()"),this._createTransport({direction:"recv",id:t,iceParameters:r,iceCandidates:n,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,appData:d})}},{key:"_createTransport",value:function(e){var t=e.direction,r=e.id,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,u=e.iceServers,l=e.iceTransportPolicy,d=e.additionalSettings,p=e.proprietaryConstraints,f=e.appData,h=void 0===f?{}:f;if(!this._loaded)throw new i.InvalidStateError("not loaded");if("string"!=typeof r)throw new TypeError("missing id");if("object"!=typeof n)throw new TypeError("missing iceParameters");if(!Array.isArray(a))throw new TypeError("missing iceCandidates");if("object"!=typeof o)throw new TypeError("missing dtlsParameters");if(s&&"object"!=typeof s)throw new TypeError("wrong sctpParameters");if(h&&"object"!=typeof h)throw new TypeError("if given, appData must be an object");return new c.Transport({direction:t,id:r,iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s,iceServers:u,iceTransportPolicy:l,additionalSettings:d,proprietaryConstraints:p,appData:h,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind})}},{key:"handlerName",get:function(){return this._handlerName}},{key:"loaded",get:function(){return this._loaded}},{key:"rtpCapabilities",get:function(){if(!this._loaded)throw new i.InvalidStateError("not loaded");return this._recvRtpCapabilities}},{key:"sctpCapabilities",get:function(){if(!this._loaded)throw new i.InvalidStateError("not loaded");return this._sctpCapabilities}}]),e}()},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(30),a=r(1),i=r(9),o=r(4),c=r(2),d=r(3),f=r(19),g=r(20),y=r(21),b=r(22),w=new a.Logger("Transport"),_=function(e){u(r,e);var t=l(r);function r(e){var a,i=e.direction,s=e.id,u=e.iceParameters,l=e.iceCandidates,d=e.dtlsParameters,p=e.sctpParameters,f=e.iceServers,h=e.iceTransportPolicy,v=e.additionalSettings,g=e.proprietaryConstraints,y=e.appData,b=e.handlerFactory,_=e.extendedRtpCapabilities,k=e.canProduceByKind;return m(this,r),(a=t.call(this))._closed=!1,a._connectionState="new",a._producers=new Map,a._consumers=new Map,a._dataProducers=new Map,a._dataConsumers=new Map,a._probatorConsumerCreated=!1,a._awaitQueue=new n.AwaitQueue({ClosedErrorClass:o.InvalidStateError}),w.debug("constructor() [id:%s, direction:%s]",s,i),a._id=s,a._direction=i,a._extendedRtpCapabilities=_,a._canProduceByKind=k,a._maxSctpMessageSize=p?p.maxMessageSize:null,delete(v=c.clone(v)).iceServers,delete v.iceTransportPolicy,delete v.bundlePolicy,delete v.rtcpMuxPolicy,delete v.sdpSemantics,a._handler=b(),a._handler.run({direction:i,iceParameters:u,iceCandidates:l,dtlsParameters:d,sctpParameters:p,iceServers:f,iceTransportPolicy:h,additionalSettings:v,proprietaryConstraints:g,extendedRtpCapabilities:_}),a._appData=y,a._handleHandler(),a}return v(r,[{key:"close",value:function(){if(!this._closed){w.debug("close()"),this._closed=!0,this._awaitQueue.close(),this._handler.close();var e,t=p(this._producers.values());try{for(t.s();!(e=t.n()).done;)e.value.transportClosed()}catch(c){t.e(c)}finally{t.f()}this._producers.clear();var r,n=p(this._consumers.values());try{for(n.s();!(r=n.n()).done;)r.value.transportClosed()}catch(c){n.e(c)}finally{n.f()}this._consumers.clear();var a,i=p(this._dataProducers.values());try{for(i.s();!(a=i.n()).done;)a.value.transportClosed()}catch(c){i.e(c)}finally{i.f()}this._dataProducers.clear();var o,s=p(this._dataConsumers.values());try{for(s.s();!(o=s.n()).done;)o.value.transportClosed()}catch(c){s.e(c)}finally{s.f()}this._dataConsumers.clear()}}},{key:"getStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new o.InvalidStateError("closed");case 2:return e.abrupt("return",this._handler.getTransportStats());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.iceParameters,w.debug("restartIce()"),!this._closed){e.next=3;break}throw new o.InvalidStateError("closed");case 3:if(r){e.next=5;break}throw new TypeError("missing iceParameters");case 5:return e.abrupt("return",this._awaitQueue.push(s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._handler.restartIce(r));case 1:case"end":return e.stop()}}),e)})))));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(){var t,r,n=this,a=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},r=t.iceServers,w.debug("updateIceServers()"),!this._closed){e.next=3;break}throw new o.InvalidStateError("closed");case 3:if(Array.isArray(r)){e.next=5;break}throw new TypeError("missing iceServers");case 5:return e.abrupt("return",this._awaitQueue.push(s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._handler.updateIceServers(r));case 1:case"end":return e.stop()}}),e)})))));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"produce",value:function(){var e=s(h.mark((function e(){var t,r,n,a,i,c,u,l,p,m,v,g,y,b=this,_=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.length>0&&void 0!==_[0]?_[0]:{},r=t.track,n=t.encodings,a=t.codecOptions,i=t.codec,c=t.stopTracks,u=void 0===c||c,l=t.disableTrackOnPause,p=void 0===l||l,m=t.zeroRtpOnPause,v=void 0!==m&&m,g=t.appData,y=void 0===g?{}:g,w.debug("produce() [track:%o]",r),r){e.next=3;break}throw new TypeError("missing track");case 3:if("send"===this._direction){e.next=5;break}throw new o.UnsupportedError("not a sending Transport");case 5:if(this._canProduceByKind[r.kind]){e.next=7;break}throw new o.UnsupportedError("cannot produce "+r.kind);case 7:if("ended"!==r.readyState){e.next=9;break}throw new o.InvalidStateError("track ended");case 9:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=11;break}throw new TypeError('no "connect" listener set into this transport');case 11:if(0!==this.listenerCount("produce")){e.next=13;break}throw new TypeError('no "produce" listener set into this transport');case 13:if(!y||"object"==typeof y){e.next=15;break}throw new TypeError("if given, appData must be an object");case 15:return e.abrupt("return",this._awaitQueue.push(s(h.mark((function e(){var t,o,s,c,l,m,g,w;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||Array.isArray(n)){e.next=2;break}throw TypeError("encodings must be an array");case 2:return n&&0===n.length?t=void 0:n&&(t=n.map((function(e){var t={active:!0};return!1===e.active&&(t.active=!1),"boolean"==typeof e.dtx&&(t.dtx=e.dtx),"string"==typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"==typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"==typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"==typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"==typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"==typeof e.priority&&(t.priority=e.priority),"string"==typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t}))),e.next=5,b._handler.send({track:r,encodings:t,codecOptions:a,codec:i});case 5:return o=e.sent,s=o.localId,c=o.rtpParameters,l=o.rtpSender,e.prev=9,d.validateRtpParameters(c),e.next=13,b.safeEmitAsPromise("produce",{kind:r.kind,rtpParameters:c,appData:y});case 13:return m=e.sent,g=m.id,w=new f.Producer({id:g,localId:s,rtpSender:l,track:r,rtpParameters:c,stopTracks:u,disableTrackOnPause:p,zeroRtpOnPause:v,appData:y}),e.abrupt("return",(b._producers.set(w.id,w),b._handleProducer(w),w));case 19:throw e.prev=19,e.t0=e.catch(9),b._handler.stopSending(s).catch((function(){})),e.t0;case 22:case"end":return e.stop()}}),e,null,[[9,19]])})))).catch((function(e){if(u)try{r.stop()}catch(r){}throw e})));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"consume",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,c,u,l=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.producerId,a=t.kind,i=t.rtpParameters,c=t.appData,u=void 0===c?{}:c,w.debug("consume()"),!this._closed){e.next=3;break}throw new o.InvalidStateError("closed");case 3:if("recv"===this._direction){e.next=5;break}throw new o.UnsupportedError("not a receiving Transport");case 5:if("string"==typeof r){e.next=7;break}throw new TypeError("missing id");case 7:if("string"==typeof n){e.next=9;break}throw new TypeError("missing producerId");case 9:if("audio"===a||"video"===a){e.next=11;break}throw new TypeError("invalid kind '".concat(a,"'"));case 11:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=13;break}throw new TypeError('no "connect" listener set into this transport');case 13:if(!u||"object"==typeof u){e.next=15;break}throw new TypeError("if given, appData must be an object");case 15:return e.abrupt("return",this._awaitQueue.push(s(h.mark((function e(){var t,s,c,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.canReceive(i,l._extendedRtpCapabilities)){e.next=2;break}throw new o.UnsupportedError("cannot consume this Producer");case 2:return e.next=4,l._handler.receive({trackId:r,kind:a,rtpParameters:i});case 4:if(t=e.sent,s=t.localId,c=t.rtpReceiver,p=t.track,f=new g.Consumer({id:r,localId:s,producerId:n,rtpReceiver:c,track:p,rtpParameters:i,appData:u}),l._consumers.set(f.id,f),l._handleConsumer(f),l._probatorConsumerCreated||"video"!==a){e.next=21;break}return e.prev=10,m=d.generateProbatorRtpParameters(f.rtpParameters),e.next=14,l._handler.receive({trackId:"probator",kind:"video",rtpParameters:m});case 14:w.debug("consume() | Consumer for RTP probation created"),l._probatorConsumerCreated=!0,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),w.error("consume() | failed to create Consumer for RTP probation:%o",e.t0);case 21:return e.abrupt("return",f);case 22:case"end":return e.stop()}}),e,null,[[10,18]])})))));case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"produceData",value:function(){var e=s(h.mark((function e(){var t,r,n,a,i,c,u,l,p,f,m,v,g,b=this,_=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.length>0&&void 0!==_[0]?_[0]:{},r=t.ordered,n=void 0===r||r,a=t.maxPacketLifeTime,i=t.maxRetransmits,c=t.priority,u=void 0===c?"low":c,l=t.label,p=void 0===l?"":l,f=t.protocol,m=void 0===f?"":f,v=t.appData,g=void 0===v?{}:v,w.debug("produceData()"),"send"===this._direction){e.next=3;break}throw new o.UnsupportedError("not a sending Transport");case 3:if(this._maxSctpMessageSize){e.next=5;break}throw new o.UnsupportedError("SCTP not enabled by remote Transport");case 5:if(["very-low","low","medium","high"].includes(u)){e.next=7;break}throw new TypeError("wrong priority");case 7:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=9;break}throw new TypeError('no "connect" listener set into this transport');case 9:if(0!==this.listenerCount("producedata")){e.next=11;break}throw new TypeError('no "producedata" listener set into this transport');case 11:if(!g||"object"==typeof g){e.next=13;break}throw new TypeError("if given, appData must be an object");case 13:return e.abrupt("return",((a||i)&&(n=!1),this._awaitQueue.push(s(h.mark((function e(){var t,r,o,s,c,l;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b._handler.sendDataChannel({ordered:n,maxPacketLifeTime:a,maxRetransmits:i,priority:u,label:p,protocol:m});case 2:return t=e.sent,r=t.dataChannel,o=t.sctpStreamParameters,d.validateSctpStreamParameters(o),e.next=8,b.safeEmitAsPromise("producedata",{sctpStreamParameters:o,label:p,protocol:m,appData:g});case 8:return s=e.sent,c=s.id,l=new y.DataProducer({id:c,dataChannel:r,sctpStreamParameters:o,appData:g}),e.abrupt("return",(b._dataProducers.set(l.id,l),b._handleDataProducer(l),l));case 12:case"end":return e.stop()}}),e)}))))));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"consumeData",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,c,u,l,p,f,m=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,n=t.dataProducerId,a=t.sctpStreamParameters,i=t.label,c=void 0===i?"":i,u=t.protocol,l=void 0===u?"":u,p=t.appData,f=void 0===p?{}:p,w.debug("consumeData()"),!this._closed){e.next=3;break}throw new o.InvalidStateError("closed");case 3:if("recv"===this._direction){e.next=5;break}throw new o.UnsupportedError("not a receiving Transport");case 5:if(this._maxSctpMessageSize){e.next=7;break}throw new o.UnsupportedError("SCTP not enabled by remote Transport");case 7:if("string"==typeof r){e.next=9;break}throw new TypeError("missing id");case 9:if("string"==typeof n){e.next=11;break}throw new TypeError("missing dataProducerId");case 11:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=13;break}throw new TypeError('no "connect" listener set into this transport');case 13:if(!f||"object"==typeof f){e.next=15;break}throw new TypeError("if given, appData must be an object");case 15:return e.abrupt("return",(d.validateSctpStreamParameters(a),this._awaitQueue.push(s(h.mark((function e(){var t,i,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m._handler.receiveDataChannel({sctpStreamParameters:a,label:c,protocol:l});case 2:return t=e.sent,i=t.dataChannel,o=new b.DataConsumer({id:r,dataProducerId:n,dataChannel:i,sctpStreamParameters:a,appData:f}),e.abrupt("return",(m._dataConsumers.set(o.id,o),m._handleDataConsumer(o),o));case 6:case"end":return e.stop()}}),e)}))))));case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_handleHandler",value:function(){var e=this,t=this._handler;t.on("@connect",(function(t,r,n){var a=t.dtlsParameters;e._closed?n(new o.InvalidStateError("closed")):e.safeEmit("connect",{dtlsParameters:a},r,n)})),t.on("@connectionstatechange",(function(t){t!==e._connectionState&&(w.debug("connection state changed to %s",t),e._connectionState=t,e._closed||e.safeEmit("connectionstatechange",t))}))}},{key:"_handleProducer",value:function(e){var t=this;e.on("@close",(function(){t._producers.delete(e.id),t._closed||t._awaitQueue.push(s(h.mark((function r(){return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.stopSending(e.localId));case 1:case"end":return r.stop()}}),r)})))).catch((function(e){return w.warn("producer.close() failed:%o",e)}))})),e.on("@replacetrack",(function(r,n,a){t._awaitQueue.push(s(h.mark((function n(){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.replaceTrack(e.localId,r));case 1:case"end":return n.stop()}}),n)})))).then(n).catch(a)})),e.on("@setmaxspatiallayer",(function(r,n,a){t._awaitQueue.push(s(h.mark((function n(){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.setMaxSpatialLayer(e.localId,r));case 1:case"end":return n.stop()}}),n)})))).then(n).catch(a)})),e.on("@setrtpencodingparameters",(function(r,n,a){t._awaitQueue.push(s(h.mark((function n(){return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.setRtpEncodingParameters(e.localId,r));case 1:case"end":return n.stop()}}),n)})))).then(n).catch(a)})),e.on("@getstats",(function(r,n){if(t._closed)return n(new o.InvalidStateError("closed"));t._handler.getSenderStats(e.localId).then(r).catch(n)}))}},{key:"_handleConsumer",value:function(e){var t=this;e.on("@close",(function(){t._consumers.delete(e.id),t._closed||t._awaitQueue.push(s(h.mark((function r(){return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.stopReceiving(e.localId));case 1:case"end":return r.stop()}}),r)})))).catch((function(){}))})),e.on("@getstats",(function(r,n){if(t._closed)return n(new o.InvalidStateError("closed"));t._handler.getReceiverStats(e.localId).then(r).catch(n)}))}},{key:"_handleDataProducer",value:function(e){var t=this;e.on("@close",(function(){t._dataProducers.delete(e.id)}))}},{key:"_handleDataConsumer",value:function(e){var t=this;e.on("@close",(function(){t._dataConsumers.delete(e.id)}))}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"direction",get:function(){return this._direction}},{key:"handler",get:function(){return this._handler}},{key:"connectionState",get:function(){return this._connectionState}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}}]),r}(i.EnhancedEventEmitter);t.Transport=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=r(9),i=r(4),o=new n.Logger("Producer"),d=function(t){u(n,t);var r=l(n);function n(e){var t,a=e.id,i=e.localId,s=e.rtpSender,u=e.track,l=e.rtpParameters,d=e.stopTracks,p=e.disableTrackOnPause,f=e.zeroRtpOnPause,h=e.appData;return m(this,n),(t=r.call(this))._closed=!1,o.debug("constructor()"),t._id=a,t._localId=i,t._rtpSender=s,t._track=u,t._kind=u.kind,t._rtpParameters=l,t._paused=!!p&&!u.enabled,t._maxSpatialLayer=void 0,t._stopTracks=d,t._disableTrackOnPause=p,t._zeroRtpOnPause=f,t._appData=h,t._onTrackEnded=t._onTrackEnded.bind(c(t)),t._handleTrack(),t}return v(n,[{key:"close",value:function(){this._closed||(o.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"))}},{key:"transportClosed",value:function(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"))}},{key:"getStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new i.InvalidStateError("closed");case 2:return e.abrupt("return",this.safeEmitAsPromise("@getstats"));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"pause",value:function(){o.debug("pause()"),this._closed?o.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",null).catch((function(){})))}},{key:"resume",value:function(){o.debug("resume()"),this._closed?o.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",this._track).catch((function(){})))}},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.track,o.debug("replaceTrack() [track:%o]",r),!this._closed){e.next=4;break}if(r&&this._stopTracks)try{r.stop()}catch(r){}throw new i.InvalidStateError("closed");case 4:if(!r||"ended"!==r.readyState){e.next=6;break}throw new i.InvalidStateError("track ended");case 6:if(r===this._track){e.next=17;break}if(e.t0=this._zeroRtpOnPause&&this._paused,e.t0){e.next=11;break}return e.next=11,this.safeEmitAsPromise("@replacetrack",r);case 11:this._destroyTrack(),this._track=r,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this._handleTrack(),e.next=18;break;case 17:o.debug("replaceTrack() | same track, ignored");case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new i.InvalidStateError("closed");case 2:if("video"===this._kind){e.next=4;break}throw new i.UnsupportedError("not a video Producer");case 4:if("number"==typeof t){e.next=6;break}throw new TypeError("invalid spatialLayer");case 6:if(e.t0=t!==this._maxSpatialLayer,!e.t0){e.next=11;break}return e.next=10,this.safeEmitAsPromise("@setmaxspatiallayer",t);case 10:this._maxSpatialLayer=t;case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new i.InvalidStateError("closed");case 2:if("object"==typeof t){e.next=4;break}throw new TypeError("invalid params");case 4:return e.next=6,this.safeEmitAsPromise("@setrtpencodingparameters",t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_onTrackEnded",value:function(){o.debug('track "ended" event'),this.safeEmit("trackended")}},{key:"_handleTrack",value:function(){this._track&&this._track.addEventListener("ended",this._onTrackEnded)}},{key:"_destroyTrack",value:function(){if(this._track)try{this._track.removeEventListener("ended",this._onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}},{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._kind}},{key:"rtpSender",get:function(){return this._rtpSender}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"maxSpatialLayer",get:function(){return this._maxSpatialLayer}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}}]),n}(a.EnhancedEventEmitter);t.Producer=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=r(9),i=r(4),o=new n.Logger("Consumer"),d=function(t){u(n,t);var r=l(n);function n(e){var t,a=e.id,i=e.localId,s=e.producerId,u=e.rtpReceiver,l=e.track,d=e.rtpParameters,p=e.appData;return m(this,n),(t=r.call(this))._closed=!1,o.debug("constructor()"),t._id=a,t._localId=i,t._producerId=s,t._rtpReceiver=u,t._track=l,t._rtpParameters=d,t._paused=!l.enabled,t._appData=p,t._onTrackEnded=t._onTrackEnded.bind(c(t)),t._handleTrack(),t}return v(n,[{key:"close",value:function(){this._closed||(o.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"))}},{key:"transportClosed",value:function(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"))}},{key:"getStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new i.InvalidStateError("closed");case 2:return e.abrupt("return",this.safeEmitAsPromise("@getstats"));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"pause",value:function(){o.debug("pause()"),this._closed?o.error("pause() | Consumer closed"):(this._paused=!0,this._track.enabled=!1)}},{key:"resume",value:function(){o.debug("resume()"),this._closed?o.error("resume() | Consumer closed"):(this._paused=!1,this._track.enabled=!0)}},{key:"_onTrackEnded",value:function(){o.debug('track "ended" event'),this.safeEmit("trackended")}},{key:"_handleTrack",value:function(){this._track.addEventListener("ended",this._onTrackEnded)}},{key:"_destroyTrack",value:function(){try{this._track.removeEventListener("ended",this._onTrackEnded),this._track.stop()}catch(e){}}},{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"producerId",get:function(){return this._producerId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._track.kind}},{key:"rtpReceiver",get:function(){return this._rtpReceiver}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}}]),n}(a.EnhancedEventEmitter);t.Consumer=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=r(9),i=r(4),o=new n.Logger("DataProducer"),s=function(e){u(r,e);var t=l(r);function r(e){var n,a=e.id,i=e.dataChannel,s=e.sctpStreamParameters,c=e.appData;return m(this,r),(n=t.call(this))._closed=!1,o.debug("constructor()"),n._id=a,n._dataChannel=i,n._sctpStreamParameters=s,n._appData=c,n._handleDataChannel(),n}return v(r,[{key:"close",value:function(){this._closed||(o.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"))}},{key:"transportClosed",value:function(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"))}},{key:"send",value:function(e){if(o.debug("send()"),this._closed)throw new i.InvalidStateError("closed");this._dataChannel.send(e)}},{key:"_handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener("open",(function(){e._closed||(o.debug('DataChannel "open" event'),e.safeEmit("open"))})),this._dataChannel.addEventListener("error",(function(t){if(!e._closed){var r=t.error;r||(r=new Error("unknown DataChannel error")),"sctp-failure"===r.errorDetail?o.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):o.error('DataChannel "error" event: %o',r),e.safeEmit("error",r)}})),this._dataChannel.addEventListener("close",(function(){e._closed||(o.warn('DataChannel "close" event'),e._closed=!0,e.emit("@close"),e.safeEmit("close"))})),this._dataChannel.addEventListener("message",(function(){e._closed||o.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(function(){e._closed||e.safeEmit("bufferedamountlow")}))}},{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"bufferedAmount",get:function(){return this._dataChannel.bufferedAmount}},{key:"bufferedAmountLowThreshold",get:function(){return this._dataChannel.bufferedAmountLowThreshold},set:function(e){this._dataChannel.bufferedAmountLowThreshold=e}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}}]),r}(a.EnhancedEventEmitter);t.DataProducer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=r(9),i=new n.Logger("DataConsumer"),o=function(e){u(r,e);var t=l(r);function r(e){var n,a=e.id,o=e.dataProducerId,s=e.dataChannel,c=e.sctpStreamParameters,u=e.appData;return m(this,r),(n=t.call(this))._closed=!1,i.debug("constructor()"),n._id=a,n._dataProducerId=o,n._dataChannel=s,n._sctpStreamParameters=c,n._appData=u,n._handleDataChannel(),n}return v(r,[{key:"close",value:function(){this._closed||(i.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"))}},{key:"transportClosed",value:function(){this._closed||(i.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"))}},{key:"_handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener("open",(function(){e._closed||(i.debug('DataChannel "open" event'),e.safeEmit("open"))})),this._dataChannel.addEventListener("error",(function(t){if(!e._closed){var r=t.error;r||(r=new Error("unknown DataChannel error")),"sctp-failure"===r.errorDetail?i.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",r.sctpCauseCode,r.message):i.error('DataChannel "error" event: %o',r),e.safeEmit("error",r)}})),this._dataChannel.addEventListener("close",(function(){e._closed||(i.warn('DataChannel "close" event'),e._closed=!0,e.emit("@close"),e.safeEmit("close"))})),this._dataChannel.addEventListener("message",(function(t){e._closed||e.safeEmit("message",t.data)}))}},{key:"id",get:function(){return this._id}},{key:"dataProducerId",get:function(){return this._dataProducerId}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"binaryType",get:function(){return this._dataChannel.binaryType},set:function(e){this._dataChannel.binaryType=e}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}}]),r}(a.EnhancedEventEmitter);t.DataConsumer=o},function(e,t){var r=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(r).forEach((function(e){r[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16);t.Device=n.Device,t.detectDevice=n.detectDevice;var a=r(44);t.types=a,t.version="3.6.10";var i=r(13);t.parseScalabilityMode=i.parse},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return(a?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!a).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var a=n(e.split("/")),i=n(r.split("/")),o=Math.min(a.length,i.length),s=o,c=0;c<o;c++)if(a[c]!==i[c]){s=c;break}var u=[];for(c=s;c<a.length;c++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){n=i;break}}else a=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){r=t+1;break}}else-1===n&&(a=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===n&&(a=!1,n=o+1),46===s?-1===t?t=o:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){r=o+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(17))},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),a=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var a=e.getVersionPrecision(t),i=e.getVersionPrecision(r),o=Math.max(a,i),s=0,c=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=o-Math.min(a,i)),o-=1;o>=s;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===s)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var a=e[r];if(t(a,r))return a}},e.assign=function(e){for(var t,r,n=e,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=a,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new a.default(e,t)},e.parse=function(e){return new a.default(e).getResult()},(t=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}])&&o(e,t),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),a=c(r(93)),i=c(r(94)),o=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,a={},i=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(a[t]=o,i+=1):"object"==typeof o&&(r[t]=o,n+=1)})),n>0){var o=Object.keys(r),c=s.default.find(o,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=s.default.find(o,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(r[l]);if(void 0!==d)return d}}if(i>0){var p=Object.keys(a),f=s.default.find(p,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(a[f])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),a=s.default.getBrowserTypeByAlias(n);return t&&a&&(n=a.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(a,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=a.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=a.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:i.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=a.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=a.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=o,e.exports=t.default}})},function(e,t,r){e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function o(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(o.enabled){var i=o,s=Number(new Date),c=s-(r||s);i.diff=c,i.prev=r,i.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;u++;var a=n.formatters[r];if("function"==typeof a){var o=t[u];e=a.call(i,o),t.splice(u,1),u--}return e})),n.formatArgs.call(i,t),(i.log||n.log).apply(i,t)}}return o.namespace=e,o.enabled=n.enabled(e),o.useColors=n.useColors(),o.color=t(e),o.destroy=a,o.extend=i,"function"==typeof n.init&&n.init(o),n.instances.push(o),o}function a(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){var r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){var e=[].concat(f(n.names.map(o)),f(n.skips.map(o).map((function(e){return"-"+e})))).join(",");return n.enable(""),e},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),a=r.length;for(t=0;t<a;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(28),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=1e3,n=6e4,a=60*n,i=24*a;function o(e,t,r,n){var a=t>=1.5*r;return Math.round(e/r)+" "+n+(a?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*a;case"minutes":case"minute":case"mins":case"min":case"m":return o*n;case"seconds":case"second":case"secs":case"sec":case"s":return o*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=i?o(e,t,i,"day"):t>=a?o(e,t,a,"hour"):t>=n?o(e,t,n,"minute"):t>=r?o(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=a?Math.round(e/a)+"h":t>=n?Math.round(e/n)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(12)("h264-profile-level-id");n.log=console.info.bind(console),t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5,t.Level1_b=0,t.Level1=10,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;var a=function e(t,r){"use strict";m(this,e),this.profile=t,this.level=r};t.ProfileLevelId=a;var i=new a(1,31),o=function(){"use strict";function e(t){m(this,e),this._mask=~u("x",t),this._maskedValue=u("1",t)}return v(e,[{key:"isMatch",value:function(e){return this._maskedValue===(e&this._mask)}}]),e}(),s=function e(t,r,n){"use strict";m(this,e),this.profile_idc=t,this.profile_iop=r,this.profile=n},c=[new s(66,new o("x1xx0000"),1),new s(77,new o("1xxx0000"),1),new s(88,new o("11xx0000"),1),new s(66,new o("x0xx0000"),2),new s(88,new o("10xx0000"),2),new s(77,new o("0x0x0000"),3),new s(100,new o("00000000"),5),new s(100,new o("00001100"),4)];function u(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function l(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["level-asymmetry-allowed"];return 1===e||"1"===e}t.parseProfileLevelId=function(e){if("string"!=typeof e||6!==e.length)return null;var t=parseInt(e,16);if(0===t)return null;var r,i=255&t,o=t>>8&255,s=t>>16&255;switch(i){case 11:r=0!=(16&o)?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:r=i;break;default:return n("parseProfileLevelId() | unrecognized level_idc:%s",i),null}var u,l=p(c);try{for(l.s();!(u=l.n()).done;){var d=u.value;if(s===d.profile_idc&&d.profile_iop.isMatch(o))return new a(d.profile,r)}}catch(f){l.e(f)}finally{l.f()}return n("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},t.profileLevelIdToString=function(e){if(0==e.level)switch(e.profile){case 1:return"42f00b";case 2:return"42100b";case 3:return"4d100b";default:return n("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",e.profile),null}var t;switch(e.profile){case 1:t="42e0";break;case 2:t="4200";break;case 3:t="4d00";break;case 4:t="640c";break;case 5:t="6400";break;default:return n("profileLevelIdToString() | unrecognized profile:%s",e.profile),null}var r=e.level.toString(16);return 1===r.length&&(r="0"+r),"".concat(t).concat(r)},t.parseSdpProfileLevelId=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})["profile-level-id"];return e?t.parseProfileLevelId(e):i},t.isSameProfile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.parseSdpProfileLevelId(e),a=t.parseSdpProfileLevelId(r);return Boolean(n&&a&&n.profile===a.profile)},t.generateProfileLevelIdForAnswer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e["profile-level-id"]&&!r["profile-level-id"])return n("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;var i=t.parseSdpProfileLevelId(e),o=t.parseSdpProfileLevelId(r);if(!i)throw new TypeError("invalid local_profile_level_id");if(!o)throw new TypeError("invalid remote_profile_level_id");if(i.profile!==o.profile)throw new TypeError("H264 Profile mismatch");var s,c,u=l(e)&&l(r),d=i.level,p=function(e,t){return 0===e?10!==t&&0!==t:0===t?10!==e:e<t}(s=d,c=o.level)?s:c,f=u?d:p;return n("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",i.profile,f),t.profileLevelIdToString(new a(i.profile,f))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AwaitQueue=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ClosedErrorClass:Error,StoppedErrorClass:Error},r=t.ClosedErrorClass,n=t.StoppedErrorClass;m(this,e),this.closed=!1,this.pendingTasks=[],this.ClosedErrorClass=Error,this.StoppedErrorClass=Error,this.ClosedErrorClass=r,this.StoppedErrorClass=n}return v(e,[{key:"close",value:function(){this.closed=!0}},{key:"push",value:function(e,t){return n(this,void 0,void 0,h.mark((function r(){var n=this;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("function"==typeof e){r.next=2;break}throw new TypeError("given task is not a function");case 2:return r.abrupt("return",new Promise((function(r,a){var i={task:e,name:t,resolve:r,reject:a,stopped:!1};n.pendingTasks.push(i),1===n.pendingTasks.length&&n.next()})));case 3:case"end":return r.stop()}}),r)})))}},{key:"stop",value:function(){var e,t=p(this.pendingTasks);try{for(t.s();!(e=t.n()).done;){var r=e.value;r.stopped=!0,r.reject(new this.StoppedErrorClass("AwaitQueue stopped"))}}catch(n){t.e(n)}finally{t.f()}this.pendingTasks.length=0}},{key:"dump",value:function(){return this.pendingTasks.map((function(e){return{task:e.task,name:e.name,stopped:e.stopped}}))}},{key:"next",value:function(){return n(this,void 0,void 0,h.mark((function e(){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.pendingTasks[0],e.t0=t,!e.t0){e.next=7;break}return e.next=5,this.executeTask(t);case 5:this.pendingTasks.shift(),this.next();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"executeTask",value:function(e){return n(this,void 0,void 0,h.mark((function t(){var r;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.closed){t.next=4;break}e.reject(new this.ClosedErrorClass("AwaitQueue closed")),t.next=23;break;case 4:if(e.stopped){t.next=23;break}return t.prev=5,t.next=8,e.task();case 8:if(r=t.sent,!this.closed){t.next=11;break}return t.abrupt("return",void e.reject(new this.ClosedErrorClass("AwaitQueue closed")));case 11:if(!e.stopped){t.next=13;break}return t.abrupt("return");case 13:e.resolve(r),t.next=23;break;case 16:if(t.prev=16,t.t0=t.catch(5),!this.closed){t.next=20;break}return t.abrupt("return",void e.reject(new this.ClosedErrorClass("AwaitQueue closed")));case 20:if(!e.stopped){t.next=22;break}return t.abrupt("return");case 22:e.reject(t.t0);case 23:case"end":return t.stop()}}),t,this,[[5,16]])})))}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(2),c=r(3),d=r(7),f=r(10),g=r(6),y=r(8),b=r(13),w=new a.Logger("Chrome74"),_={OS:1024,MIS:1024},k=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=6,t.createOffer();case 6:r=e.sent;try{t.close()}catch(t){}return a=n.parse(r.sdp),e.abrupt("return",d.extractRtpCapabilities({sdpObject:a}));case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(t){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(w.debug("getNativeSctpCapabilities()"),{numStreams:_}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,u=e.iceServers,l=e.iceTransportPolicy,d=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;w.debug("run()"),this._direction=r,this._remoteSdp=new y.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",f),video:c.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",f),video:c.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:u||[],iceTransportPolicy:l||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},d),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,s,u,l,m,v,g,y,_,k,S,x,R,E,C,T;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,i=t.codecOptions,s=t.codec,this._assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),a&&a.length>1&&a.forEach((function(e,t){e.rid="r"+t})),(u=o.clone(this._sendingRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(u.codecs,s),(l=o.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(l.codecs,s),m=this._remoteSdp.getNextMediaSectionIdx(),v=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream],sendEncodings:a}),e.next=9,this._pc.createOffer();case 9:if(y=e.sent,_=n.parse(y.sdp),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:_});case 15:return k=!1,S=b.parse((a||[{}])[0].scalabilityMode),a&&1===a.length&&S.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),k=!0,_=n.parse(y.sdp),g=_.media[m.idx],f.addLegacySimulcast({offerMediaObject:g,numStreams:S.spatialLayers}),y={type:"offer",sdp:n.write(_)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),e.next=21,this._pc.setLocalDescription(y);case 21:if(x=v.mid,u.mid=x,_=n.parse(this._pc.localDescription.sdp),g=_.media[m.idx],u.rtcp.cname=d.getCname({offerMediaObject:g}),a?1===a.length?(R=f.getRtpEncodings({offerMediaObject:g}),Object.assign(R[0],a[0]),k&&(R=[R[0]]),u.encodings=R):u.encodings=a:u.encodings=f.getRtpEncodings({offerMediaObject:g}),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){E=p(u.encodings);try{for(E.s();!(C=E.n()).done;)C.value.scalabilityMode="S1T3"}catch(h){E.e(h)}finally{E.f()}}return this._remoteSdp.send({offerMediaObject:g,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:i,extmapAllowMixed:!0}),T={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",T),e.next=29,this._pc.setRemoteDescription(T);case 29:return this._mapMidTransceiver.set(x,v),e.abrupt("return",{localId:x,rtpParameters:u,rtpSender:v.sender});case 31:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid),e.next=7,this._pc.createOffer();case 7:return n=e.sent,w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return a={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=15,this._pc.setRemoteDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r?w.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):w.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.next=6,n.sender.replaceTrack(r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=8,n.sender.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){a.encodings[t]=i(i({},e),r)})),e.next=8,n.sender.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmits:i,protocol:s,priority:c},w.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,p;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),w.debug("receive() [trackId:%s, kind:%s]",r,a),o=i.mid||String(this._mapMidTransceiver.size),this._remoteSdp.receive({mid:o,kind:a,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:r}),s={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),e.next=8,this._pc.setRemoteDescription(s);case 8:return e.next=10,this._pc.createAnswer();case 10:if(c=e.sent,u=n.parse(c.sdp),l=u.media.find((function(e){return String(e.mid)===o})),d.applyCodecParameters({offerRtpParameters:i,answerMediaObject:l}),c={type:"answer",sdp:n.write(u)},e.t0=this._transportReady,e.t0){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:u});case 18:return w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",c),e.next=21,this._pc.setLocalDescription(c);case 21:if(p=this._pc.getTransceivers().find((function(e){return e.mid===o}))){e.next=24;break}throw new Error("new RTCRtpTransceiver not found");case 24:return e.abrupt("return",(this._mapMidTransceiver.set(o,p),{localId:o,track:p.receiver.track,rtpReceiver:p.receiver}));case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),w.debug("stopReceiving() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return this._remoteSdp.closeMediaSection(r.mid),n={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),e.next=9,this._pc.setRemoteDescription(n);case 9:return e.next=11,this._pc.createAnswer();case 11:return a=e.sent,w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=15,this._pc.setLocalDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmits:u,protocol:i},w.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=d.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"Chrome74"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(g.HandlerInterface);t.Chrome74=k},function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},a=function(e,t,r){var a=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:a&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:a?t[e.name]:t;!function(e,t,r,a){if(a&&!r)t[a]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=r(23),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var c=i[t][s];if(c.reg.test(o))return a(c,n,o)}})),t.media=r,t};var s=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),a=0;a<r.length;a+=3)t.push({component:r[a],ip:r[a+1],port:r[a+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},function(e,t,r){var n=r(23),a=/%[sdv%]/g,i=function(e){var t=1,r=arguments,n=r.length;return e.replace(a,(function(e){if(t>=n)return e;var a=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}}))},o=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?n.push(r[t.name][o]):n.push(r[t.names[a]])}else n.push(r[t.name]);return i.apply(null,n)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||s,a=t.innerOrder||c,i=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))})),e.media.forEach((function(e){i.push(o("m",n.m[0],e)),a.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(o(t,r,e))}))}))}))})),i.join("\r\n")+"\r\n"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=function(){function e(t){var r=t.iceParameters,n=t.iceCandidates,a=t.dtlsParameters,i=t.planB,o=void 0!==i&&i;if(m(this,e),this._mediaObject={},this._planB=o,r&&this.setIceParameters(r),n){this._mediaObject.candidates=[];var s,c=p(n);try{for(c.s();!(s=c.n()).done;){var u=s.value,l={component:1};l.foundation=u.foundation,l.ip=u.ip,l.port=u.port,l.priority=u.priority,l.transport=u.protocol,l.type=u.type,u.tcpType&&(l.tcptype=u.tcpType),this._mediaObject.candidates.push(l)}}catch(d){c.e(d)}finally{c.f()}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}a&&this.setDtlsRole(a.role)}return v(e,[{key:"getObject",value:function(){return this._mediaObject}},{key:"setIceParameters",value:function(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}},{key:"disable",value:function(){this._mediaObject.direction="inactive",delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids}},{key:"close",value:function(){this._mediaObject.direction="inactive",this._mediaObject.port=0,delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}},{key:"mid",get:function(){return String(this._mediaObject.mid)}},{key:"closed",get:function(){return 0===this._mediaObject.port}}]),e}();function i(e){var t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.MediaSection=a,t.AnswerMediaSection=function(e){u(r,e);var t=l(r);function r(e){var a,o=e.iceParameters,s=e.iceCandidates,c=e.dtlsParameters,u=e.sctpParameters,l=e.plainRtpParameters,d=e.planB,f=void 0!==d&&d,h=e.offerMediaObject,v=e.offerRtpParameters,g=e.answerRtpParameters,y=e.codecOptions,b=e.extmapAllowMixed,w=void 0!==b&&b;switch(m(this,r),(a=t.call(this,{iceParameters:o,iceCandidates:s,dtlsParameters:c,planB:f}))._mediaObject.mid=String(h.mid),a._mediaObject.type=h.type,a._mediaObject.protocol=h.protocol,l?(a._mediaObject.connection={ip:l.ip,version:l.ipVersion},a._mediaObject.port=l.port):(a._mediaObject.connection={ip:"127.0.0.1",version:4},a._mediaObject.port=7),h.type){case"audio":case"video":a._mediaObject.direction="recvonly",a._mediaObject.rtp=[],a._mediaObject.rtcpFb=[],a._mediaObject.fmtp=[];var _,k=p(g.codecs);try{var S=function(){var e=_.value,t={payload:e.payloadType,codec:i(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),a._mediaObject.rtp.push(t);var r=n.clone(e.parameters||{});if(y){var o=y.opusStereo,s=y.opusFec,c=y.opusDtx,u=y.opusMaxPlaybackRate,l=y.opusPtime,d=y.videoGoogleStartBitrate,f=y.videoGoogleMaxBitrate,h=y.videoGoogleMinBitrate,m=v.codecs.find((function(t){return t.payloadType===e.payloadType}));switch(e.mimeType.toLowerCase()){case"audio/opus":void 0!==o&&(m.parameters["sprop-stereo"]=o?1:0,r.stereo=o?1:0),void 0!==s&&(m.parameters.useinbandfec=s?1:0,r.useinbandfec=s?1:0),void 0!==c&&(m.parameters.usedtx=c?1:0,r.usedtx=c?1:0),void 0!==u&&(r.maxplaybackrate=u),void 0!==l&&(m.parameters.ptime=l,r.ptime=l);break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==d&&(r["x-google-start-bitrate"]=d),void 0!==f&&(r["x-google-max-bitrate"]=f),void 0!==h&&(r["x-google-min-bitrate"]=h)}}for(var g={payload:e.payloadType,config:""},b=0,w=Object.keys(r);b<w.length;b++){var k=w[b];g.config&&(g.config+=";"),g.config+="".concat(k,"=").concat(r[k])}g.config&&a._mediaObject.fmtp.push(g);var S,x=p(e.rtcpFeedback);try{for(x.s();!(S=x.n()).done;){var R=S.value;a._mediaObject.rtcpFb.push({payload:e.payloadType,type:R.type,subtype:R.parameter})}}catch(E){x.e(E)}finally{x.f()}};for(k.s();!(_=k.n()).done;)S()}catch(A){k.e(A)}finally{k.f()}a._mediaObject.payloads=g.codecs.map((function(e){return e.payloadType})).join(" "),a._mediaObject.ext=[];var x,R=p(g.headerExtensions);try{var E=function(){var e=x.value;(h.ext||[]).some((function(t){return t.uri===e.uri}))&&a._mediaObject.ext.push({uri:e.uri,value:e.id})};for(R.s();!(x=R.n()).done;)E()}catch(A){R.e(A)}finally{R.f()}if(w&&"extmap-allow-mixed"===h.extmapAllowMixed&&(a._mediaObject.extmapAllowMixed="extmap-allow-mixed"),h.simulcast){a._mediaObject.simulcast={dir1:"recv",list1:h.simulcast.list1},a._mediaObject.rids=[];var C,T=p(h.rids||[]);try{for(T.s();!(C=T.n()).done;){var P=C.value;"send"===P.direction&&a._mediaObject.rids.push({id:P.id,direction:"recv"})}}catch(A){T.e(A)}finally{T.f()}}else if(h.simulcast_03){a._mediaObject.simulcast_03={value:h.simulcast_03.value.replace(/send/g,"recv")},a._mediaObject.rids=[];var O,I=p(h.rids||[]);try{for(I.s();!(O=I.n()).done;){var D=O.value;"send"===D.direction&&a._mediaObject.rids.push({id:D.id,direction:"recv"})}}catch(A){I.e(A)}finally{I.f()}}a._mediaObject.rtcpMux="rtcp-mux",a._mediaObject.rtcpRsize="rtcp-rsize",a._planB&&"video"===a._mediaObject.type&&(a._mediaObject.xGoogleFlag="conference");break;case"application":"number"==typeof h.sctpPort?(a._mediaObject.payloads="webrtc-datachannel",a._mediaObject.sctpPort=u.port,a._mediaObject.maxMessageSize=u.maxMessageSize):h.sctpmap&&(a._mediaObject.payloads=u.port,a._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:u.port,maxMessageSize:u.maxMessageSize})}return a}return v(r,[{key:"setDtlsRole",value:function(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}}]),r}(a),t.OfferMediaSection=function(e){u(r,e);var t=l(r);function r(e){var n,a=e.iceParameters,o=e.iceCandidates,s=e.dtlsParameters,c=e.sctpParameters,u=e.plainRtpParameters,l=e.planB,d=void 0!==l&&l,f=e.mid,h=e.kind,v=e.offerRtpParameters,g=e.streamId,y=e.trackId,b=e.oldDataChannelSpec,w=void 0!==b&&b;switch(m(this,r),(n=t.call(this,{iceParameters:a,iceCandidates:o,dtlsParameters:s,planB:d}))._mediaObject.mid=String(f),n._mediaObject.type=h,u?(n._mediaObject.connection={ip:u.ip,version:u.ipVersion},n._mediaObject.protocol="RTP/AVP",n._mediaObject.port=u.port):(n._mediaObject.connection={ip:"127.0.0.1",version:4},n._mediaObject.protocol=c?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",n._mediaObject.port=7),h){case"audio":case"video":n._mediaObject.direction="sendonly",n._mediaObject.rtp=[],n._mediaObject.rtcpFb=[],n._mediaObject.fmtp=[],n._planB||(n._mediaObject.msid="".concat(g||"-"," ").concat(y));var _,k=p(v.codecs);try{for(k.s();!(_=k.n()).done;){var S=_.value,x={payload:S.payloadType,codec:i(S),rate:S.clockRate};S.channels>1&&(x.encoding=S.channels),n._mediaObject.rtp.push(x);for(var R={payload:S.payloadType,config:""},E=0,C=Object.keys(S.parameters);E<C.length;E++){var T=C[E];R.config&&(R.config+=";"),R.config+="".concat(T,"=").concat(S.parameters[T])}R.config&&n._mediaObject.fmtp.push(R);var P,O=p(S.rtcpFeedback);try{for(O.s();!(P=O.n()).done;){var I=P.value;n._mediaObject.rtcpFb.push({payload:S.payloadType,type:I.type,subtype:I.parameter})}}catch(j){O.e(j)}finally{O.f()}}}catch(j){k.e(j)}finally{k.f()}n._mediaObject.payloads=v.codecs.map((function(e){return e.payloadType})).join(" "),n._mediaObject.ext=[];var D,A=p(v.headerExtensions);try{for(A.s();!(D=A.n()).done;){var M=D.value;n._mediaObject.ext.push({uri:M.uri,value:M.id})}}catch(j){A.e(j)}finally{A.f()}n._mediaObject.rtcpMux="rtcp-mux",n._mediaObject.rtcpRsize="rtcp-rsize";var L=v.encodings[0],N=L.ssrc,F=L.rtx&&L.rtx.ssrc?L.rtx.ssrc:void 0;n._mediaObject.ssrcs=[],n._mediaObject.ssrcGroups=[],v.rtcp.cname&&n._mediaObject.ssrcs.push({id:N,attribute:"cname",value:v.rtcp.cname}),n._planB&&n._mediaObject.ssrcs.push({id:N,attribute:"msid",value:"".concat(g||"-"," ").concat(y)}),F&&(v.rtcp.cname&&n._mediaObject.ssrcs.push({id:F,attribute:"cname",value:v.rtcp.cname}),n._planB&&n._mediaObject.ssrcs.push({id:F,attribute:"msid",value:"".concat(g||"-"," ").concat(y)}),n._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(N," ").concat(F)}));break;case"application":w?(n._mediaObject.payloads=c.port,n._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:c.port,maxMessageSize:c.maxMessageSize}):(n._mediaObject.payloads="webrtc-datachannel",n._mediaObject.sctpPort=c.port,n._mediaObject.maxMessageSize=c.maxMessageSize)}return n}return v(r,[{key:"setDtlsRole",value:function(e){this._mediaObject.setup="actpass"}},{key:"planBReceive",value:function(e){var t=e.offerRtpParameters,r=e.streamId,n=e.trackId,a=t.encodings[0],i=a.ssrc,o=a.rtx&&a.rtx.ssrc?a.rtx.ssrc:void 0;t.rtcp.cname&&this._mediaObject.ssrcs.push({id:i,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:i,attribute:"msid",value:"".concat(r||"-"," ").concat(n)}),o&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:"".concat(r||"-"," ").concat(n)}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(i," ").concat(o)}))}},{key:"planBStopReceiving",value:function(e){var t=e.offerRtpParameters.encodings[0],r=t.ssrc,n=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((function(e){return e.id!==r&&e.id!==n})),n&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((function(e){return e.ssrcs!=="".concat(r," ").concat(n)})))}}]),r}(a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(2),c=r(3),d=r(7),f=r(10),g=r(6),y=r(8),b=r(13),w=new a.Logger("Chrome70"),_={OS:1024,MIS:1024},k=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=6,t.createOffer();case 6:r=e.sent;try{t.close()}catch(t){}return a=n.parse(r.sdp),e.abrupt("return",d.extractRtpCapabilities({sdpObject:a}));case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(t){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(w.debug("getNativeSctpCapabilities()"),{numStreams:_}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,u=e.iceServers,l=e.iceTransportPolicy,d=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;w.debug("run()"),this._direction=r,this._remoteSdp=new y.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",f),video:c.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",f),video:c.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:u||[],iceTransportPolicy:l||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},d),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,s,u,l,m,v,g,y,_,k,S,x,R,E,C,T,P,O,I,D;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,i=t.codecOptions,s=t.codec,this._assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),(u=o.clone(this._sendingRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(u.codecs,s),(l=o.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(l.codecs,s),m=this._remoteSdp.getNextMediaSectionIdx(),v=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]}),e.next=9,this._pc.createOffer();case 9:if(y=e.sent,_=n.parse(y.sdp),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:_});case 15:return a&&a.length>1&&(w.debug("send() | enabling legacy simulcast"),_=n.parse(y.sdp),g=_.media[m.idx],f.addLegacySimulcast({offerMediaObject:g,numStreams:a.length}),y={type:"offer",sdp:n.write(_)}),k=!1,S=b.parse((a||[{}])[0].scalabilityMode),a&&1===a.length&&S.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(w.debug("send() | enabling legacy simulcast for VP9 SVC"),k=!0,_=n.parse(y.sdp),g=_.media[m.idx],f.addLegacySimulcast({offerMediaObject:g,numStreams:S.spatialLayers}),y={type:"offer",sdp:n.write(_)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),e.next=22,this._pc.setLocalDescription(y);case 22:if(!a){e.next=36;break}w.debug("send() | applying given encodings"),x=v.sender.getParameters(),R=0;case 26:if(!(R<(x.encodings||[]).length)){e.next=34;break}if(E=x.encodings[R],C=a[R]){e.next=30;break}return e.abrupt("break",34);case 30:x.encodings[R]=Object.assign(E,C);case 31:++R,e.next=26;break;case 34:return e.next=36,v.sender.setParameters(x);case 36:if(T=v.mid,u.mid=T,_=n.parse(this._pc.localDescription.sdp),g=_.media[m.idx],u.rtcp.cname=d.getCname({offerMediaObject:g}),u.encodings=f.getRtpEncodings({offerMediaObject:g}),a)for(P=0;P<u.encodings.length;++P)a[P]&&Object.assign(u.encodings[P],a[P]);if(k&&(u.encodings=[u.encodings[0]]),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){O=p(u.encodings);try{for(O.s();!(I=O.n()).done;)I.value.scalabilityMode="S1T3"}catch(h){O.e(h)}finally{O.f()}}return this._remoteSdp.send({offerMediaObject:g,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:i}),D={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",D),e.next=44,this._pc.setRemoteDescription(D);case 44:return this._mapMidTransceiver.set(T,v),e.abrupt("return",{localId:T,rtpParameters:u,rtpSender:v.sender});case 46:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid),e.next=7,this._pc.createOffer();case 7:return n=e.sent,w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return a={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=15,this._pc.setRemoteDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r?w.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):w.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.next=6,n.sender.replaceTrack(r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=8,n.sender.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){a.encodings[t]=i(i({},e),r)})),e.next=8,n.sender.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:i,protocol:s,priority:c},w.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,p;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),w.debug("receive() [trackId:%s, kind:%s]",r,a),o=i.mid||String(this._mapMidTransceiver.size),this._remoteSdp.receive({mid:o,kind:a,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:r}),s={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),e.next=8,this._pc.setRemoteDescription(s);case 8:return e.next=10,this._pc.createAnswer();case 10:if(c=e.sent,u=n.parse(c.sdp),l=u.media.find((function(e){return String(e.mid)===o})),d.applyCodecParameters({offerRtpParameters:i,answerMediaObject:l}),c={type:"answer",sdp:n.write(u)},e.t0=this._transportReady,e.t0){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:u});case 18:return w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",c),e.next=21,this._pc.setLocalDescription(c);case 21:if(p=this._pc.getTransceivers().find((function(e){return e.mid===o}))){e.next=24;break}throw new Error("new RTCRtpTransceiver not found");case 24:return e.abrupt("return",(this._mapMidTransceiver.set(o,p),{localId:o,track:p.receiver.track,rtpReceiver:p.receiver}));case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),w.debug("stopReceiving() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return this._remoteSdp.closeMediaSection(r.mid),n={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),e.next=9,this._pc.setRemoteDescription(n);case 9:return e.next=11,this._pc.createAnswer();case 11:return a=e.sent,w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=15,this._pc.setLocalDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmitTime:c,maxRetransmits:u,protocol:i},w.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=d.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"Chrome70"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(g.HandlerInterface);t.Chrome70=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(2),c=r(3),d=r(7),f=r(11),g=r(6),y=r(8),b=new a.Logger("Chrome67"),w={OS:1024,MIS:1024},_=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(b.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(t){}return a=n.parse(r.sdp),e.abrupt("return",d.extractRtpCapabilities({sdpObject:a}));case 11:e.prev=11,e.t0=e.catch(2);try{t.close()}catch(t){}throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(b.debug("getNativeSctpCapabilities()"),{numStreams:w}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,u=e.iceServers,l=e.iceTransportPolicy,d=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;b.debug("run()"),this._direction=r,this._remoteSdp=new y.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",f),video:c.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",f),video:c.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:u||[],iceTransportPolicy:l||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},d),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,s,u,l,m,v,g,y,w,_,k,S,x;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,i=t.codecOptions,s=t.codec,this._assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),s&&b.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream),e.next=4,this._pc.createOffer();case 4:if(l=e.sent,m=n.parse(l.sdp),(v=o.clone(this._sendingRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(v.codecs),(g=o.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(g.codecs),e.t0=this._transportReady,e.t0){e.next=14;break}return e.next=14,this._setupTransport({localDtlsRole:"server",localSdpObject:m});case 14:return"video"===r.kind&&a&&a.length>1&&(b.debug("send() | enabling simulcast"),m=n.parse(l.sdp),u=m.media.find((function(e){return"video"===e.type})),f.addLegacySimulcast({offerMediaObject:u,track:r,numStreams:a.length}),l={type:"offer",sdp:n.write(m)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),e.next=18,this._pc.setLocalDescription(l);case 18:if(m=n.parse(this._pc.localDescription.sdp),u=m.media.find((function(e){return e.type===r.kind})),v.rtcp.cname=d.getCname({offerMediaObject:u}),v.encodings=f.getRtpEncodings({offerMediaObject:u,track:r}),!a){e.next=24;break}for(y=0;y<v.encodings.length;++y)a[y]&&Object.assign(v.encodings[y],a[y]);case 24:if(v.encodings.length>1&&"video/vp8"===v.codecs[0].mimeType.toLowerCase()){w=p(v.encodings);try{for(w.s();!(_=w.n()).done;)_.value.scalabilityMode="S1T3"}catch(h){w.e(h)}finally{w.f()}}return this._remoteSdp.send({offerMediaObject:u,offerRtpParameters:v,answerRtpParameters:g,codecOptions:i}),k={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),e.next=30,this._pc.setRemoteDescription(k);case 30:return S=String(this._nextSendLocalId),this._nextSendLocalId++,x=this._pc.getSenders().find((function(e){return e.track===r})),e.abrupt("return",(this._mapSendLocalIdRtpSender.set(S,x),{localId:S,rtpParameters:v,rtpSender:x}));case 34:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("stopSending() [localId:%s]",t),r=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return this._pc.removeTrack(r),r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t),e.next=7,this._pc.createOffer();case 7:return n=e.sent,b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=9,e.next=12,this._pc.setLocalDescription(n);case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(9),0!==this._sendStream.getTracks().length){e.next=18;break}return e.abrupt("return",void b.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()));case 18:throw e.t0;case 19:if("stable"!==this._pc.signalingState){e.next=21;break}return e.abrupt("return");case 21:return a={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=25,this._pc.setRemoteDescription(a);case 25:case"end":return e.stop()}}),e,this,[[9,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r?b.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):b.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return a=n.track,e.next=7,n.replaceTrack(r);case 7:a&&this._sendStream.removeTrack(a),r&&this._sendStream.addTrack(r);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return(a=n.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=8,n.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return(a=n.getParameters()).encodings.forEach((function(e,t){a.encodings[t]=i(i({},e),r)})),e.next=8,n.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return e.abrupt("return",r.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:i,protocol:s,priority:c},b.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,p,f;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),b.debug("receive() [trackId:%s, kind:%s]",r,a),o=r,s=a,this._remoteSdp.receive({mid:s,kind:a,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:r}),c={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=8,this._pc.setRemoteDescription(c);case 8:return e.next=10,this._pc.createAnswer();case 10:if(u=e.sent,l=n.parse(u.sdp),p=l.media.find((function(e){return String(e.mid)===s})),d.applyCodecParameters({offerRtpParameters:i,answerMediaObject:p}),u={type:"answer",sdp:n.write(l)},e.t0=this._transportReady,e.t0){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:l});case 18:return b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(f=this._pc.getReceivers().find((function(e){return e.track&&e.track.id===o}))){e.next=24;break}throw new Error("new RTCRtpReceiver not");case 24:return e.abrupt("return",(this._mapRecvLocalIdInfo.set(o,{mid:s,rtpParameters:i,rtpReceiver:f}),{localId:o,track:f.track,rtpReceiver:f}));case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),b.debug("stopReceiving() [localId:%s]",t),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.mid,a=r.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:n,offerRtpParameters:a}),i={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),e.next=7,this._pc.setRemoteDescription(i);case 7:return e.next=9,this._pc.createAnswer();case 9:return o=e.sent,b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",o),e.next=13,this._pc.setLocalDescription(o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){var r,n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.rtpReceiver){e.next=4;break}throw new Error("associated RTCRtpReceiver not found");case 4:return e.abrupt("return",n.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmitTime:c,maxRetransmits:u,protocol:i},b.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=d.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"Chrome67"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(g.HandlerInterface);t.Chrome67=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(4),c=r(2),d=r(3),f=r(7),g=r(11),y=r(6),b=r(8),w=new a.Logger("Chrome55"),_={OS:1024,MIS:1024},k=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(t){}return a=n.parse(r.sdp),e.abrupt("return",f.extractRtpCapabilities({sdpObject:a}));case 11:e.prev=11,e.t0=e.catch(2);try{t.close()}catch(t){}throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(w.debug("getNativeSctpCapabilities()"),{numStreams:_}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;w.debug("run()"),this._direction=r,this._remoteSdp=new b.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",f),video:d.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",f),video:d.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,u,l,m,v,y,b,_,k,S;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,i=t.codecOptions,o=t.codec,this._assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),o&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addStream(this._sendStream),e.next=4,this._pc.createOffer();case 4:if(u=e.sent,l=n.parse(u.sdp),(m=c.clone(this._sendingRtpParametersByKind[r.kind])).codecs=d.reduceCodecs(m.codecs),(v=c.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=d.reduceCodecs(v.codecs),e.t0=this._transportReady,e.t0){e.next=14;break}return e.next=14,this._setupTransport({localDtlsRole:"server",localSdpObject:l});case 14:return"video"===r.kind&&a&&a.length>1&&(w.debug("send() | enabling simulcast"),l=n.parse(u.sdp),s=l.media.find((function(e){return"video"===e.type})),g.addLegacySimulcast({offerMediaObject:s,track:r,numStreams:a.length}),u={type:"offer",sdp:n.write(l)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=18,this._pc.setLocalDescription(u);case 18:if(l=n.parse(this._pc.localDescription.sdp),s=l.media.find((function(e){return e.type===r.kind})),m.rtcp.cname=f.getCname({offerMediaObject:s}),m.encodings=g.getRtpEncodings({offerMediaObject:s,track:r}),!a){e.next=24;break}for(y=0;y<m.encodings.length;++y)a[y]&&Object.assign(m.encodings[y],a[y]);case 24:if(m.encodings.length>1&&"video/vp8"===m.codecs[0].mimeType.toLowerCase()){b=p(m.encodings);try{for(b.s();!(_=b.n()).done;)_.value.scalabilityMode="S1T3"}catch(h){b.e(h)}finally{b.f()}}return this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:m,answerRtpParameters:v,codecOptions:i}),k={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),e.next=30,this._pc.setRemoteDescription(k);case 30:return S=String(this._nextSendLocalId),e.abrupt("return",(this._nextSendLocalId++,this._mapSendLocalIdTrack.set(S,r),{localId:S,rtpParameters:m}));case 32:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("stopSending() [localId:%s]",t),r=this._mapSendLocalIdTrack.get(t)){e.next=4;break}throw new Error("track not found");case 4:return this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream),e.next=7,this._pc.createOffer();case 7:return n=e.sent,w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=9,e.next=12,this._pc.setLocalDescription(n);case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(9),0!==this._sendStream.getTracks().length){e.next=18;break}return e.abrupt("return",void w.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()));case 18:throw e.t0;case 19:if("stable"!==this._pc.signalingState){e.next=21;break}return e.abrupt("return");case 21:return a={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=25,this._pc.setRemoteDescription(a);case 25:case"end":return e.stop()}}),e,this,[[9,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError(" not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:i,protocol:s,priority:c},w.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),w.debug("receive() [trackId:%s, kind:%s]",r,a),o=r,s=a,c=i.rtcp.cname,this._remoteSdp.receive({mid:s,kind:a,offerRtpParameters:i,streamId:c,trackId:r}),u={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",u),e.next=8,this._pc.setRemoteDescription(u);case 8:return e.next=10,this._pc.createAnswer();case 10:if(l=e.sent,d=n.parse(l.sdp),p=d.media.find((function(e){return String(e.mid)===s})),f.applyCodecParameters({offerRtpParameters:i,answerMediaObject:p}),l={type:"answer",sdp:n.write(d)},e.t0=this._transportReady,e.t0){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:d});case 18:return w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",l),e.next=21,this._pc.setLocalDescription(l);case 21:if(m=this._pc.getRemoteStreams().find((function(e){return e.id===c})).getTrackById(o)){e.next=24;break}throw new Error("remote track not found");case 24:return e.abrupt("return",(this._mapRecvLocalIdInfo.set(o,{mid:s,rtpParameters:i}),{localId:o,track:m}));case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),w.debug("stopReceiving() [localId:%s]",t),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.mid,a=r.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:n,offerRtpParameters:a}),i={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),e.next=7,this._pc.setRemoteDescription(i);case 7:return e.next=9,this._pc.createAnswer();case 9:return o=e.sent,w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",o),e.next=13,this._pc.setLocalDescription(o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmitTime:c,maxRetransmits:u,protocol:i},w.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=f.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"Chrome55"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(y.HandlerInterface);t.Chrome55=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(4),c=r(2),d=r(3),f=r(7),g=r(10),y=r(6),b=r(8),w=new a.Logger("Firefox60"),_={OS:16,MIS:2048},k=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a,i,o,s,c,u;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),(r=document.createElement("canvas")).getContext("2d"),a=r.captureStream().getVideoTracks()[0],e.prev=4,t.addTransceiver("audio",{direction:"sendrecv"}),i=t.addTransceiver(a,{direction:"sendrecv"}),o=i.sender.getParameters(),s=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}],o.encodings=s,e.next=10,i.sender.setParameters(o);case 10:return e.next=12,t.createOffer();case 12:c=e.sent;try{r.remove()}catch(t){}try{a.stop()}catch(t){}try{t.close()}catch(t){}return u=n.parse(c.sdp),e.abrupt("return",f.extractRtpCapabilities({sdpObject:u}));case 20:e.prev=20,e.t0=e.catch(4);try{r.remove()}catch(t){}try{a.stop()}catch(t){}try{t.close()}catch(t){}throw e.t0;case 26:case"end":return e.stop()}}),e,null,[[4,20]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(w.debug("getNativeSctpCapabilities()"),{numStreams:_}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;w.debug("run()"),this._direction=r,this._remoteSdp=new b.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",f),video:d.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",f),video:d.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},l),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,u,l,m,v,y,b,_,k,S,x,R,E;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.track,a=t.encodings,i=t.codecOptions,o=t.codec,this._assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),a&&a.length>1&&(a.forEach((function(e,t){e.rid="r"+t})),s=c.clone(a).reverse()),(u=c.clone(this._sendingRtpParametersByKind[r.kind])).codecs=d.reduceCodecs(u.codecs,o),(l=c.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=d.reduceCodecs(l.codecs,o),m=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]}),!s){e.next=12;break}return(v=m.sender.getParameters()).encodings=s,e.next=12,m.sender.setParameters(v);case 12:return e.next=14,this._pc.createOffer();case 14:if(y=e.sent,b=n.parse(y.sdp),e.t0=this._transportReady,e.t0){e.next=20;break}return e.next=20,this._setupTransport({localDtlsRole:"client",localSdpObject:b});case 20:return w.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),e.next=23,this._pc.setLocalDescription(y);case 23:if(_=m.mid,u.mid=_,b=n.parse(this._pc.localDescription.sdp),k=b.media[b.media.length-1],u.rtcp.cname=f.getCname({offerMediaObject:k}),a?1===a.length?(S=g.getRtpEncodings({offerMediaObject:k}),Object.assign(S[0],a[0]),u.encodings=S):u.encodings=a:u.encodings=g.getRtpEncodings({offerMediaObject:k}),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){x=p(u.encodings);try{for(x.s();!(R=x.n()).done;)R.value.scalabilityMode="S1T3"}catch(h){x.e(h)}finally{x.f()}}return this._remoteSdp.send({offerMediaObject:k,offerRtpParameters:u,answerRtpParameters:l,codecOptions:i,extmapAllowMixed:!0}),E={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",E),e.next=33,this._pc.setRemoteDescription(E);case 33:return this._mapMidTransceiver.set(_,m),e.abrupt("return",{localId:_,rtpParameters:u,rtpSender:m.sender});case 35:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated transceiver not found");case 4:return r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.disableMediaSection(r.mid),e.next=7,this._pc.createOffer();case 7:return n=e.sent,w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return a={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=15,this._pc.setRemoteDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r?w.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):w.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.next=6,n.sender.replaceTrack(r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated transceiver not found");case 4:return a=n.sender.getParameters(),r=a.encodings.length-1-r,a.encodings.forEach((function(e,t){e.active=t>=r})),e.next=9,n.sender.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){a.encodings[t]=i(i({},e),r)})),e.next=8,n.sender.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmits:i,protocol:s,priority:c},w.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),w.debug("receive() [trackId:%s, kind:%s]",r,a),o=i.mid||String(this._mapMidTransceiver.size),this._remoteSdp.receive({mid:o,kind:a,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:r}),s={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),e.next=8,this._pc.setRemoteDescription(s);case 8:return e.next=10,this._pc.createAnswer();case 10:if(c=e.sent,u=n.parse(c.sdp),l=u.media.find((function(e){return String(e.mid)===o})),f.applyCodecParameters({offerRtpParameters:i,answerMediaObject:l}),c={type:"answer",sdp:n.write(u)},e.t0=this._transportReady,e.t0){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:u});case 18:return w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",c),e.next=21,this._pc.setLocalDescription(c);case 21:if(d=this._pc.getTransceivers().find((function(e){return e.mid===o}))){e.next=24;break}throw new Error("new RTCRtpTransceiver not found");case 24:return e.abrupt("return",(this._mapMidTransceiver.set(o,d),{localId:o,track:d.receiver.track,rtpReceiver:d.receiver}));case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),w.debug("stopReceiving() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return this._remoteSdp.closeMediaSection(r.mid),n={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),e.next=9,this._pc.setRemoteDescription(n);case 9:return e.next=11,this._pc.createAnswer();case 11:return a=e.sent,w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=15,this._pc.setLocalDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmits:u,protocol:i},w.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=f.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"Firefox60"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(y.HandlerInterface);t.Firefox60=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(2),c=r(3),d=r(7),f=r(10),g=r(6),y=r(8),b=new a.Logger("Safari12"),w={OS:1024,MIS:1024},_=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(b.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=6,t.createOffer();case 6:r=e.sent;try{t.close()}catch(t){}return a=n.parse(r.sdp),e.abrupt("return",d.extractRtpCapabilities({sdpObject:a}));case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(t){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(b.debug("getNativeSctpCapabilities()"),{numStreams:w}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,u=e.iceServers,l=e.iceTransportPolicy,d=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;b.debug("run()"),this._direction=r,this._remoteSdp=new y.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",f),video:c.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",f),video:c.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:u||[],iceTransportPolicy:l||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},d),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,s,u,l,m,v,g,y,w,_,k,S,x,R;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,i=t.codecOptions,s=t.codec,this._assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),(u=o.clone(this._sendingRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(u.codecs,s),(l=o.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(l.codecs,s),m=this._remoteSdp.getNextMediaSectionIdx(),v=this._pc.addTransceiver(r,{direction:"sendonly",streams:[this._sendStream]}),e.next=9,this._pc.createOffer();case 9:if(y=e.sent,w=n.parse(y.sdp),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:w});case 15:return a&&a.length>1&&(b.debug("send() | enabling legacy simulcast"),w=n.parse(y.sdp),g=w.media[m.idx],f.addLegacySimulcast({offerMediaObject:g,numStreams:a.length}),y={type:"offer",sdp:n.write(w)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",y),e.next=19,this._pc.setLocalDescription(y);case 19:if(_=v.mid,u.mid=_,w=n.parse(this._pc.localDescription.sdp),g=w.media[m.idx],u.rtcp.cname=d.getCname({offerMediaObject:g}),u.encodings=f.getRtpEncodings({offerMediaObject:g}),a)for(k=0;k<u.encodings.length;++k)a[k]&&Object.assign(u.encodings[k],a[k]);if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){S=p(u.encodings);try{for(S.s();!(x=S.n()).done;)x.value.scalabilityMode="S1T3"}catch(h){S.e(h)}finally{S.f()}}return this._remoteSdp.send({offerMediaObject:g,reuseMid:m.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:i}),R={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",R),e.next=27,this._pc.setRemoteDescription(R);case 27:return this._mapMidTransceiver.set(_,v),e.abrupt("return",{localId:_,rtpParameters:u,rtpSender:v.sender});case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("stopSending() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return r.sender.replaceTrack(null),this._pc.removeTrack(r.sender),this._remoteSdp.closeMediaSection(r.mid),e.next=7,this._pc.createOffer();case 7:return n=e.sent,b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return a={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=15,this._pc.setRemoteDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r?b.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):b.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.next=6,n.sender.replaceTrack(r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=8,n.sender.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return(a=n.sender.getParameters()).encodings.forEach((function(e,t){a.encodings[t]=i(i({},e),r)})),e.next=8,n.sender.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmits:i,protocol:s,priority:c},b.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,p;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),b.debug("receive() [trackId:%s, kind:%s]",r,a),o=i.mid||String(this._mapMidTransceiver.size),this._remoteSdp.receive({mid:o,kind:a,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:r}),s={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",s),e.next=8,this._pc.setRemoteDescription(s);case 8:return e.next=10,this._pc.createAnswer();case 10:if(c=e.sent,u=n.parse(c.sdp),l=u.media.find((function(e){return String(e.mid)===o})),d.applyCodecParameters({offerRtpParameters:i,answerMediaObject:l}),c={type:"answer",sdp:n.write(u)},e.t0=this._transportReady,e.t0){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:u});case 18:return b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",c),e.next=21,this._pc.setLocalDescription(c);case 21:if(p=this._pc.getTransceivers().find((function(e){return e.mid===o}))){e.next=24;break}throw new Error("new RTCRtpTransceiver not found");case 24:return e.abrupt("return",(this._mapMidTransceiver.set(o,p),{localId:o,track:p.receiver.track,rtpReceiver:p.receiver}));case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),b.debug("stopReceiving() [localId:%s]",t),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return this._remoteSdp.closeMediaSection(r.mid),n={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),e.next=9,this._pc.setRemoteDescription(n);case 9:return e.next=11,this._pc.createAnswer();case 11:return a=e.sent,b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=15,this._pc.setLocalDescription(a);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),r=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",r.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmits:u,protocol:i},b.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=d.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"Safari12"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(g.HandlerInterface);t.Safari12=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(2),c=r(3),d=r(7),f=r(11),g=r(6),y=r(8),b=new a.Logger("Safari11"),w={OS:1024,MIS:1024},_=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(b.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(t){}return a=n.parse(r.sdp),e.abrupt("return",d.extractRtpCapabilities({sdpObject:a}));case 11:e.prev=11,e.t0=e.catch(2);try{t.close()}catch(t){}throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(b.debug("getNativeSctpCapabilities()"),{numStreams:w}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,u=e.iceServers,l=e.iceTransportPolicy,d=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;b.debug("run()"),this._direction=r,this._remoteSdp=new y.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",f),video:c.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:c.getSendingRemoteRtpParameters("audio",f),video:c.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:u||[],iceTransportPolicy:l||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},d),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,b.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,b.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,s,u,l,m,v,g,y,w,_,k,S,x;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,i=t.codecOptions,s=t.codec,this._assertSendDirection(),b.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),s&&b.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addTrack(r,this._sendStream),e.next=4,this._pc.createOffer();case 4:if(l=e.sent,m=n.parse(l.sdp),(v=o.clone(this._sendingRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(v.codecs),(g=o.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(g.codecs),e.t0=this._transportReady,e.t0){e.next=14;break}return e.next=14,this._setupTransport({localDtlsRole:"server",localSdpObject:m});case 14:return"video"===r.kind&&a&&a.length>1&&(b.debug("send() | enabling simulcast"),m=n.parse(l.sdp),u=m.media.find((function(e){return"video"===e.type})),f.addLegacySimulcast({offerMediaObject:u,track:r,numStreams:a.length}),l={type:"offer",sdp:n.write(m)}),b.debug("send() | calling pc.setLocalDescription() [offer:%o]",l),e.next=18,this._pc.setLocalDescription(l);case 18:if(m=n.parse(this._pc.localDescription.sdp),u=m.media.find((function(e){return e.type===r.kind})),v.rtcp.cname=d.getCname({offerMediaObject:u}),v.encodings=f.getRtpEncodings({offerMediaObject:u,track:r}),!a){e.next=24;break}for(y=0;y<v.encodings.length;++y)a[y]&&Object.assign(v.encodings[y],a[y]);case 24:if(v.encodings.length>1&&"video/vp8"===v.codecs[0].mimeType.toLowerCase()){w=p(v.encodings);try{for(w.s();!(_=w.n()).done;)_.value.scalabilityMode="S1T3"}catch(h){w.e(h)}finally{w.f()}}return this._remoteSdp.send({offerMediaObject:u,offerRtpParameters:v,answerRtpParameters:g,codecOptions:i}),k={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),e.next=30,this._pc.setRemoteDescription(k);case 30:return S=String(this._nextSendLocalId),this._nextSendLocalId++,x=this._pc.getSenders().find((function(e){return e.track===r})),e.abrupt("return",(this._mapSendLocalIdRtpSender.set(S,x),{localId:S,rtpParameters:v,rtpSender:x}));case 34:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return r.track&&this._sendStream.removeTrack(r.track),this._mapSendLocalIdRtpSender.delete(t),e.next=7,this._pc.createOffer();case 7:return n=e.sent,b.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=9,e.next=12,this._pc.setLocalDescription(n);case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(9),0!==this._sendStream.getTracks().length){e.next=18;break}return e.abrupt("return",void b.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()));case 18:throw e.t0;case 19:if("stable"!==this._pc.signalingState){e.next=21;break}return e.abrupt("return");case 21:return a={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=25,this._pc.setRemoteDescription(a);case 25:case"end":return e.stop()}}),e,this,[[9,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r?b.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):b.debug("replaceTrack() [localId:%s, no track]",t),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return a=n.track,e.next=7,n.replaceTrack(r);case 7:a&&this._sendStream.removeTrack(a),r&&this._sendStream.addTrack(r);case 9:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return(a=n.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=8,n.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),b.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return(a=n.getParameters()).encodings.forEach((function(e,t){a.encodings[t]=i(i({},e),r)})),e.next=8,n.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),r=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return e.abrupt("return",r.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmits:i,protocol:s,priority:c},b.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%w.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return b.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},b.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,p,f;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),b.debug("receive() [trackId:%s, kind:%s]",r,a),o=r,s=a,this._remoteSdp.receive({mid:s,kind:a,offerRtpParameters:i,streamId:i.rtcp.cname,trackId:r}),c={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=8,this._pc.setRemoteDescription(c);case 8:return e.next=10,this._pc.createAnswer();case 10:if(u=e.sent,l=n.parse(u.sdp),p=l.media.find((function(e){return String(e.mid)===s})),d.applyCodecParameters({offerRtpParameters:i,answerMediaObject:p}),u={type:"answer",sdp:n.write(l)},e.t0=this._transportReady,e.t0){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:l});case 18:return b.debug("receive() | calling pc.setLocalDescription() [answer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(f=this._pc.getReceivers().find((function(e){return e.track&&e.track.id===o}))){e.next=24;break}throw new Error("new RTCRtpReceiver not");case 24:return e.abrupt("return",(this._mapRecvLocalIdInfo.set(o,{mid:s,rtpParameters:i,rtpReceiver:f}),{localId:o,track:f.track,rtpReceiver:f}));case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),b.debug("stopReceiving() [localId:%s]",t),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.mid,a=r.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:n,offerRtpParameters:a}),i={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),e.next=7,this._pc.setRemoteDescription(i);case 7:return e.next=9,this._pc.createAnswer();case 9:return o=e.sent,b.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",o),e.next=13,this._pc.setLocalDescription(o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){var r,n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.rtpReceiver){e.next=4;break}throw new Error("associated RTCRtpReceiver not found");case 4:return e.abrupt("return",n.getStats());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmits:u,protocol:i},b.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return b.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=d.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"Safari11"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(g.HandlerInterface);t.Safari11=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=r(4),o=r(2),c=r(3),d=r(42),f=r(6),g=new n.Logger("Edge11"),y=function(t){u(n,t);var r=l(n);function n(){var e;return m(this,n),(e=r.call(this))._rtpSenders=new Map,e._rtpReceivers=new Map,e._nextSendLocalId=0,e._transportReady=!1,e}return v(n,[{key:"close",value:function(){g.debug("close()");try{this._iceGatherer.close()}catch(e){}try{this._iceTransport.stop()}catch(e){}try{this._dtlsTransport.stop()}catch(e){}var t,r=p(this._rtpSenders.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;try{n.stop()}catch(e){}}}catch(s){r.e(s)}finally{r.f()}var a,i=p(this._rtpReceivers.values());try{for(i.s();!(a=i.n()).done;){var o=a.value;try{o.stop()}catch(e){}}}catch(s){i.e(s)}finally{i.f()}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(g.debug("getNativeRtpCapabilities()"),d.getCapabilities()));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(g.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){e.direction;var t=e.iceParameters,r=e.iceCandidates,n=e.dtlsParameters,a=(e.sctpParameters,e.iceServers),i=e.iceTransportPolicy,s=(e.additionalSettings,e.proprietaryConstraints,e.extendedRtpCapabilities);g.debug("run()"),this._sendingRtpParametersByKind={audio:c.getSendingRtpParameters("audio",s),video:c.getSendingRtpParameters("video",s)},this._remoteIceParameters=t,this._remoteIceCandidates=r,this._remoteDtlsParameters=n,this._cname="CNAME-"+o.generateRandomNumber(),this._setIceGatherer({iceServers:a,iceTransportPolicy:i}),this._setIceTransport(),this._setDtlsTransport()}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new a.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.debug("restartIce()"),this._remoteIceParameters=t,this._transportReady){g.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling"),r=p(this._remoteIceCandidates);try{for(r.s();!(n=r.n()).done;)a=n.value,this._iceTransport.addRemoteCandidate(a)}catch(i){r.e(i)}finally{r.f()}this._iceTransport.addRemoteCandidate({})}case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._iceTransport.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,s,u,l,f,m,v,y;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.track,n=t.encodings,t.codecOptions,a=t.codec,g.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),e.t0=this._transportReady,e.t0){e.next=6;break}return e.next=6,this._setupTransport({localDtlsRole:"server"});case 6:g.debug("send() | calling new RTCRtpSender()"),i=new RTCRtpSender(r,this._dtlsTransport),(s=o.clone(this._sendingRtpParametersByKind[r.kind])).codecs=c.reduceCodecs(s.codecs,a),u=s.codecs.some((function(e){return/.+\/rtx$/i.test(e.mimeType)})),n||(n=[{}]),l=p(n);try{for(l.s();!(f=l.n()).done;)(m=f.value).ssrc=o.generateRandomNumber(),u&&(m.rtx={ssrc:o.generateRandomNumber()})}catch(h){l.e(h)}finally{l.f()}return s.encodings=n,s.rtcp={cname:this._cname,reducedSize:!0,mux:!0},v=d.mangleRtpParameters(s),g.debug("send() | calling rtpSender.send() [params:%o]",v),e.next=18,i.send(v);case 18:return y=String(this._nextSendLocalId),e.abrupt("return",(this._nextSendLocalId++,this._rtpSenders.set(y,i),{localId:y,rtpParameters:s,rtpSender:i}));case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.debug("stopSending() [localId:%s]",t),r=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:this._rtpSenders.delete(t),e.prev=5,g.debug("stopSending() | calling rtpSender.stop()"),r.stop(),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(5),g.warn("stopSending() | rtpSender.stop() failed:%o",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[5,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r?g.debug("replaceTrack() [localId:%s, track.id:%s]",t,r.id):g.debug("replaceTrack() [localId:%s, no track]",t),n=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:n.setTrack(r);case 5:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,r),n=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:return(a=n.getParameters()).encodings.forEach((function(e,t){e.active=t<=r})),e.next=8,n.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){var n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,r),n=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:return(a=n.getParameters()).encodings.forEach((function(e,t){a.encodings[t]=i(i({},e),r)})),e.next=8,n.setParameters(a);case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._rtpSenders.get(t)){e.next=3;break}throw new Error("RTCRtpSender not found");case 3:return e.abrupt("return",r.getStats());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new a.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,o,s;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.trackId,n=t.kind,a=t.rtpParameters,g.debug("receive() [trackId:%s, kind:%s]",r,n),e.t0=this._transportReady,e.t0){e.next=6;break}return e.next=6,this._setupTransport({localDtlsRole:"server"});case 6:return g.debug("receive() | calling new RTCRtpReceiver()"),(i=new RTCRtpReceiver(this._dtlsTransport,n)).addEventListener("error",(function(e){g.error('rtpReceiver "error" event [event:%o]',e)})),o=d.mangleRtpParameters(a),g.debug("receive() | calling rtpReceiver.receive() [params:%o]",o),e.next=13,i.receive(o);case 13:return s=r,e.abrupt("return",(this._rtpReceivers.set(s,i),{localId:s,track:i.track,rtpReceiver:i}));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.debug("stopReceiving() [localId:%s]",t),r=this._rtpReceivers.get(t)){e.next=4;break}throw new Error("RTCRtpReceiver not found");case 4:this._rtpReceivers.delete(t);try{g.debug("stopReceiving() | calling rtpReceiver.stop()"),r.stop()}catch(t){g.warn("stopReceiving() | rtpReceiver.stop() failed:%o",t)}case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._rtpReceivers.get(t)){e.next=3;break}throw new Error("RTCRtpReceiver not found");case 3:return e.abrupt("return",r.getStats());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new a.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setIceGatherer",value:function(e){var t=e.iceServers,r=e.iceTransportPolicy,n=new RTCIceGatherer({iceServers:t||[],gatherPolicy:r||"all"});n.addEventListener("error",(function(e){g.error('iceGatherer "error" event [event:%o]',e)}));try{n.gather()}catch(t){g.debug("_setIceGatherer() | iceGatherer.gather() failed: %s",t.toString())}this._iceGatherer=n}},{key:"_setIceTransport",value:function(){var e=this,t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("icestatechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("candidatepairchange",(function(e){g.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=t}},{key:"_setDtlsTransport",value:function(){var e=this,t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",(function(){g.debug('dtlsTransport "statechange" event [state:%s]',t.state)})),t.addEventListener("dtlsstatechange",(function(){g.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),"closed"===t.state&&e.emit("@connectionstatechange","closed")})),t.addEventListener("error",(function(e){g.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=t}},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,g.debug("_setupTransport()"),(n=this._dtlsTransport.getLocalParameters()).role=r,e.next=6,this.safeEmitAsPromise("@connect",{dtlsParameters:n});case 6:this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling"),a=p(this._remoteIceCandidates);try{for(a.s();!(i=a.n()).done;)o=i.value,this._iceTransport.addRemoteCandidate(o)}catch(s){a.e(s)}finally{a.f()}this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((function(e){return"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm})),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"name",get:function(){return"Edge11"}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(f.HandlerInterface);t.Edge11=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);t.getCapabilities=function(){var e,t=RTCRtpReceiver.getCapabilities(),r=n.clone(t),a=p(r.codecs);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.channels=i.numChannels,delete i.numChannels,i.mimeType=i.mimeType||"".concat(i.kind,"/").concat(i.name),i.parameters){var o=i.parameters;o.apt&&(o.apt=Number(o.apt)),o["packetization-mode"]&&(o["packetization-mode"]=Number(o["packetization-mode"]))}var s,c=p(i.rtcpFeedback||[]);try{for(c.s();!(s=c.n()).done;){var u=s.value;u.parameter||(u.parameter="")}}catch(l){c.e(l)}finally{c.f()}}}catch(l){a.e(l)}finally{a.f()}return r},t.mangleRtpParameters=function(e){var t=n.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);var r,a=p(t.codecs);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.channels&&(i.numChannels=i.channels,delete i.channels),i.mimeType&&!i.name&&(i.name=i.mimeType.split("/")[1]),delete i.mimeType}}catch(o){a.e(o)}finally{a.f()}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=r(1),o=r(4),c=r(2),d=r(3),f=r(7),g=r(11),y=r(6),b=r(8),w=new a.Logger("ReactNative"),_={OS:1024,MIS:1024},k=function(t){u(a,t);var r=l(a);function a(){var e;return m(this,a),(e=r.call(this))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return v(a,[{key:"close",value:function(){if(w.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=s(h.mark((function e(){var t,r,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:r=e.sent;try{t.close()}catch(t){}return a=n.parse(r.sdp),e.abrupt("return",f.extractRtpCapabilities({sdpObject:a}));case 11:e.prev=11,e.t0=e.catch(2);try{t.close()}catch(t){}throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getNativeSctpCapabilities",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(w.debug("getNativeSctpCapabilities()"),{numStreams:_}));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(e){var t=this,r=e.direction,n=e.iceParameters,a=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,p=e.proprietaryConstraints,f=e.extendedRtpCapabilities;w.debug("run()"),this._direction=r,this._remoteSdp=new b.RemoteSdp({iceParameters:n,iceCandidates:a,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:d.getSendingRtpParameters("audio",f),video:d.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:d.getSendingRemoteRtpParameters("audio",f),video:d.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(i({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),p),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=s(h.mark((function e(t){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.debug("updateIceServers()"),(r=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(r);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"restartIce",value:function(){var e=s(h.mark((function e(t){var r,n,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!this._transportReady){e.next=24;break}if("send"!==this._direction){e.next=14;break}return e.next=4,this._pc.createOffer({iceRestart:!0});case 4:return r=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",r),e.next=8,this._pc.setLocalDescription(r);case 8:return n={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",n),e.next=12,this._pc.setRemoteDescription(n);case 12:e.next=24;break;case 14:return a={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:return e.next=20,this._pc.createAnswer();case 20:return i=e.sent,w.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",i),e.next=24,this._pc.setLocalDescription(i);case 24:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTransportStats",value:function(){var e=s(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"send",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,u,l,m,v,y,b,_,k,S;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.track,a=t.encodings,i=t.codecOptions,o=t.codec,this._assertSendDirection(),w.debug("send() [kind:%s, track.id:%s]",r.kind,r.id),o&&w.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(r),this._pc.addStream(this._sendStream),e.next=4,this._pc.createOffer();case 4:if(u=e.sent,l=n.parse(u.sdp),(m=c.clone(this._sendingRtpParametersByKind[r.kind])).codecs=d.reduceCodecs(m.codecs),(v=c.clone(this._sendingRemoteRtpParametersByKind[r.kind])).codecs=d.reduceCodecs(v.codecs),e.t0=this._transportReady,e.t0){e.next=14;break}return e.next=14,this._setupTransport({localDtlsRole:"server",localSdpObject:l});case 14:return"video"===r.kind&&a&&a.length>1&&(w.debug("send() | enabling simulcast"),l=n.parse(u.sdp),s=l.media.find((function(e){return"video"===e.type})),g.addLegacySimulcast({offerMediaObject:s,track:r,numStreams:a.length}),u={type:"offer",sdp:n.write(l)}),w.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=18,this._pc.setLocalDescription(u);case 18:if(l=n.parse(this._pc.localDescription.sdp),s=l.media.find((function(e){return e.type===r.kind})),m.rtcp.cname=f.getCname({offerMediaObject:s}),m.encodings=g.getRtpEncodings({offerMediaObject:s,track:r}),!a){e.next=24;break}for(y=0;y<m.encodings.length;++y)a[y]&&Object.assign(m.encodings[y],a[y]);case 24:if(m.encodings.length>1&&("video/vp8"===m.codecs[0].mimeType.toLowerCase()||"video/h264"===m.codecs[0].mimeType.toLowerCase())){b=p(m.encodings);try{for(b.s();!(_=b.n()).done;)_.value.scalabilityMode="S1T3"}catch(h){b.e(h)}finally{b.f()}}return this._remoteSdp.send({offerMediaObject:s,offerRtpParameters:m,answerRtpParameters:v,codecOptions:i}),k={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("send() | calling pc.setRemoteDescription() [answer:%o]",k),e.next=30,this._pc.setRemoteDescription(k);case 30:return S=String(this._nextSendLocalId),e.abrupt("return",(this._nextSendLocalId++,this._mapSendLocalIdTrack.set(S,r),{localId:S,rtpParameters:m}));case 32:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopSending",value:function(){var e=s(h.mark((function e(t){var r,n,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),w.debug("stopSending() [localId:%s]",t),r=this._mapSendLocalIdTrack.get(t)){e.next=4;break}throw new Error("track not found");case 4:return this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(r),this._pc.addStream(this._sendStream),e.next=7,this._pc.createOffer();case 7:return n=e.sent,w.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",n),e.prev=9,e.next=12,this._pc.setLocalDescription(n);case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(9),0!==this._sendStream.getTracks().length){e.next=18;break}return e.abrupt("return",void w.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()));case 18:throw e.t0;case 19:if("stable"!==this._pc.signalingState){e.next=21;break}return e.abrupt("return");case 21:return a={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=25,this._pc.setRemoteDescription(a);case 25:case"end":return e.stop()}}),e,this,[[9,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"replaceTrack",value:function(){var e=s(h.mark((function e(t,r){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setMaxSpatialLayer",value:function(){var e=s(h.mark((function e(t,r){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"setRtpEncodingParameters",value:function(){var e=s(h.mark((function e(t,r){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getSenderStats",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ordered,a=t.maxPacketLifeTime,i=t.maxRetransmits,o=t.label,s=t.protocol,c=t.priority,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:r,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:i,protocol:s,priority:c},w.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=8,this._pc.createOffer();case 8:if(d=e.sent,p=n.parse(d.sdp),f=p.media.find((function(e){return"application"===e.type})),e.t0=this._transportReady,e.t0){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"server",localSdpObject:p});case 15:return w.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),m={type:"answer",sdp:this._remoteSdp.getSdp()},w.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",m),e.next=23,this._pc.setRemoteDescription(m);case 23:this._hasDataChannelMediaSection=!0;case 24:return e.abrupt("return",{dataChannel:l,sctpStreamParameters:{streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits}});case 25:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receive",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,u,l,d,p,m,v;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trackId,a=t.kind,i=t.rtpParameters,this._assertRecvDirection(),w.debug("receive() [trackId:%s, kind:%s]",r,a),o=r,s=a,u=i.rtcp.cname,w.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),u+="-hack-"+c.generateRandomNumber(),this._remoteSdp.receive({mid:s,kind:a,offerRtpParameters:i,streamId:u,trackId:r}),l={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",l),e.next=9,this._pc.setRemoteDescription(l);case 9:return e.next=11,this._pc.createAnswer();case 11:if(d=e.sent,p=n.parse(d.sdp),m=p.media.find((function(e){return String(e.mid)===s})),f.applyCodecParameters({offerRtpParameters:i,answerMediaObject:m}),d={type:"answer",sdp:n.write(p)},e.t0=this._transportReady,e.t0){e.next=19;break}return e.next=19,this._setupTransport({localDtlsRole:"client",localSdpObject:p});case 19:return w.debug("receive() | calling pc.setLocalDescription() [answer:%o]",d),e.next=22,this._pc.setLocalDescription(d);case 22:if(v=this._pc.getRemoteStreams().find((function(e){return e.id===u})).getTrackById(o)){e.next=25;break}throw new Error("remote track not found");case 25:return e.abrupt("return",(this._mapRecvLocalIdInfo.set(o,{mid:s,rtpParameters:i}),{localId:o,track:v}));case 26:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"stopReceiving",value:function(){var e=s(h.mark((function e(t){var r,n,a,i,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),w.debug("stopReceiving() [localId:%s]",t),r=this._mapRecvLocalIdInfo.get(t)||{},n=r.mid,a=r.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:n,offerRtpParameters:a}),i={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",i),e.next=7,this._pc.setRemoteDescription(i);case 7:return e.next=9,this._pc.createAnswer();case 9:return o=e.sent,w.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",o),e.next=13,this._pc.setLocalDescription(o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReceiverStats",value:function(){var e=s(h.mark((function e(t){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new o.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"receiveDataChannel",value:function(){var e=s(h.mark((function e(t){var r,a,i,o,s,c,u,l,d,p,f,m;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.sctpStreamParameters,a=t.label,i=t.protocol,this._assertRecvDirection(),o=r.streamId,s=r.ordered,c=r.maxPacketLifeTime,u=r.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmitTime:c,maxRetransmits:u,protocol:i},w.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(a,l),this._hasDataChannelMediaSection){e.next=22;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=11,this._pc.setRemoteDescription(p);case 11:return e.next=13,this._pc.createAnswer();case 13:if(f=e.sent,this._transportReady){e.next=18;break}return m=n.parse(f.sdp),e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return w.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",f),e.next=21,this._pc.setLocalDescription(f);case 21:this._hasDataChannelMediaSection=!0;case 22:return e.abrupt("return",{dataChannel:d});case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_setupTransport",value:function(){var e=s(h.mark((function e(t){var r,a,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.localDtlsRole,(a=t.localSdpObject)||(a=n.parse(this._pc.localDescription.sdp)),(i=f.extractDtlsParameters({sdpObject:a})).role=r,this._remoteSdp.updateDtlsRole("client"===r?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:i});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}},{key:"name",get:function(){return"ReactNative"}}],[{key:"createFactory",value:function(){return function(){return new a}}}]),a}(y.HandlerInterface);t.ReactNative=k},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(16)),n(r(18)),n(r(19)),n(r(20)),n(r(21)),n(r(22)),n(r(6)),n(r(4))},function(e,t){e.exports=a},function(e,t,r){"use strict";r.r(t),r.d(t,"ConferenceApi",(function(){return d})),r.d(t,"Utils",(function(){return T})),r.d(t,"CloudClient",(function(){return D}));var n,a=r(14),i=r(24),o=r(12),s=r(0),c=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},d=function(e){u(r,e);var t=l(r);function r(e){var n;return m(this,r),(n=t.call(this)).connectors=new Map,n.layers=new Map,n.availableKinds=[],n.configs=Object.assign({worker:0,stopTracks:!0,kinds:["video","audio"],maxIncomingBitrate:0,timeout:{stats:1e3,transport:3e3,consumer:5e3}},e),n.log=Object(o.debug)("conference-api [".concat(n.configs.stream,"]:")),n.createClient(),n.device=new i.Device,n}return v(r,[{key:"setPreferredLayers",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r,n;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.operation!==s.API_OPERATION.SUBSCRIBE){t.next=12;break}if(r="video",this.layers.set(r,e),!(n=this.connectors.get(r))||"number"==typeof n){t.next=12;break}return t.prev=5,t.next=8,this.api.setPreferredLayers({consumerId:n.id,layers:e});case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(5);case 12:case"end":return t.stop()}}),t,this,[[5,10]])})))}},{key:"addTrack",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r,n;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.log("addTrack",e),this.operation!==s.API_OPERATION.PUBLISH||!this.mediaStream){t.next=14;break}if(r=e.kind,this.configs.kinds.includes(r)||this.configs.kinds.push(r),!(n=this.connectors.get(r))){t.next=10;break}return n.track&&(this.mediaStream.removeTrack(n.track),this.emit("removetrack",new MediaStreamTrackEvent("removetrack",{track:n.track}))),t.next=8,n.replaceTrack({track:e});case 8:t.next=12;break;case 10:return t.next=12,this.publishTrack(e);case 12:this.mediaStream.addTrack(e),this.emit("addtrack",new MediaStreamTrackEvent("addtrack",{track:e}));case 14:case"end":return t.stop()}}),t,this)})))}},{key:"removeTrack",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.log("removeTrack",e),this.operation===s.API_OPERATION.PUBLISH&&this.mediaStream&&(this.mediaStream.removeTrack(e),this.emit("removetrack",new MediaStreamTrackEvent("removetrack",{track:e})),(r=this.connectors.get(e.kind))&&"number"!=typeof r&&(r.close(),r.emit("close")));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"setMaxPublisherBitrate",value:function(e){return c(this,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.configs.maxIncomingBitrate=e,t.t0=this.transport,!t.t0){t.next=5;break}return t.next=5,this.api.setMaxIncomingBitrate({transportId:this.transport.id,bitrate:e});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"updateKinds",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r,n,a,i,o,c,u,l;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.operation!==s.API_OPERATION.SUBSCRIBE){t.next=11;break}this.log("updateKinds",e),r=this.configs.kinds,this.configs.kinds=e,n=p(r);try{for(n.s();!(a=n.n()).done;)i=a.value,e.includes(i)||this.unsubscribeTrack(i)}catch(d){n.e(d)}finally{n.f()}o=[],c=p(e);try{for(c.s();!(u=c.n()).done;)l=u.value,!this.connectors.get(l)&&this.availableKinds.includes(l)&&o.push(this.subscribeTrack(l))}catch(d){c.e(d)}finally{c.f()}return t.next=11,Promise.all(o);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"destroyClient",value:function(){this.api&&this.api.clear()}},{key:"createClient",value:function(){var e=this;this.api=new s.MediasoupSocketApi(this.configs.url,this.configs.worker,this.configs.token,this.log);var t=this;this.api.client.on("disconnect",(function(){return c(e,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.restartAll();case 2:case"end":return e.stop()}}),e)})))}))}},{key:"init",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r,n,a,i,o;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.operation){t.next=2;break}throw new Error("Already processing");case 2:if(this.operation=e,this.device.loaded){t.next=16;break}return t.next=5,this.api.getServerConfigs();case 5:return r=t.sent,n=r.routerRtpCapabilities,a=r.iceServers,i=r.simulcast,o=r.timeout,n.headerExtensions&&(n.headerExtensions=n.headerExtensions.filter((function(e){return"urn:3gpp:video-orientation"!==e.uri}))),t.next=13,this.device.load({routerRtpCapabilities:n});case 13:this.iceServers=a,this.simulcast=i,this.configs.timeout=Object.assign(Object.assign({},this.configs.timeout),o);case 16:return t.next=18,this.getTransport();case 18:case"end":return t.stop()}}),t,this)})))}},{key:"publish",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r=this;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.init(s.API_OPERATION.PUBLISH);case 2:return this.mediaStream=e,t.next=5,Promise.all(e.getTracks().map((function(e){return r.publishTrack(e)})));case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"subscribe",value:function(){return c(this,void 0,void 0,h.mark((function e(){var t,r,n,a,i,o,u,l,d,p,f,m=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("subscribe"),e.next=3,this.init(s.API_OPERATION.SUBSCRIBE);case 3:for(t=this.mediaStream||new MediaStream,this.mediaStream=t,r=this.configs.stream,n=[],this.api.client.on(s.EVENT.STREAM_STARTED,(function(e){e.stream;var t=e.kind;return c(m,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.availableKinds.includes(t)||this.availableKinds.push(t),this.unsubscribeTrack(t),console.log("on stream started",t),e.t0=this.configs.kinds.includes(t),!e.t0){e.next=7;break}return e.next=7,this.subscribeTrack(t);case 7:case"end":return e.stop()}}),e,this)})))})),this.api.client.on(s.EVENT.STREAM_STOPPED,(function(e){e.stream;var t=e.kind;return c(m,void 0,void 0,h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.availableKinds.includes(t)&&this.availableKinds.splice(this.availableKinds.indexOf(t),1),console.log("on stream stopped",t),this.unsubscribeTrack(t);case 1:case"end":return e.stop()}}),e,this)})))})),!this.configs.origin||this.configs.url===this.configs.origin.url&&this.configs.worker===this.configs.origin.worker||(i=this.configs,o=i.token,u=i.worker,l=i.url,a={target:{url:l,worker:u,token:o},source:{url:this.configs.origin.url,worker:this.configs.origin.worker,token:this.configs.origin.token||o}}),d=0,p=["audio","video"];d<p.length;d++)f=p[d],n.push(this.api.listenStreamStarted({stream:r,kind:f,origin:a}),this.api.listenStreamStopped({stream:r,kind:f}));return e.next=10,Promise.all(n);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"unsubscribeTrack",value:function(e){var t=this.connectors.get(e);t&&("number"!=typeof t?(t.close(),t.emit("close")):this.connectors.delete(e))}},{key:"subscribeTrack",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r,n,a,i,o,u,l,d,p=this;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Math.random(),console.log("new connector",r),this.connectors.set(e,r),n=this.configs.stream,a=this,i=this.device.rtpCapabilities,t.prev=3,this.transport){t.next=6;break}throw{errorId:s.ERROR.INVALID_TRANSPORT};case 6:return o={rtpCapabilities:i,stream:n,kind:e,transportId:this.transport.id},t.next=9,this.api.consume(o);case 9:if(u=t.sent,!(l=this.layers.get(e))){t.next=19;break}return t.prev=12,t.next=15,this.api.setPreferredLayers({consumerId:u.id,layers:l});case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(12);case 19:return t.next=21,this.transport.consume(u);case 21:if((d=t.sent).on("close",(function(){return c(p,void 0,void 0,h.mark((function t(){var r;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediaStream&&(d.track.stop(),this.mediaStream.removeTrack(d.track),this.emit("removetrack",new MediaStreamTrackEvent("removetrack",{track:d.track}))),!this.transport||this.transport.closed){t.next=10;break}return r=this.connectors.get(e),t.prev=2,t.next=5,this.api.closeConsumer({consumerId:d.id});case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:r&&"number"!=typeof r&&d.id===r.id&&this.connectors.delete(d.track.kind);case 10:case"end":return t.stop()}}),t,this,[[2,7]])})))})),this.connectors.get(e)!==r||!this.configs.kinds.includes(e)){t.next=32;break}return this.connectors.set(e,d),this.emit("newConsumerId",{id:d.id,kind:e}),this.listenStats(d,"inbound-rtp"),t.next=29,a.api.resumeConsumer({consumerId:d.id});case 29:this.mediaStream&&(this.mediaStream.addTrack(d.track),this.emit("addtrack",new MediaStreamTrackEvent("addtrack",{track:d.track}))),t.next=33;break;case 32:console.log("wrong connector",this.connectors.get(e)),this.unsubscribeTrack(e);case 33:t.next=45;break;case 35:if(t.prev=35,t.t1=t.catch(3),!t.t1){t.next=45;break}if(t.t1.errorId!==s.ERROR.INVALID_STREAM){t.next=42;break}t.next=45;break;case 42:if(t.t1.errorId===s.ERROR.INVALID_TRANSPORT||t.t1.errorId===s.ERROR.INVALID_CONSUMER){t.next=44;break}throw t.t1;case 44:this.restartAll().then((function(){})).catch((function(){}));case 45:case"end":return t.stop()}}),t,this,[[3,35],[12,17]])})))}},{key:"publishTrack",value:function(e){return c(this,void 0,void 0,h.mark((function t(){var r,n,a,i,o,s=this;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.kind,!this.configs.kinds.includes(r)){t.next=9;break}return e.addEventListener("ended",(function(){return c(s,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.removeTrack(e);case 2:case"end":return t.stop()}}),t,this)})))})),this.configs.codecOptions&&this.configs.codecOptions[r]&&(n=this.configs.codecOptions[r]),a={track:e,stopTracks:!1,codecOptions:n},this.configs.simulcast&&"video"===r&&this.simulcast&&(this.simulcast.encodings&&(a.encodings=this.simulcast.encodings),this.simulcast.codecOptions)&&(i=this.simulcast.codecOptions,a.codecOptions&&(i=Object.assign(Object.assign({},n),a.codecOptions)),a.codecOptions=i),t.next=7,this.transport.produce(a);case 7:(o=t.sent).on("close",(function(){return c(s,void 0,void 0,h.mark((function e(){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.connectors.get(r))||"number"==typeof t){e.next=10;break}return this.connectors.delete(r),e.prev=3,e.next=6,this.api.closeProducer({producerId:t.id});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,this,[[3,8]])})))})),this.listenStats(o,"outbound-rtp"),this.connectors.set(r,o),this.emit("newProducerId",{id:o.id,kind:r});case 9:case"end":return t.stop()}}),t,this)})))}},{key:"listenStats",value:function(e,t){var r=this,n=0,a=Date.now(),i="inbound-rtp"===t?"bytesReceived":"bytesSent";e.on("close",(function(){r.emit("bitRate",{bitRate:0,kind:e.kind})})),function o(){e&&!e.closed&&e.getStats().then((function(s){return c(r,void 0,void 0,h.mark((function r(){var c=this;return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e&&!e.closed&&(s.size?s.forEach((function(r){if(r&&r.type===t&&r[i]&&r[i]>n){var o=Math.round((r[i]-n)/(Date.now()-a)*1e3*8);c.emit("bitRate",{bitRate:o,kind:e.kind}),n=r[i],a=Date.now()}})):this.emit("bitRate",{bitRate:0,kind:e.kind}),setTimeout(o,this.configs.timeout.stats));case 1:case"end":return r.stop()}}),r,this)})))}))}()}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return c(this,void 0,void 0,h.mark((function t(){var r;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.transport){t.next=12;break}return this.transport.closed||this.transport.close(),r=this.transport.id,delete this.transport,t.prev=4,t.next=7,this.api.closeTransport({transportId:r});case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(4);case 11:this.emit("connectionstatechange",{state:"disconnected"});case 12:return(e||this.operation===s.API_OPERATION.SUBSCRIBE)&&this.mediaStream&&this.configs.stopTracks&&(console.log("stopping tracks"),this.mediaStream.getTracks().forEach((function(e){e.stop()}))),t.next=15,this.closeConnectors();case 15:delete this.operation,e&&this.api&&this.api.clear();case 17:case"end":return t.stop()}}),t,this,[[4,9]])})))}},{key:"closeConnectors",value:function(){return c(this,void 0,void 0,h.mark((function e(){var t=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.connectors.size,!e.t0){e.next=4;break}return e.next=4,new Promise((function(e){t.connectors.forEach((function(r,n){t.connectors.delete(n);try{r&&"number"!=typeof r&&(r.close(),r.emit("close"))}catch(e){}t.connectors.size||e()}))}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"restartAll",value:function(){return c(this,void 0,void 0,h.mark((function e(){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.operation,this.destroyClient(),e.next=4,this.close(!1);case 4:if(this.createClient(),t!==s.API_OPERATION.SUBSCRIBE){e.next=10;break}return e.next=8,this.subscribe();case 8:e.next=14;break;case 10:if(e.t0=t===s.API_OPERATION.PUBLISH&&this.mediaStream,!e.t0){e.next=14;break}return e.next=14,this.publish(this.mediaStream);case 14:case"end":return e.stop()}}),e,this)})))}},{key:"getTransport",value:function(){return c(this,void 0,void 0,h.mark((function e(){var t,r,n=this;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.transport){e.next=15;break}return t=this,e.next=4,this.api.createTransport();case 4:if(r=e.sent,this.iceServers&&(r.iceServers=this.iceServers),this.operation===s.API_OPERATION.SUBSCRIBE?this.transport=this.device.createRecvTransport(r):this.operation===s.API_OPERATION.PUBLISH&&(this.transport=this.device.createSendTransport(r)),this.emit("newTransportId",{id:this.transport.id}),e.t0=this.configs.maxIncomingBitrate,!e.t0){e.next=12;break}return e.next=12,this.api.setMaxIncomingBitrate({transportId:this.transport.id,bitrate:this.configs.maxIncomingBitrate});case 12:this.transport.on("connect",(function(e,r,a){var i=e.dtlsParameters;t.api.connectTransport({transportId:n.transport.id,dtlsParameters:i}).then(r).catch(a)})),this.operation===s.API_OPERATION.PUBLISH&&this.transport.on("produce",(function(e,r,a){var i=e.kind,o=e.rtpParameters;return c(n,void 0,void 0,h.mark((function e(){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.api.produce({transportId:this.transport.id,stream:t.configs.stream,kind:i,rtpParameters:o});case 3:n=e.sent,r(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})))})),this.transport.on("connectionstatechange",(function(e){return c(n,void 0,void 0,h.mark((function t(){return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:switch(this.emit("connectionstatechange",{state:e}),e){case"connected":this.transportTimeout&&clearTimeout(this.transportTimeout)}case 1:case"end":return t.stop()}}),t,this)})))}));case 15:return e.abrupt("return",this.transport);case 16:case"end":return e.stop()}}),e,this)})))}}]),r}(a.EventEmitter);!function(e){e.GET_SERVER_CONFIGS="getServerConfigs",e.CREATE_TRANSPORT="createTransport",e.CONNECT_TRANSPORT="connectTransport",e.CLOSE_TRANSPORT="closeTransport",e.PRODUCE="produce",e.CONSUME="consume",e.RESUME_CONSUMER="resumeConsumer",e.PAUSE_CONSUMER="pauseConsumer",e.CLOSE_CONSUMER="closeConsumer",e.RESUME_PRODUCER="resumeProducer",e.PAUSE_PRODUCER="pauseProducer",e.CLOSE_PRODUCER="closeProducer",e.FILE_STREAMING="fileStreaming",e.LIVE_STREAMING="liveStreaming",e.LIVE_TO_HLS="liveToHls",e.STOP_FILE_STREAMING="stopFileStreaming",e.START_RECORDING="startRecording",e.STOP_RECORDING="stopRecording",e.CREATE_PIPE_TRANSPORT="createPipeTransport",e.CONNECT_PIPE_TRANSPORT="connectPipeTransport",e.SET_PREFERRED_LAYERS="setPreferredLayers",e.SET_MAX_INCOMING_BITRATE="setMaxIncomingBitrate",e.PRODUCERS_STATS="producersStats",e.CONSUMERS_STATS="consumersStats",e.TRANSPORT_STATS="transportStats",e.PIPE_TO_REMOTE_PRODUCER="pipeToRemoteProducer",e.PIPE_FROM_REMOTE_PRODUCER="pipeFromRemoteProducer",e.WORKER_LOAD="workerLoad",e.NUM_WORKERS="numWorkers",e.RECORDED_STREAMS="recordedStreams",e.STREAM_RECORDINGS="streamRecordings",e.DELETE_STREAM_RECORDINGS="deleteStreamRecordings",e.DELETE_RECORDING="deleteRecording",e.PUSH_TO_SERVER_INPUTS="pushToServerInputs",e.PULL_FROM_SERVER_INPUTS="pullFromServerInputs",e.PUSH_TO_SERVER_OPTIONS="pushToServerOptions",e.PUSH_TO_SERVER="pushToServer",e.KINDS_BY_FILE="kindsByFile",e.REQUEST_KEYFRAME="requestKeyframe",e.LISTEN_STREAM_STARTED="listenStreamStarted",e.LISTEN_STREAM_STOPPED="listenStreamStopped",e.MIXER_START="mixerStart",e.MIXER_CLOSE="mixerClose",e.MIXER_ADD="mixerAdd",e.MIXER_ADD_FILE="mixerAddFile",e.MIXER_REMOVE="mixerRemove",e.MIXER_UPDATE="mixerUpdate",e.MIXER_PIPE_START="mixerPipeStart",e.MIXER_PIPE_STOP="mixerPipeStop",e.MIXER_COMMAND="mixerCommand",e.LISTEN_MIXER_STOPPED="listenMixerStopped"}(n||(n={}));var f,g,y=[n.GET_SERVER_CONFIGS,n.CREATE_TRANSPORT,n.CONNECT_TRANSPORT,n.CLOSE_TRANSPORT,n.PRODUCE,n.CONSUME,n.LISTEN_STREAM_STARTED,n.LISTEN_STREAM_STOPPED,n.LISTEN_MIXER_STOPPED,n.CREATE_PIPE_TRANSPORT,n.CONNECT_PIPE_TRANSPORT,n.PIPE_TO_REMOTE_PRODUCER,n.PIPE_FROM_REMOTE_PRODUCER];Object.values(n).filter((function(e){return!y.includes(e)})),function(e){e.STREAM_STARTED="streamStarted",e.STREAM_STOPPED="streamStopped",e.MIXER_STOPPED="mixerStopped"}(f||(f={})),function(e){e.STATS="stats",e.TRAFFIC="traffic",e.CPU="cpu",e.STREAM="stream"}(g||(g={}));var b,w,_,k,S,x="hls",R="master.m3u8";!function(e){e.API="api"}(b||(b={})),function(e){e[e.UNKNOWN=500]="UNKNOWN",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.INVALID_TRANSPORT=530]="INVALID_TRANSPORT",e[e.INVALID_PRODUCER=531]="INVALID_PRODUCER",e[e.INVALID_CONSUMER=532]="INVALID_CONSUMER",e[e.INVALID_STREAM=533]="INVALID_STREAM",e[e.INVALID_OPERATION=534]="INVALID_OPERATION",e[e.INVALID_WORKER=535]="INVALID_WORKER",e[e.INVALID_INPUT=536]="INVALID_INPUT",e[e.INVALID_ACTION=537]="INVALID_ACTION"}(w||(w={})),function(e){e[e.SUBSCRIBE=0]="SUBSCRIBE",e[e.PUBLISH=1]="PUBLISH",e[e.RECORDING=2]="RECORDING",e[e.STREAMING=3]="STREAMING",e[e.MIXER=4]="MIXER"}(_||(_={})),function(e){e[e.LIVE=0]="LIVE",e[e.RECORDING=1]="RECORDING",e[e.RTMP=2]="RTMP",e[e.HLS=3]="HLS"}(k||(k={})),function(e){e.SCALE="scale",e.CROP="crop",e.PAD="pad"}(S||(S={}));var E=r(25),C=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},T=function(){function e(){m(this,e)}return v(e,null,[{key:"getUserMedia",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(this,void 0,void 0,h.mark((function r(){return h.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,navigator.mediaDevices.getDisplayMedia(e);case 3:r.t0=r.sent,r.next=9;break;case 6:return r.next=8,navigator.mediaDevices.getUserMedia(e);case 8:r.t0=r.sent;case 9:return r.abrupt("return",r.t0);case 10:case"end":return r.stop()}}),r)})))}},{key:"hlsPlaylistPath",value:function(e){return Object(E.join)(x,e,R)}}]),e}();T.isFirefox=void 0!==window.InstallTrigger,T.isOpera=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,T.isChrome=!!window.chrome&&!T.isOpera,T.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var P=r(15),O=r.n(P),I=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},D=function(){function e(t,r){m(this,e),this.url=t,this.token=r}return v(e,[{key:"create",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return I(this,void 0,void 0,h.mark((function n(){var a,i;return h.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.a.post(this.url+"/api/customer/config/sdk",{operation:e,stream:t},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}});case 2:return a=n.sent,i=a.data.config,n.abrupt("return",new d(Object.assign(Object.assign({stream:t},r),i)));case 5:case"end":return n.stop()}}),n,this)})))}}]),e}()}]))},function(e,t,r){var n,a,i=r(27),o=r(3),s=r(28),c=r(29);e.exports=(n=r(30),a=r(39),function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),r.d(t,"k",(function(){return o})),r.d(t,"j",(function(){return s})),r.d(t,"d",(function(){return a})),r.d(t,"l",(function(){return i})),r.d(t,"e",(function(){return u})),r.d(t,"i",(function(){return c})),r.d(t,"h",(function(){return h})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return f})),function(e){e.GET_SERVER_CONFIGS="getServerConfigs",e.CREATE_TRANSPORT="createTransport",e.CONNECT_TRANSPORT="connectTransport",e.CLOSE_TRANSPORT="closeTransport",e.PRODUCE="produce",e.CONSUME="consume",e.RESUME_CONSUMER="resumeConsumer",e.PAUSE_CONSUMER="pauseConsumer",e.CLOSE_CONSUMER="closeConsumer",e.RESUME_PRODUCER="resumeProducer",e.PAUSE_PRODUCER="pauseProducer",e.CLOSE_PRODUCER="closeProducer",e.FILE_STREAMING="fileStreaming",e.LIVE_STREAMING="liveStreaming",e.LIVE_TO_HLS="liveToHls",e.STOP_FILE_STREAMING="stopFileStreaming",e.START_RECORDING="startRecording",e.STOP_RECORDING="stopRecording",e.CREATE_PIPE_TRANSPORT="createPipeTransport",e.CONNECT_PIPE_TRANSPORT="connectPipeTransport",e.SET_PREFERRED_LAYERS="setPreferredLayers",e.SET_MAX_INCOMING_BITRATE="setMaxIncomingBitrate",e.PRODUCERS_STATS="producersStats",e.CONSUMERS_STATS="consumersStats",e.TRANSPORT_STATS="transportStats",e.PIPE_TO_REMOTE_PRODUCER="pipeToRemoteProducer",e.PIPE_FROM_REMOTE_PRODUCER="pipeFromRemoteProducer",e.WORKER_LOAD="workerLoad",e.NUM_WORKERS="numWorkers",e.RECORDED_STREAMS="recordedStreams",e.STREAM_RECORDINGS="streamRecordings",e.DELETE_STREAM_RECORDINGS="deleteStreamRecordings",e.DELETE_RECORDING="deleteRecording",e.PUSH_TO_SERVER_INPUTS="pushToServerInputs",e.PULL_FROM_SERVER_INPUTS="pullFromServerInputs",e.PUSH_TO_SERVER_OPTIONS="pushToServerOptions",e.PUSH_TO_SERVER="pushToServer",e.KINDS_BY_FILE="kindsByFile",e.REQUEST_KEYFRAME="requestKeyframe",e.LISTEN_STREAM_STARTED="listenStreamStarted",e.LISTEN_STREAM_STOPPED="listenStreamStopped",e.MIXER_START="mixerStart",e.MIXER_CLOSE="mixerClose",e.MIXER_ADD="mixerAdd",e.MIXER_ADD_FILE="mixerAddFile",e.MIXER_REMOVE="mixerRemove",e.MIXER_UPDATE="mixerUpdate",e.MIXER_PIPE_START="mixerPipeStart",e.MIXER_PIPE_STOP="mixerPipeStop",e.MIXER_COMMAND="mixerCommand",e.LISTEN_MIXER_STOPPED="listenMixerStopped"}(n||(n={}));var a,i,o=[n.GET_SERVER_CONFIGS,n.CREATE_TRANSPORT,n.CONNECT_TRANSPORT,n.CLOSE_TRANSPORT,n.PRODUCE,n.CONSUME,n.LISTEN_STREAM_STARTED,n.LISTEN_STREAM_STOPPED,n.LISTEN_MIXER_STOPPED,n.CREATE_PIPE_TRANSPORT,n.CONNECT_PIPE_TRANSPORT,n.PIPE_TO_REMOTE_PRODUCER,n.PIPE_FROM_REMOTE_PRODUCER],s=Object.values(n).filter((function(e){return!o.includes(e)}));!function(e){e.STREAM_STARTED="streamStarted",e.STREAM_STOPPED="streamStopped",e.MIXER_STOPPED="mixerStopped"}(a||(a={})),function(e){e.STATS="stats",e.TRAFFIC="traffic",e.CPU="cpu",e.STREAM="stream"}(i||(i={}));var c,u={ROOT:"hls",PLAYLIST:"master.m3u8"};!function(e){e.API="api"}(c||(c={}));var l,d,p,f,h={PATH:"nexmo",AUDIO_SAMPLE_RATE:16e3,AUDIO_CHANNELS:1};!function(e){e[e.UNKNOWN=500]="UNKNOWN",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.INVALID_TRANSPORT=530]="INVALID_TRANSPORT",e[e.INVALID_PRODUCER=531]="INVALID_PRODUCER",e[e.INVALID_CONSUMER=532]="INVALID_CONSUMER",e[e.INVALID_STREAM=533]="INVALID_STREAM",e[e.INVALID_OPERATION=534]="INVALID_OPERATION",e[e.INVALID_WORKER=535]="INVALID_WORKER",e[e.INVALID_INPUT=536]="INVALID_INPUT",e[e.INVALID_ACTION=537]="INVALID_ACTION"}(l||(l={})),function(e){e[e.SUBSCRIBE=0]="SUBSCRIBE",e[e.PUBLISH=1]="PUBLISH",e[e.RECORDING=2]="RECORDING",e[e.STREAMING=3]="STREAMING",e[e.MIXER=4]="MIXER"}(d||(d={})),function(e){e[e.LIVE=0]="LIVE",e[e.RECORDING=1]="RECORDING",e[e.RTMP=2]="RTMP",e[e.HLS=3]="HLS"}(p||(p={})),function(e){e.SCALE="scale",e.CROP="crop",e.PAD="pad"}(f||(f={}))},function(e,t){e.exports=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(6),a=r.n(n),i=r(1),u=r.n(i),l=r(0),d=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},p=function(){function e(t,r,n,a,i){s(this,e),this.closed=!1,this.log=a||console.log,this.url=t,this.worker=r,this.token=n,this.cloudApi=i}return c(e,[{key:"connectSocket",value:function(){var e=this;return new Promise((function(t,r){e.client.connected?t():(e.client.on("error",(function(e){"Not enough or too many segments"===e.message?e.errorId=l.c.UNAUTHORIZED:e.errorId=l.c.UNKNOWN,r(e)})),e.client.on("connect",t))}))}},{key:"resumeConsumer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.RESUME_CONSUMER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pauseConsumer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PAUSE_CONSUMER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setPreferredLayers",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.SET_PREFERRED_LAYERS,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closeConsumer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.CLOSE_CONSUMER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"resumeProducer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.RESUME_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pauseProducer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PAUSE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closeProducer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.CLOSE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"produce",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PRODUCE,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"consume",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.CONSUME,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"createPipeTransport",value:function(){return d(this,void 0,void 0,o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(l.a.CREATE_PIPE_TRANSPORT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"connectPipeTransport",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.CONNECT_PIPE_TRANSPORT,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closeTransport",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.CLOSE_TRANSPORT,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"getServerConfigs",value:function(){return d(this,void 0,void 0,o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(l.a.GET_SERVER_CONFIGS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"createTransport",value:function(){return d(this,void 0,void 0,o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(l.a.CREATE_TRANSPORT);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"connectTransport",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.CONNECT_TRANSPORT,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setMaxIncomingBitrate",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.SET_MAX_INCOMING_BITRATE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"producersStats",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PRODUCERS_STATS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"consumersStats",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.CONSUMERS_STATS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"transportStats",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.TRANSPORT_STATS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"workerLoad",value:function(){return d(this,void 0,void 0,o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(l.a.WORKER_LOAD);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"numWorkers",value:function(){return d(this,void 0,void 0,o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(l.a.NUM_WORKERS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"pipeToRemoteProducer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PIPE_TO_REMOTE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pipeFromRemoteProducer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PIPE_FROM_REMOTE_PRODUCER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"startRecording",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.origin&&this.cloudApi,!t.t0){t.next=5;break}return t.next=4,this.cloudApi.streamOrigin(this,e.stream);case 4:e.origin=t.sent;case 5:return t.next=7,this.request(l.a.START_RECORDING,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"stopRecording",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.STOP_RECORDING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"fileStreaming",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.FILE_STREAMING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopFileStreaming",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.STOP_FILE_STREAMING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"recordedStreams",value:function(){return d(this,void 0,void 0,o.mark((function e(){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(l.a.RECORDED_STREAMS);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"streamRecordings",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.STREAM_RECORDINGS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"deleteStreamRecordings",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.DELETE_STREAM_RECORDINGS,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"deleteRecording",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.DELETE_RECORDING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pushToServerInputs",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PUSH_TO_SERVER_INPUTS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"pushToServerOptions",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PUSH_TO_SERVER_OPTIONS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"pushToServer",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PUSH_TO_SERVER,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pullFromServerInputs",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.PULL_FROM_SERVER_INPUTS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"kindsByFile",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.KINDS_BY_FILE,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"requestKeyframe",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.REQUEST_KEYFRAME,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"listenStreamStarted",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.LISTEN_STREAM_STARTED,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"listenStreamStopped",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.LISTEN_STREAM_STOPPED,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"liveStreaming",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.LIVE_STREAMING,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"liveToHls",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.LIVE_TO_HLS,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"mixerStart",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_START,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"mixerClose",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_CLOSE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerAdd",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e.origin&&this.cloudApi,!t.t0){t.next=5;break}return t.next=4,this.cloudApi.streamOrigin(this,e.stream);case 4:e.origin=t.sent;case 5:return t.next=7,this.request(l.a.MIXER_ADD,e);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"mixerAddFile",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_ADD_FILE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerUpdate",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_UPDATE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerRemove",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_REMOVE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerPipeStart",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_PIPE_START,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"mixerPipeStop",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_PIPE_STOP,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"mixerCommand",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.MIXER_COMMAND,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"listenMixerStopped",value:function(e){return d(this,void 0,void 0,o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(l.a.LISTEN_MIXER_STOPPED,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"hlsUrl",value:function(e){return"".concat(this.url,"/").concat(l.e.ROOT,"/").concat(e,"/").concat(l.e.PLAYLIST)}},{key:"streamOrigin",value:function(e){if(e&&e.url!==this.url)return{source:e,target:{url:this.url,token:this.token,worker:this.worker}}}},{key:"clear",value:function(){this.closed=!0,this._client&&(this._client.removeAllListeners(),this.client.connected&&this._client.disconnect())}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,void 0,void 0,o.mark((function r(){return o.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.closed){r.next=2;break}return r.abrupt("return",this._client||l.k.includes(e)?this.socketRequest(e,t):this.restRequest(e,t));case 2:case"end":return r.stop()}}),r,this)})))}},{key:"socketRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,void 0,void 0,o.mark((function r(){var n=this;return o.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.connectSocket();case 2:return this.log("sent message",e,JSON.stringify(t)),r.abrupt("return",new Promise((function(r,a){n.client.emit(e,t,(function(t){t&&"boolean"!=typeof t&&t.hasOwnProperty("errorId")?(n.log("got error",e,JSON.stringify(t)),a(t)):(n.log("got message",e,JSON.stringify(t)),r(t))}))})));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"restRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,void 0,void 0,o.mark((function r(){var n,a,i;return o.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u.a.post("".concat(this.url,"/").concat(l.i.API,"/").concat(this.worker,"/").concat(e),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}});case 3:return n=r.sent,a=n.data,r.abrupt("return",(this.log("got message",e,JSON.stringify(a)),a));case 8:throw r.prev=8,r.t0=r.catch(0),i=l.c.UNKNOWN,this.log("got error",r.t0),r.t0.response&&r.t0.response.status&&l.c[r.t0.response.status]&&(i=r.t0.response.status),{errorId:i};case 12:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"client",get:function(){return this._client||(this._client=a()(this.url,{path:"",transports:["websocket"],query:"auth_token=".concat(this.token,"&mediasoup_worker=").concat(this.worker),forceNew:!0})),this._client}}]),e}()},function(e,t){},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),a=function(){function e(){s(this,e)}return c(e,null,[{key:"pinCodeChoice",value:function(e,t){return[{action:"talk",text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Please, enter active pin code.",bargeIn:!0},{action:"input",maxDigits:e,timeOut:10,eventUrl:[t]}]}},{key:"pinCodeChoiceRepeat",value:function(t,r){var n=arguments.length>3?arguments[3]:void 0;return[{action:"talk",text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Sorry, this pin code is invalid."}].concat(i(e.pinCodeChoice(t,r,n)))}},{key:"mixerConnect",value:function(e,t){return[{action:"talk",text:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Connecting to meeting. Please, wait."},{action:"connect",endpoint:[{type:"websocket",uri:"".concat(e.replace("http","ws"),"/").concat(n.h.PATH),"content-type":"audio/l16;rate="+n.h.AUDIO_SAMPLE_RATE,headers:t}]}]}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(1),a=r.n(n),i=r(0),u=r(2),l=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},d=function(){function e(t,r,n){s(this,e),this.url=t,this.token=r,this.log=n}return c(e,[{key:"create",value:function(e){return l(this,void 0,void 0,o.mark((function t(){var r,n,i,s,c;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.post(this.url+"/api/customer/config/api",{operation:e},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}});case 2:return r=t.sent,n=r.data.config,i=n.url,s=n.worker,c=n.token,t.abrupt("return",new u.a(i,s,c,this.log,this));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"streamOrigin",value:function(e,t){return l(this,void 0,void 0,o.mark((function r(){var n,s,c,u,l;return o.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.post(this.url+"/api/customer/config/sdk",{operation:i.b.PUBLISH,stream:t},{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}});case 2:return n=r.sent,s=n.data.config,c=s.url,u=s.worker,l=s.token,r.abrupt("return",e.streamOrigin({url:c,worker:u,token:l}));case 8:case"end":return r.stop()}}),r,this)})))}}]),e}()},function(e,t){e.exports=a},function(e,t,r){"use strict";r.r(t);var n=r(0);r.d(t,"ERROR",(function(){return n.c})),r.d(t,"ACTION",(function(){return n.a})),r.d(t,"API_OPERATION",(function(){return n.b})),r.d(t,"EVENT",(function(){return n.d})),r.d(t,"STAT",(function(){return n.l})),r.d(t,"MIXER_PIPE_TYPE",(function(){return n.f})),r.d(t,"NEXMO",(function(){return n.h})),r.d(t,"HLS",(function(){return n.e})),r.d(t,"PATH",(function(){return n.i})),r.d(t,"SOCKET_ONLY_ACTIONS",(function(){return n.k})),r.d(t,"REST_ACTIONS",(function(){return n.j})),r.d(t,"MIXER_RENDER_TYPE",(function(){return n.g}));var a=r(2);r.d(t,"MediasoupSocketApi",(function(){return a.a}));var i=r(3);for(var o in i)["default","ERROR","ACTION","API_OPERATION","EVENT","STAT","MIXER_PIPE_TYPE","NEXMO","HLS","PATH","SOCKET_ONLY_ACTIONS","REST_ACTIONS","MIXER_RENDER_TYPE","MediasoupSocketApi","NexmoUtils","CloudApi"].indexOf(o)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(o);var s=r(4);r.d(t,"NexmoUtils",(function(){return s.a}));var c=r(5);r.d(t,"CloudApi",(function(){return c.a}))}]))},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var r,s,c=o(e),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))a.call(r,l)&&(c[l]=r[l]);if(n){s=n(r);for(var d=0;d<s.length;d++)i.call(r,s[d])&&(c[s[d]]=r[s[d]])}}return c}},function(e,t,r){var n=r(23);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){var n=r(97)("socket.io-parser"),a=r(5),i=r(100),o=r(41),s=r(42);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var u=t.ERROR+'"encode error"';function l(e){var r=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data){var a=function(e){try{return JSON.stringify(e)}catch(t){return!1}}(e.data);if(!1===a)return u;r+=a}return n("encoded %j as %s",e,r),r}function d(){this.reconstructor=null}function p(e){this.reconPack=e,this.buffers=[]}function f(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,r){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){function r(e){var r=i.deconstructPacket(e),n=l(r.packet),a=r.buffers;a.unshift(n),t(a)}i.removeBlobs(e,r)}(e,r):r([l(e)])},a(d.prototype),d.prototype.add=function(e){var r;if("string"===typeof e)r=function(e){var r=0,a={type:Number(e.charAt(0))};if(null==t.types[a.type])return f("unknown packet type "+a.type);if(t.BINARY_EVENT===a.type||t.BINARY_ACK===a.type){for(var i="";"-"!==e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!==e.charAt(r))throw new Error("Illegal attachments");a.attachments=Number(i)}if("/"===e.charAt(r+1))for(a.nsp="";++r;){if(","===(c=e.charAt(r)))break;if(a.nsp+=c,r===e.length)break}else a.nsp="/";var s=e.charAt(r+1);if(""!==s&&Number(s)==s){for(a.id="";++r;){var c;if(null==(c=e.charAt(r))||Number(c)!=c){--r;break}if(a.id+=e.charAt(r),r===e.length)break}a.id=Number(a.id)}if(e.charAt(++r)){var u=function(e){try{return JSON.parse(e)}catch(t){return!1}}(e.substr(r));if(!(!1!==u&&(a.type===t.ERROR||o(u))))return f("invalid payload");a.data=u}return n("decoded %s as %j",e,a),a}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new p(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",r))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,r){"use strict";(function(e){var n=r(102),a=r(103),i=r(104);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),a=(e=s(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return z(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return R(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,a){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,a);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,a){var i,o=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var l=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){for(var d=!0,p=0;p<c;p++)if(u(e,i+p)!==u(t,p)){d=!1;break}if(d)return i}return-1}function b(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function w(e,t,r,n){return V(z(t,e.length-r),e,r,n)}function _(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function k(e,t,r,n){return _(e,t,r,n)}function S(e,t,r,n){return V(q(t),e,r,n)}function x(e,t,r,n){return V(function(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function R(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,s,c,u=e[a],l=null,d=u>239?4:u>223?3:u>191?2:1;if(a+d<=r)switch(d){case 1:u<128&&(l=u);break;case 2:128===(192&(i=e[a+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[a+1],o=e[a+2],128===(192&i)&&128===(192&o)&&(c=(15&u)<<12|(63&i)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128===(192&i)&&128===(192&o)&&128===(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),a+=d}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"===typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,a){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(i,o),u=this.slice(n,a),l=e.slice(t,r),d=0;d<s;++d)if(u[d]!==l[d]){i=u[d],o=l[d];break}return i<o?-1:o<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return k(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=U(e[i]);return a}function I(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function D(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,r,n,a,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function N(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,n,i){return i||N(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,i){return i||N(e,0,r,8),a.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var a=t-e;r=new c(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},c.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||A(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||A(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);A(this,e,t,r,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);A(this,e,t,r,a-1,-a)}var i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return F(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return F(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=c.isBuffer(e)?e:z(new c(e,n).toString()),s=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(101))},function(e,t,r){var n=r(107),a=r(21);e.exports=function(e){var t=e.xdomain,r=e.xscheme,i=e.enablesXDR;try{if("undefined"!==typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(o){}try{if("undefined"!==typeof XDomainRequest&&!r&&i)return new XDomainRequest}catch(o){}if(!t)try{return new(a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},function(e,t){e.exports="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},function(e,t,r){var n=r(6),a=r(5);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,a(i.prototype),i.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,r){var n=r(75),a=r(76),i=r(16),o=r(77);e.exports=function(e){return n(e)||a(e)||i(e)||o()}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){e.exports=r(78)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(2);function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var o=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){var n=r(2),a=r(83),i={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=r(35)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){s.headers[e]=n.merge(i)})),e.exports=s}).call(this,r(4))},function(e,t,r){"use strict";var n=r(2),a=r(84),i=r(32),o=r(86),s=r(89),c=r(90),u=r(36);e.exports=function(e){return new Promise((function(t,l){var d=e.data,p=e.headers;n.isFormData(d)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password||"";p.Authorization="Basic "+btoa(h+":"+m)}var v=o(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),i(v,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};a(t,l,n),f=null}},f.onabort=function(){f&&(l(u("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){l(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var g=r(91),y=(e.withCredentials||c(v))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in f&&n.forEach(p,(function(e,t){"undefined"===typeof d&&"content-type"===t.toLowerCase()?delete p[t]:f.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),l(e),f=null)})),void 0===d&&(d=null),f.send(d)}))}},function(e,t,r){"use strict";var n=r(85);e.exports=function(e,t,r,a,i){var o=new Error(e);return n(o,t,r,a,i)}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){t=t||{};var r={},a=["url","method","params","data"],i=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(a,(function(e){"undefined"!==typeof t[e]&&(r[e]=t[e])})),n.forEach(i,(function(a){n.isObject(t[a])?r[a]=n.deepMerge(e[a],t[a]):"undefined"!==typeof t[a]?r[a]=t[a]:n.isObject(e[a])?r[a]=n.deepMerge(e[a]):"undefined"!==typeof e[a]&&(r[a]=e[a])})),n.forEach(o,(function(n){"undefined"!==typeof t[n]?r[n]=t[n]:"undefined"!==typeof e[n]&&(r[n]=e[n])}));var s=a.concat(i).concat(o),c=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(c,(function(n){"undefined"!==typeof t[n]?r[n]=t[n]:"undefined"!==typeof e[n]&&(r[n]=e[n])})),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){var n=r(94),a=r(18),i=r(43),o=r(9)("socket.io-client");e.exports=t=c;var s=t.managers={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var r,a=n(e),c=a.source,u=a.id,l=a.path,d=s[u]&&l in s[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(o("ignoring socket cache for %s",c),r=i(c,t)):(s[u]||(o("new io instance for %s",c),s[u]=i(c,t)),r=s[u]),a.query&&!t.query&&(t.query=a.query),r.socket(a.path,t)}t.protocol=a.protocol,t.connect=c,t.Manager=r(43),t.Socket=r(49)},function(e,t){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,a=e.indexOf("["),i=e.indexOf("]");-1!=a&&-1!=i&&(e=e.substring(0,a)+e.substring(a,i).replace(/:/g,";")+e.substring(i,e.length));for(var o=r.exec(e||""),s={},c=14;c--;)s[n[c]]=o[c]||"";return-1!=a&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,s.path),s.queryKey=function(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,s.query),s}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t){e.exports=function(e){return r&&t.isBuffer(e)||n&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var r="function"===typeof t&&"function"===typeof t.isBuffer,n="function"===typeof ArrayBuffer}).call(this,r(19).Buffer)},function(e,t,r){var n=r(105),a=r(49),i=r(5),o=r(18),s=r(50),c=r(51),u=r(9)("socket.io-client:manager"),l=r(48),d=r(122),p=Object.prototype.hasOwnProperty;function f(e,t){if(!(this instanceof f))return new f(e,t);e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=f,f.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},f.prototype.updateSocketIds=function(){for(var e in this.nsps)p.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},f.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(f.prototype),f.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},f.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},f.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,a=this;this.readyState="opening",this.skipReconnect=!1;var i=s(r,"open",(function(){a.onopen(),e&&e()})),o=s(r,"error",(function(t){if(u("connect_error"),a.cleanup(),a.readyState="closed",a.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else a.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c),0===c&&i.destroy();var l=setTimeout((function(){u("connect attempt timed out after %d",c),i.destroy(),r.close(),r.emit("error","timeout"),a.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(o),this},f.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(s(e,"data",c(this,"ondata"))),this.subs.push(s(e,"ping",c(this,"onping"))),this.subs.push(s(e,"pong",c(this,"onpong"))),this.subs.push(s(e,"error",c(this,"onerror"))),this.subs.push(s(e,"close",c(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",c(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(e){this.decoder.add(e)},f.prototype.ondecoded=function(e){this.emit("packet",e)},f.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},f.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var n=this;r.on("connecting",i),r.on("connect",(function(){r.id=n.generateId(e)})),this.autoConnect&&i()}function i(){~l(n.connecting,r)||n.connecting.push(r)}return r},f.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},f.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()})))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},f.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(r)}})}},f.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,r){var n=r(20),a=r(108),i=r(118),o=r(119);t.polling=function(e){var t=!1,r=!1,o=!1!==e.jsonp;if("undefined"!==typeof location){var s="https:"===location.protocol,c=location.port;c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,r=e.secure!==s}if(e.xdomain=t,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new a(e);if(!o)throw new Error("JSONP disabled");return new i(e)},t.websocket=o},function(e,t,r){var n=r(22),a=r(10),i=r(6),o=r(11),s=r(47),c=r(12)("engine.io-client:polling");e.exports=l;var u=null!=new(r(20))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),n.call(this,e)}o(l,n),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function r(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--n||r()}))),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",(function(){c("pre-pause writing complete"),--n||r()})))}else r()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;c("polling got data %s",e);i.decodePayload(e,this.socket.binaryType,(function(e,r,n){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,r)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=a.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e}},function(e,t,r){(function(t){var n=r(110),a=Object.prototype.toString,i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===a.call(Blob),o="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===a.call(File);e.exports=function e(r){if(!r||"object"!==typeof r)return!1;if(n(r)){for(var a=0,s=r.length;a<s;a++)if(e(r[a]))return!0;return!1}if("function"===typeof t&&t.isBuffer&&t.isBuffer(r)||"function"===typeof ArrayBuffer&&r instanceof ArrayBuffer||i&&r instanceof Blob||o&&r instanceof File)return!0;if(r.toJSON&&"function"===typeof r.toJSON&&1===arguments.length)return e(r.toJSON(),!0);for(var c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&e(r[c]))return!0;return!1}}).call(this,r(19).Buffer)},function(e,t,r){"use strict";var n,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},o=0,s=0;function c(e){var t="";do{t=a[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function u(){var e=c(+new Date);return e!==n?(o=0,n=e):e+"."+c(o++)}for(;s<64;s++)i[a[s]]=s;u.encode=c,u.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=64*t+i[e.charAt(s)];return t},e.exports=u},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(18),a=r(5),i=r(121),o=r(50),s=r(51),c=r(9)("socket.io-client:socket"),u=r(10),l=r(46);e.exports=f;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=a.prototype.emit;function f(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}a(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[o(e,"open",s(this,"onopen")),o(e,"packet",s(this,"onpacket")),o(e,"close",s(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},f.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},f.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=i(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"===typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},f.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},f.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},f.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},f.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&"/"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},f.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},f.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var a=i(arguments);c("sending ack %j",a),t.packet({type:l(a)?n.BINARY_ACK:n.ACK,id:e,data:a})}}},f.prototype.onack=function(e){var t=this.acks[e.id];"function"===typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(e){return this.flags.compress=e,this},f.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},function(e,t){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(55)},function(e,t,r){"use strict";r(15);var n=r(1),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),t.Fragment=i("react.fragment")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:u,ref:l,props:i,_owner:o.current}}t.jsx=u,t.jsxs=u},function(e,t,r){"use strict";var n=r(15),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),i=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),l=d("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}function g(){}function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,n(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var n,i={},o=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,n)&&!k.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===i[n]&&(i[n]=c[n]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var R=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,r,n,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case a:case i:c=!0}}if(c)return o=o(c=e),e=""===n?"."+E(c,0):n,Array.isArray(o)?(r="",null!=e&&(r=e.replace(R,"$&/")+"/"),C(o,t,r,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(R,"$&/")+"/")+e)),t.push(o)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=n+E(s=e[u],u);c+=C(s,t,r,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),u=0;!(s=e.next()).done;)c+=C(s=s.value,t,r,l=n+E(s,u++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function T(e,t,r){if(null==e)return e;var n=[],a=0;return C(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function I(){var e=O.current;if(null===e)throw Error(f(321));return e}var D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:T,forEach:function(e,t,r){T(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(f(267,e));var i=n({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)_.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:a,type:e.type,key:o,ref:s,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return I().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,r){return I().useReducer(e,t,r)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.1"},function(e,t,r){"use strict";var n=r(1),a=r(15),i=r(56);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(o(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function v(e,t,r,n,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0===a.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,S=60106,x=60107,R=60108,E=60114,C=60109,T=60110,P=60112,O=60113,I=60120,D=60115,A=60116,M=60121,L=60128,N=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;k=B("react.element"),S=B("react.portal"),x=B("react.fragment"),R=B("react.strict_mode"),E=B("react.profiler"),C=B("react.provider"),T=B("react.context"),P=B("react.forward_ref"),O=B("react.suspense"),I=B("react.suspense_list"),D=B("react.memo"),A=B("react.lazy"),M=B("react.block"),B("react.scope"),L=B("react.opaque.id"),N=B("react.debug_trace_mode"),F=B("react.offscreen"),j=B("react.legacy_hidden")}var U,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function V(e){if(void 0===U)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=n.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?V(e):""}function G(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case E:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return W(e.type);case M:return W(e._render);case A:t=e._payload,e=e._init;try{return W(e(t))}catch(r){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=X(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){te(e,t);var r=X(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,r):t.hasOwnProperty("defaultValue")&&ae(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ae(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+X(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:X(r)}}function ue(e,t){var r=X(t.value),n=X(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function _e(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function ke(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=_e(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Re(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Te=null,Pe=null;function Oe(e){if(e=ea(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ra(t),Ce(e.stateNode,e.type,t))}}function Ie(e){Te?Pe?Pe.push(e):Pe=[e]:Te=e}function De(){if(Te){var e=Te,t=Pe;if(Pe=Te=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ae(e,t){return e(t)}function Me(e,t,r,n,a){return e(t,r,n,a)}function Le(){}var Ne=Ae,Fe=!1,je=!1;function Be(){null===Te&&null===Pe||(Le(),De())}function Ue(e,t){var r=e.stateNode;if(null===r)return null;var n=ra(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var ze=!1;if(d)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ve){ze=!1}function Ve(e,t,r,n,a,i,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(l){this.onError(l)}}var He=!1,Ke=null,Ge=!1,We=null,Xe={onError:function(e){He=!0,Ke=e}};function Ye(e,t,r,n,a,i,o,s,c){He=!1,Ke=null,Ve.apply(Xe,arguments)}function Qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(o(188))}function Ze(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Je(a),e;if(i===n)return Je(a),t;i=i.sibling}throw Error(o(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=i;break}if(c===n){s=!0,n=a,r=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===r){s=!0,r=i,n=a;break}if(c===n){s=!0,n=i,r=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,at,it=!1,ot=[],st=null,ct=null,ut=null,lt=new Map,dt=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,r,n,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:a,targetContainers:[n]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,r,n,a,i){return null===e||e.nativeEvent!==i?(e=ht(t,r,n,a,i),null!==t&&(null!==(t=ea(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function gt(e){var t=Zn(e.target);if(null!==t){var r=Qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=$e(r)))return e.blockedOn=t,void at(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ea(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){yt(e)&&r.delete(t)}function wt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ea(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(bt),dt.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wt)))}function kt(e){function t(t){return _t(t,e)}if(0<ot.length){_t(ot[0],e);for(var r=1;r<ot.length;r++){var n=ot[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ct&&_t(ct,e),null!==ut&&_t(ut,e),lt.forEach(t),dt.forEach(t),r=0;r<pt.length;r++)(n=pt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<pt.length&&null===(r=pt[0]).blockedOn;)gt(r),null===r.blockedOn&&pt.shift()}function St(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Rt={},Et={};function Ct(e){if(Rt[e])return Rt[e];if(!xt[e])return e;var t,r=xt[e];for(t in r)if(r.hasOwnProperty(t)&&t in Et)return Rt[e]=r[t];return e}d&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var Tt=Ct("animationend"),Pt=Ct("animationiteration"),Ot=Ct("animationstart"),It=Ct("transitionend"),Dt=new Map,At=new Map,Mt=["abort","abort",Tt,"animationEnd",Pt,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];a="on"+(a[0].toUpperCase()+a.slice(1)),At.set(n,t),Dt.set(n,a),u(a,[n])}}(0,i.unstable_now)();var Nt=8;function Ft(e){if(0!==(1&e))return Nt=15,1;if(0!==(2&e))return Nt=14,2;if(0!==(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!==(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!==(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!==(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!==(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!==(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function jt(e,t){var r=e.pendingLanes;if(0===r)return Nt=0;var n=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==i)n=i,a=Nt=15;else if(0!==(i=134217727&r)){var c=i&~o;0!==c?(n=Ft(c),a=Nt):0!==(s&=i)&&(n=Ft(s),a=Nt)}else 0!==(i=r&~o)?(n=Ft(i),a=Nt):0!==s&&(n=Ft(s),a=Nt);if(0===n)return 0;if(n=r&((0>(n=31-Ht(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&o)){if(Ft(t),a<=Nt)return t;Nt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-Ht(t)),n|=e[r],t&=~a;return n}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Vt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Ht(t)]=r}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Gt|0)|0},Kt=Math.log,Gt=Math.LN2;var Wt=i.unstable_UserBlockingPriority,Xt=i.unstable_runWithPriority,Yt=!0;function Qt(e,t,r,n){Fe||Le();var a=Jt,i=Fe;Fe=!0;try{Me(a,e,t,r,n)}finally{(Fe=i)||Be()}}function $t(e,t,r,n){Xt(Wt,Jt.bind(null,e,t,r,n))}function Jt(e,t,r,n){var a;if(Yt)if((a=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=ht(null,e,t,r,n),ot.push(e);else{var i=Zt(e,t,r,n);if(null===i)a&&mt(e,n);else{if(a){if(-1<ft.indexOf(e))return e=ht(i,e,t,r,n),void ot.push(e);if(function(e,t,r,n,a){switch(t){case"focusin":return st=vt(st,e,t,r,n,a),!0;case"dragenter":return ct=vt(ct,e,t,r,n,a),!0;case"mouseover":return ut=vt(ut,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return lt.set(i,vt(lt.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,dt.set(i,vt(dt.get(i)||null,e,t,r,n,a)),!0}return!1}(i,e,t,r,n))return;mt(e,n)}Dn(e,t,n,null,r)}}}function Zt(e,t,r,n){var a=Ee(n);if(null!==(a=Zn(a))){var i=Qe(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=$e(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Dn(e,t,n,a,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,a="value"in er?er.value:er.textContent,i=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[i-t];t++);return rr=a.slice(e,1<t?1-t:void 0)}function ar(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ir(){return!0}function or(){return!1}function sr(e){function t(t,r,n,a,i){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?ir:or,this.isPropagationStopped=or,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var cr,ur,lr,dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=sr(dr),fr=a({},dr,{view:0,detail:0}),hr=sr(fr),mr=a({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(cr=e.screenX-lr.screenX,ur=e.screenY-lr.screenY):ur=cr=0,lr=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:ur}}),vr=sr(mr),gr=sr(a({},mr,{dataTransfer:0})),yr=sr(a({},fr,{relatedTarget:0})),br=sr(a({},dr,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=sr(a({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_r=sr(a({},dr,{data:0})),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Er(){return Rr}var Cr=sr(a({},fr,{key:function(e){if(e.key){var t=kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ar(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?ar(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ar(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Tr=sr(a({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=sr(a({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Or=sr(a({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=sr(a({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dr=[9,13,27,32],Ar=d&&"CompositionEvent"in window,Mr=null;d&&"documentMode"in document&&(Mr=document.documentMode);var Lr=d&&"TextEvent"in window&&!Mr,Nr=d&&(!Ar||Mr&&8<Mr&&11>=Mr),Fr=String.fromCharCode(32),jr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ie(n),0<(t=Mn(t,"onChange")).length&&(r=new pr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kr=null,Gr=null;function Wr(e){En(e,0)}function Xr(e){if($(ta(e)))return e}function Yr(e,t){if("change"===e)return t}var Qr=!1;if(d){var $r;if(d){var Jr="oninput"in document;if(!Jr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Jr="function"===typeof Zr.oninput}$r=Jr}else $r=!1;Qr=$r&&(!document.documentMode||9<document.documentMode)}function en(){Kr&&(Kr.detachEvent("onpropertychange",tn),Gr=Kr=null)}function tn(e){if("value"===e.propertyName&&Xr(Gr)){var t=[];if(Hr(t,Gr,e,Ee(e)),e=Wr,Fe)e(t);else{Fe=!0;try{Ae(e,t)}finally{Fe=!1,Be()}}}}function rn(e,t,r){"focusin"===e?(en(),Gr=r,(Kr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xr(Gr)}function an(e,t){if("click"===e)return Xr(t)}function on(e,t){if("input"===e||"change"===e)return Xr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cn=Object.prototype.hasOwnProperty;function un(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!cn.call(t,r[n])||!sn(e[r[n]],t[r[n]]))return!1;return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=d&&"documentMode"in document&&11>=document.documentMode,vn=null,gn=null,yn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==vn||vn!==J(n)||("selectionStart"in(n=vn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&un(yn,n)||(yn=n,0<(n=Mn(gn,"onSelect")).length&&(t=new pr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vn)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Mt,2);for(var _n="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kn=0;kn<_n.length;kn++)At.set(_n[kn],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sn));function Rn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,i,s,c,u){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=Ke;He=!1,Ke=null,Ge||(Ge=!0,We=l)}}(n,t,void 0,e),e.currentTarget=null}function En(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;Rn(a,s,u),i=c}else for(o=0;o<n.length;o++){if(c=(s=n[o]).instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;Rn(a,s,u),i=c}}}if(Ge)throw e=We,Ge=!1,We=null,e}function Cn(e,t){var r=na(t),n=e+"__bubble";r.has(n)||(In(t,e,2,!1),r.add(n))}var Tn="_reactListening"+Math.random().toString(36).slice(2);function Pn(e){e[Tn]||(e[Tn]=!0,s.forEach((function(t){xn.has(t)||On(t,!1,e,null),On(t,!0,e,null)})))}function On(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=r;if("selectionchange"===e&&9!==r.nodeType&&(i=r.ownerDocument),null!==n&&!t&&xn.has(e)){if("scroll"!==e)return;a|=2,i=n}var o=na(i),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(a|=4),In(i,e,a,t),o.add(s))}function In(e,t,r,n){var a=At.get(t);switch(void 0===a?2:a){case 0:a=Qt;break;case 1:a=$t;break;default:a=Jt}r=a.bind(null,t,r,e),a=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Dn(e,t,r,n,a){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=Zn(s)))return;if(5===(c=o.tag)||6===c){n=i=o;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(je)return e(t,r);je=!0;try{Ne(e,t,r)}finally{je=!1,Be()}}((function(){var n=i,a=Ee(r),o=[];e:{var s=Dt.get(e);if(void 0!==s){var c=pr,u=e;switch(e){case"keypress":if(0===ar(r))break e;case"keydown":case"keyup":c=Cr;break;case"focusin":u="focus",c=yr;break;case"focusout":u="blur",c=yr;break;case"beforeblur":case"afterblur":c=yr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Pr;break;case Tt:case Pt:case Ot:c=br;break;case It:c=Or;break;case"scroll":c=hr;break;case"wheel":c=Ir;break;case"copy":case"cut":case"paste":c=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Tr}var l=0!==(4&t),d=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var f,h=n;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Ue(h,p))&&l.push(An(h,m,f)))),d)break;h=h.return}0<l.length&&(s=new c(s,u,null,r,a),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=r.relatedTarget||r.fromElement)||!Zn(u)&&!u[$n])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?Zn(u):null)&&(u!==(d=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=n),c!==u)){if(l=vr,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tr,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==c?s:ta(c),f=null==u?s:ta(u),(s=new l(m,h+"leave",c,r,a)).target=d,s.relatedTarget=f,m=null,Zn(a)===n&&((l=new l(p,h+"enter",u,r,a)).target=f,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(p=u,h=0,f=l=c;f;f=Ln(f))h++;for(f=0,m=p;m;m=Ln(m))f++;for(;0<h-f;)l=Ln(l),h--;for(;0<f-h;)p=Ln(p),f--;for(;h--;){if(l===p||null!==p&&l===p.alternate)break e;l=Ln(l),p=Ln(p)}l=null}else l=null;null!==c&&Nn(o,s,c,l,!1),null!==u&&null!==d&&Nn(o,d,u,l,!0)}if("select"===(c=(s=n?ta(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Yr;else if(Vr(s))if(Qr)v=on;else{v=nn;var g=rn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=an);switch(v&&(v=v(e,n))?Hr(o,v,r,a):(g&&g(e,s,n),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ae(s,"number",s.value)),g=n?ta(n):window,e){case"focusin":(Vr(g)||"true"===g.contentEditable)&&(vn=g,gn=n,yn=null);break;case"focusout":yn=gn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(o,r,a);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":wn(o,r,a)}var y;if(Ar)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zr?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(y=nr()):(tr="value"in(er=a)?er.value:er.textContent,zr=!0)),0<(g=Mn(n,b)).length&&(b=new _r(b,e,null,r,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Ur(r))&&(b.data=y))),(y=Lr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(jr=!0,Fr);case"textInput":return(e=t.data)===Fr&&jr?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Ar&&Br(e,t)?(e=nr(),rr=tr=er=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))&&(0<(n=Mn(n,"onBeforeInput")).length&&(a=new _r("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=y))}En(o,t)}))}function An(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Mn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ue(e,r))&&n.unshift(An(e,i,a)),null!=(i=Ue(e,t))&&n.push(An(e,i,a))),e=e.return}return n}function Ln(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t,r,n,a){for(var i=t._reactName,o=[];null!==r&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(null!==c&&c===n)break;5===s.tag&&null!==u&&(s=u,a?null!=(c=Ue(r,i))&&o.unshift(An(r,c,s)):a||null!=(c=Ue(r,i))&&o.push(An(r,c,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}function Fn(){}var jn=null,Bn=null;function Un(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var qn="function"===typeof setTimeout?setTimeout:void 0,Vn="function"===typeof clearTimeout?clearTimeout:void 0;function Hn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Wn=0;var Xn=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Xn,Qn="__reactProps$"+Xn,$n="__reactContainer$"+Xn,Jn="__reactEvents$"+Xn;function Zn(e){var t=e[Yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$n]||r[Yn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Gn(e);null!==e;){if(r=e[Yn])return r;e=Gn(e)}return t}r=(e=r).parentNode}return null}function ea(e){return!(e=e[Yn]||e[$n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ta(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ra(e){return e[Qn]||null}function na(e){var t=e[Jn];return void 0===t&&(t=e[Jn]=new Set),t}var aa=[],ia=-1;function oa(e){return{current:e}}function sa(e){0>ia||(e.current=aa[ia],aa[ia]=null,ia--)}function ca(e,t){ia++,aa[ia]=e.current,e.current=t}var ua={},la=oa(ua),da=oa(!1),pa=ua;function fa(e,t){var r=e.type.contextTypes;if(!r)return ua;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ha(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ma(){sa(da),sa(la)}function va(e,t,r){if(la.current!==ua)throw Error(o(168));ca(la,t),ca(da,r)}function ga(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(o(108,W(t)||"Unknown",i));return a({},r,n)}function ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ua,pa=la.current,ca(la,e),ca(da,da.current),!0}function ba(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=ga(e,t,pa),n.__reactInternalMemoizedMergedChildContext=e,sa(da),sa(la),ca(la,e)):sa(da),ca(da,r)}var wa=null,_a=null,ka=i.unstable_runWithPriority,Sa=i.unstable_scheduleCallback,xa=i.unstable_cancelCallback,Ra=i.unstable_shouldYield,Ea=i.unstable_requestPaint,Ca=i.unstable_now,Ta=i.unstable_getCurrentPriorityLevel,Pa=i.unstable_ImmediatePriority,Oa=i.unstable_UserBlockingPriority,Ia=i.unstable_NormalPriority,Da=i.unstable_LowPriority,Aa=i.unstable_IdlePriority,Ma={},La=void 0!==Ea?Ea:function(){},Na=null,Fa=null,ja=!1,Ba=Ca(),Ua=1e4>Ba?Ca:function(){return Ca()-Ba};function za(){switch(Ta()){case Pa:return 99;case Oa:return 98;case Ia:return 97;case Da:return 96;case Aa:return 95;default:throw Error(o(332))}}function qa(e){switch(e){case 99:return Pa;case 98:return Oa;case 97:return Ia;case 96:return Da;case 95:return Aa;default:throw Error(o(332))}}function Va(e,t){return e=qa(e),ka(e,t)}function Ha(e,t,r){return e=qa(e),Sa(e,t,r)}function Ka(){if(null!==Fa){var e=Fa;Fa=null,xa(e)}Ga()}function Ga(){if(!ja&&null!==Na){ja=!0;var e=0;try{var t=Na;Va(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Na=null}catch(r){throw null!==Na&&(Na=Na.slice(e+1)),Sa(Pa,Ka),r}finally{ja=!1}}}var Wa=_.ReactCurrentBatchConfig;function Xa(e,t){if(e&&e.defaultProps){for(var r in t=a({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Ya=oa(null),Qa=null,$a=null,Ja=null;function Za(){Ja=$a=Qa=null}function ei(e){var t=Ya.current;sa(Ya),e.type._context._currentValue=t}function ti(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function ri(e,t){Qa=e,Ja=$a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ni(e,t){if(Ja!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ja=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$a){if(null===Qa)throw Error(o(308));$a=t,Qa.dependencies={lanes:0,firstContext:t,responders:null}}else $a=$a.next=t;return e._currentValue}var ai=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ci(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ui(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=o:i=i.next=o,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function li(e,t,r,n){var i=e.updateQueue;ai=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(null!==c){i.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?o=l:s.next=l,s=u;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=l:p.next=l,d.lastBaseUpdate=u)}}if(null!==o){for(p=i.baseState,s=0,d=l=u=null;;){c=o.lane;var f=o.eventTime;if((n&c)===c){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,m=o;switch(c=t,f=r,m.tag){case 1:if("function"===typeof(h=m.payload)){p=h.call(f,p,c);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(c="function"===typeof(h=m.payload)?h.call(f,p,c):h)||void 0===c)break e;p=a({},p,c);break e;case 2:ai=!0}}null!==o.callback&&(e.flags|=32,null===(c=i.effects)?i.effects=[o]:c.push(o))}else f={eventTime:f,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=f,u=p):d=d.next=f,s|=c;if(null===(o=o.next)){if(null===(c=i.shared.pending))break;o=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}null===d&&(u=p),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=d,js|=s,e.lanes=s,e.memoizedState=p}}function di(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(o(191,a));a.call(n)}}}var pi=(new n.Component).refs;function fi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:a({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var hi={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=uc(),a=lc(e),i=si(n,a);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ci(e,i),dc(e,a,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=uc(),a=lc(e),i=si(n,a);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),ci(e,i),dc(e,a,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=uc(),n=lc(e),a=si(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),ci(e,a),dc(e,n,r)}};function mi(e,t,r,n,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!un(r,n)||!un(a,i))}function vi(e,t,r){var n=!1,a=ua,i=t.contextType;return"object"===typeof i&&null!==i?i=ni(i):(a=ha(t)?pa:la.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?fa(e,a):ua),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function gi(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function yi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=pi,ii(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ni(i):(i=ha(t)?pa:la.current,a.context=fa(e,i)),li(e,r,a,n),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(fi(e,t,i,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&hi.enqueueReplaceState(a,a.state,null),li(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var bi=Array.isArray;function wi(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=n.refs;t===pi&&(t=n.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function _i(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ki(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Wc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=a(t,r.props)).ref=wi(e,t,r),n.return=e,n):((n=Hc(r.type,r.key,r.props,null,e.mode,n)).ref=wi(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Xc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,i){return null===t||7!==t.tag?((t=Kc(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function p(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Wc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(r=Hc(t.type,t.key,t.props,null,e.mode,r)).ref=wi(e,null,t),r.return=e,r;case S:return(t=Xc(t,e.mode,r)).return=e,t}if(bi(t)||q(t))return(t=Kc(t,e.mode,r,null)).return=e,t;_i(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==a?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return r.key===a?r.type===x?d(e,t,r.props.children,n,a):u(e,t,r,n):null;case S:return r.key===a?l(e,t,r,n):null}if(bi(r)||q(r))return null!==a?null:d(e,t,r,n,null);_i(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return e=e.get(null===n.key?r:n.key)||null,n.type===x?d(t,e,n.props.children,a,n.key):u(t,e,n,a);case S:return l(t,e=e.get(null===n.key?r:n.key)||null,n,a)}if(bi(n)||q(n))return d(t,e=e.get(r)||null,n,a,null);_i(t,n)}return null}function m(a,o,s,c){for(var u=null,l=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(a,d,s[m],c);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),o=i(g,o,m),null===l?u=g:l.sibling=g,l=g,d=v}if(m===s.length)return r(a,d),u;if(null===d){for(;m<s.length;m++)null!==(d=p(a,s[m],c))&&(o=i(d,o,m),null===l?u=d:l.sibling=d,l=d);return u}for(d=n(a,d);m<s.length;m++)null!==(v=h(d,a,m,s[m],c))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=i(v,o,m),null===l?u=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(a,e)})),u}function v(a,s,c,u){var l=q(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,m=s,v=s=0,g=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(a,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=i(b,s,v),null===d?l=b:d.sibling=b,d=b,m=g}if(y.done)return r(a,m),l;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=p(a,y.value,u))&&(s=i(y,s,v),null===d?l=y:d.sibling=y,d=y);return l}for(m=n(a,m);!y.done;v++,y=c.next())null!==(y=h(m,a,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=i(y,s,v),null===d?l=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),l}return function(e,n,i,c){var u="object"===typeof i&&null!==i&&i.type===x&&null===i.key;u&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case k:e:{for(l=i.key,u=n;null!==u;){if(u.key===l){switch(u.tag){case 7:if(i.type===x){r(e,u.sibling),(n=a(u,i.props.children)).return=e,e=n;break e}break;default:if(u.elementType===i.type){r(e,u.sibling),(n=a(u,i.props)).ref=wi(e,u,i),n.return=e,e=n;break e}}r(e,u);break}t(e,u),u=u.sibling}i.type===x?((n=Kc(i.props.children,e.mode,c,i.key)).return=e,e=n):((c=Hc(i.type,i.key,i.props,null,e.mode,c)).ref=wi(e,n,i),c.return=e,e=c)}return s(e);case S:e:{for(u=i.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(e,n.sibling),(n=a(n,i.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Xc(i,e.mode,c)).return=e,e=n}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==n&&6===n.tag?(r(e,n.sibling),(n=a(n,i)).return=e,e=n):(r(e,n),(n=Wc(i,e.mode,c)).return=e,e=n),s(e);if(bi(i))return m(e,n,i,c);if(q(i))return v(e,n,i,c);if(l&&_i(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,W(e.type)||"Component"))}return r(e,n)}}var Si=ki(!0),xi=ki(!1),Ri={},Ei=oa(Ri),Ci=oa(Ri),Ti=oa(Ri);function Pi(e){if(e===Ri)throw Error(o(174));return e}function Oi(e,t){switch(ca(Ti,t),ca(Ci,e),ca(Ei,Ri),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}sa(Ei),ca(Ei,t)}function Ii(){sa(Ei),sa(Ci),sa(Ti)}function Di(e){Pi(Ti.current);var t=Pi(Ei.current),r=he(t,e.type);t!==r&&(ca(Ci,e),ca(Ei,r))}function Ai(e){Ci.current===e&&(sa(Ei),sa(Ci))}var Mi=oa(0);function Li(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ni=null,Fi=null,ji=!1;function Bi(e,t){var r=zc(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Ui(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function zi(e){if(ji){var t=Fi;if(t){var r=t;if(!Ui(e,t)){if(!(t=Kn(r.nextSibling))||!Ui(e,t))return e.flags=-1025&e.flags|2,ji=!1,void(Ni=e);Bi(Ni,r)}Ni=e,Fi=Kn(t.firstChild)}else e.flags=-1025&e.flags|2,ji=!1,Ni=e}}function qi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ni=e}function Vi(e){if(e!==Ni)return!1;if(!ji)return qi(e),ji=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zn(t,e.memoizedProps))for(t=Fi;t;)Bi(e,t),t=Kn(t.nextSibling);if(qi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Fi=Kn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Fi=null}}else Fi=Ni?Kn(e.stateNode.nextSibling):null;return!0}function Hi(){Fi=Ni=null,ji=!1}var Ki=[];function Gi(){for(var e=0;e<Ki.length;e++)Ki[e]._workInProgressVersionPrimary=null;Ki.length=0}var Wi=_.ReactCurrentDispatcher,Xi=_.ReactCurrentBatchConfig,Yi=0,Qi=null,$i=null,Ji=null,Zi=!1,eo=!1;function to(){throw Error(o(321))}function ro(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function no(e,t,r,n,a,i){if(Yi=i,Qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wi.current=null===e||null===e.memoizedState?Oo:Io,e=r(n,a),eo){i=0;do{if(eo=!1,!(25>i))throw Error(o(301));i+=1,Ji=$i=null,t.updateQueue=null,Wi.current=Do,e=r(n,a)}while(eo)}if(Wi.current=Po,t=null!==$i&&null!==$i.next,Yi=0,Ji=$i=Qi=null,Zi=!1,t)throw Error(o(300));return e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ji?Qi.memoizedState=Ji=e:Ji=Ji.next=e,Ji}function io(){if(null===$i){var e=Qi.alternate;e=null!==e?e.memoizedState:null}else e=$i.next;var t=null===Ji?Qi.memoizedState:Ji.next;if(null!==t)Ji=t,$i=e;else{if(null===e)throw Error(o(310));e={memoizedState:($i=e).memoizedState,baseState:$i.baseState,baseQueue:$i.baseQueue,queue:$i.queue,next:null},null===Ji?Qi.memoizedState=Ji=e:Ji=Ji.next=e}return Ji}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=io(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=$i,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(null!==a){a=a.next,n=n.baseState;var c=s=i=null,u=a;do{var l=u.lane;if((Yi&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var d={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=d,i=n):c=c.next=d,Qi.lanes|=l,js|=l}u=u.next}while(null!==u&&u!==a);null===c?i=n:c.next=s,sn(n,t.memoizedState)||(Mo=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function co(e){var t=io(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sn(i,t.memoizedState)||(Mo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function uo(e,t,r){var n=t._getVersion;n=n(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===n:(e=e.mutableReadLanes,(e=(Yi&e)===e)&&(t._workInProgressVersionPrimary=n,Ki.push(t))),e)return r(t._source);throw Ki.push(t),Error(o(350))}function lo(e,t,r,n){var a=Os;if(null===a)throw Error(o(349));var i=t._getVersion,s=i(t._source),c=Wi.current,u=c.useState((function(){return uo(a,t,r)})),l=u[1],d=u[0];u=Ji;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var v=Qi;return e.memoizedState={refs:f,source:t,subscribe:n},c.useEffect((function(){f.getSnapshot=r,f.setSnapshot=l;var e=i(t._source);if(!sn(s,e)){e=r(t._source),sn(d,e)||(l(e),e=lc(v),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var n=a.entanglements,o=e;0<o;){var c=31-Ht(o),u=1<<c;n[c]|=e,o&=~u}}}),[r,t,n]),c.useEffect((function(){return n(t._source,(function(){var e=f.getSnapshot,r=f.setSnapshot;try{r(e(t._source));var n=lc(v);a.mutableReadLanes|=n&a.pendingLanes}catch(i){r((function(){throw i}))}}))}),[t,n]),sn(h,r)&&sn(m,t)&&sn(p,n)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:d}).dispatch=l=To.bind(null,Qi,e),u.queue=e,u.baseQueue=null,d=uo(a,t,r),u.memoizedState=u.baseState=d),d}function po(e,t,r){return lo(io(),e,t,r)}function fo(e){var t=ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=To.bind(null,Qi,e),[t.memoizedState,e]}function ho(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Qi.updateQueue)?(t={lastEffect:null},Qi.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function mo(e){return e={current:e},ao().memoizedState=e}function vo(){return io().memoizedState}function go(e,t,r,n){var a=ao();Qi.flags|=e,a.memoizedState=ho(1|t,r,void 0,void 0===n?null:n)}function yo(e,t,r,n){var a=io();n=void 0===n?null:n;var i=void 0;if(null!==$i){var o=$i.memoizedState;if(i=o.destroy,null!==n&&ro(n,o.deps))return void ho(t,r,i,n)}Qi.flags|=e,a.memoizedState=ho(1|t,r,i,n)}function bo(e,t){return go(516,4,e,t)}function wo(e,t){return yo(516,4,e,t)}function _o(e,t){return yo(4,2,e,t)}function ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,yo(4,2,ko.bind(null,t,e),r)}function xo(){}function Ro(e,t){var r=io();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ro(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Eo(e,t){var r=io();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ro(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Co(e,t){var r=za();Va(98>r?98:r,(function(){e(!0)})),Va(97<r?97:r,(function(){var r=Xi.transition;Xi.transition=1;try{e(!1),t()}finally{Xi.transition=r}}))}function To(e,t,r){var n=uc(),a=lc(e),i={lane:a,action:r,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Qi||null!==o&&o===Qi)eo=Zi=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=o(s,r);if(i.eagerReducer=o,i.eagerState=c,sn(c,s))return}catch(u){}dc(e,a,n)}}var Po={readContext:ni,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Oo={readContext:ni,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:ni,useEffect:bo,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,go(4,2,ko.bind(null,t,e),r)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var r=ao();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ao();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=To.bind(null,Qi,e),[n.memoizedState,e]},useRef:mo,useState:fo,useDebugValue:xo,useDeferredValue:function(e){var t=fo(e),r=t[0],n=t[1];return bo((function(){var t=Xi.transition;Xi.transition=1;try{n(e)}finally{Xi.transition=t}}),[e]),r},useTransition:function(){var e=fo(!1),t=e[0];return mo(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=ao();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},lo(n,e,t,r)},useOpaqueIdentifier:function(){if(ji){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Wn++).toString(36))),Error(o(355))})),r=fo(t)[1];return 0===(2&Qi.mode)&&(Qi.flags|=516,ho(5,(function(){r("r:"+(Wn++).toString(36))}),void 0,null)),t}return fo(t="r:"+(Wn++).toString(36)),t},unstable_isNewReconciler:!1},Io={readContext:ni,useCallback:Ro,useContext:ni,useEffect:wo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:Eo,useReducer:so,useRef:vo,useState:function(){return so(oo)},useDebugValue:xo,useDeferredValue:function(e){var t=so(oo),r=t[0],n=t[1];return wo((function(){var t=Xi.transition;Xi.transition=1;try{n(e)}finally{Xi.transition=t}}),[e]),r},useTransition:function(){var e=so(oo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Do={readContext:ni,useCallback:Ro,useContext:ni,useEffect:wo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:Eo,useReducer:co,useRef:vo,useState:function(){return co(oo)},useDebugValue:xo,useDeferredValue:function(e){var t=co(oo),r=t[0],n=t[1];return wo((function(){var t=Xi.transition;Xi.transition=1;try{n(e)}finally{Xi.transition=t}}),[e]),r},useTransition:function(){var e=co(oo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(oo)[0]},unstable_isNewReconciler:!1},Ao=_.ReactCurrentOwner,Mo=!1;function Lo(e,t,r,n){t.child=null===e?xi(t,null,r,n):Si(t,e.child,r,n)}function No(e,t,r,n,a){r=r.render;var i=t.ref;return ri(t,a),n=no(e,t,r,n,i,a),null===e||Mo?(t.flags|=1,Lo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,rs(e,t,a))}function Fo(e,t,r,n,a,i){if(null===e){var o=r.type;return"function"!==typeof o||qc(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Hc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,jo(e,t,o,n,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(r=null!==(r=r.compare)?r:un)(a,n)&&e.ref===t.ref)?rs(e,t,i):(t.flags|=1,(e=Vc(o,n)).ref=t.ref,e.return=t,t.child=e)}function jo(e,t,r,n,a,i){if(null!==e&&un(e.memoizedProps,n)&&e.ref===t.ref){if(Mo=!1,0===(i&a))return t.lanes=e.lanes,rs(e,t,i);0!==(16384&e.flags)&&(Mo=!0)}return zo(e,t,r,n,i)}function Bo(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bc(t,r);else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bc(t,e),null;t.memoizedState={baseLanes:0},bc(t,null!==i?i.baseLanes:r)}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,bc(t,n);return Lo(e,t,a,r),t.child}function Uo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function zo(e,t,r,n,a){var i=ha(r)?pa:la.current;return i=fa(t,i),ri(t,a),r=no(e,t,r,n,i,a),null===e||Mo?(t.flags|=1,Lo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,rs(e,t,a))}function qo(e,t,r,n,a){if(ha(r)){var i=!0;ya(t)}else i=!1;if(ri(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vi(t,r,n),yi(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=r.contextType;"object"===typeof u&&null!==u?u=ni(u):u=fa(t,u=ha(r)?pa:la.current);var l=r.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==n||c!==u)&&gi(t,o,n,u),ai=!1;var p=t.memoizedState;o.state=p,li(t,n,o,a),c=t.memoizedState,s!==n||p!==c||da.current||ai?("function"===typeof l&&(fi(t,r,l,n),c=t.memoizedState),(s=ai||mi(t,r,s,n,p,c,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):("function"===typeof o.componentDidMount&&(t.flags|=4),n=!1)}else{o=t.stateNode,oi(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Xa(t.type,s),o.props=u,d=t.pendingProps,p=o.context,"object"===typeof(c=r.contextType)&&null!==c?c=ni(c):c=fa(t,c=ha(r)?pa:la.current);var f=r.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||p!==c)&&gi(t,o,n,c),ai=!1,p=t.memoizedState,o.state=p,li(t,n,o,a);var h=t.memoizedState;s!==d||p!==h||da.current||ai?("function"===typeof f&&(fi(t,r,f,n),h=t.memoizedState),(u=ai||mi(t,r,u,n,p,h,c))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,h,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),n=!1)}return Vo(e,t,r,n,i,a)}function Vo(e,t,r,n,a,i){Uo(e,t);var o=0!==(64&t.flags);if(!n&&!o)return a&&ba(t,r,!1),rs(e,t,i);n=t.stateNode,Ao.current=t;var s=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Si(t,e.child,null,i),t.child=Si(t,null,s,i)):Lo(e,t,s,i),t.memoizedState=n.state,a&&ba(t,r,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?va(0,t.pendingContext,t.pendingContext!==t.context):t.context&&va(0,t.context,!1),Oi(e,t.containerInfo)}var Ko,Go,Wo,Xo={dehydrated:null,retryLane:0};function Yo(e,t,r){var n,a=t.pendingProps,i=Mi.current,o=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),ca(Mi,1&i),null===e?(void 0!==a.fallback&&zi(t),e=a.children,i=a.fallback,o?(e=Qo(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Xo,e):"number"===typeof a.unstable_expectedLoadTime?(e=Qo(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Xo,t.lanes=33554432,e):((r=Gc({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,o?(a=Jo(e,t,a.children,a.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Xo,a):(r=$o(e,t,a.children,r),t.memoizedState=null,r))}function Qo(e,t,r,n){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=Gc(t,a,0,null),r=Kc(r,a,n,null),i.return=e,r.return=e,i.sibling=r,e.child=i,r}function $o(e,t,r,n){var a=e.child;return e=a.sibling,r=Vc(a,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function Jo(e,t,r,n,a){var i=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:r};return 0===(2&i)&&t.child!==o?((r=t.child).childLanes=0,r.pendingProps=s,null!==(o=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Vc(o,s),null!==e?n=Vc(e,n):(n=Kc(n,i,a,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function Zo(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ti(e.return,t)}function es(e,t,r,n,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.lastEffect=i)}function ts(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Lo(e,t,n.children,r),0!==(2&(n=Mi.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,r);else if(19===e.tag)Zo(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ca(Mi,n),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Li(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),es(t,!1,a,r,i,t.lastEffect);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Li(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}es(t,!0,r,null,i,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Vc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Vc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function ns(e,t){if(!ji)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function as(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ha(t.type)&&ma(),null;case 3:return Ii(),sa(da),sa(la),Gi(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Vi(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:Ai(t);var i=Pi(Ti.current);if(r=t.type,null!==e&&null!=t.stateNode)Go(e,t,r,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pi(Ei.current),Vi(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Yn]=t,n[Qn]=s,r){case"dialog":Cn("cancel",n),Cn("close",n);break;case"iframe":case"object":case"embed":Cn("load",n);break;case"video":case"audio":for(e=0;e<Sn.length;e++)Cn(Sn[e],n);break;case"source":Cn("error",n);break;case"img":case"image":case"link":Cn("error",n),Cn("load",n);break;case"details":Cn("toggle",n);break;case"input":ee(n,s),Cn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Cn("invalid",n);break;case"textarea":ce(n,s),Cn("invalid",n)}for(var u in xe(r,s),e=null,s)s.hasOwnProperty(u)&&(i=s[u],"children"===u?"string"===typeof i?n.textContent!==i&&(e=["children",i]):"number"===typeof i&&n.textContent!==""+i&&(e=["children",""+i]):c.hasOwnProperty(u)&&null!=i&&"onScroll"===u&&Cn("scroll",n));switch(r){case"input":Q(n),ne(n,s,!0);break;case"textarea":Q(n),le(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Fn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(u=9===i.nodeType?i:i.ownerDocument,e===de&&(e=fe(r)),e===de?"script"===r?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),"select"===r&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Yn]=t,e[Qn]=n,Ko(e,t),t.stateNode=e,u=Re(r,n),r){case"dialog":Cn("cancel",e),Cn("close",e),i=n;break;case"iframe":case"object":case"embed":Cn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Sn.length;i++)Cn(Sn[i],e);i=n;break;case"source":Cn("error",e),i=n;break;case"img":case"image":case"link":Cn("error",e),Cn("load",e),i=n;break;case"details":Cn("toggle",e),i=n;break;case"input":ee(e,n),i=Z(e,n),Cn("invalid",e);break;case"option":i=ie(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=a({},n,{value:void 0}),Cn("invalid",e);break;case"textarea":ce(e,n),i=se(e,n),Cn("invalid",e);break;default:i=n}xe(r,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?ke(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==r||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Cn("scroll",e):null!=d&&w(e,s,d,u))}switch(r){case"input":Q(e),ne(e,n,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+X(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?oe(e,!!n.multiple,s,!1):null!=n.defaultValue&&oe(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Fn)}Un(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Wo(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));r=Pi(Ti.current),Pi(Ei.current),Vi(t)?(n=t.stateNode,r=t.memoizedProps,n[Yn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Yn]=t,t.stateNode=n)}return null;case 13:return sa(Mi),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Vi(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Mi.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Os||0===(134217727&js)&&0===(134217727&Bs)||mc(Os,Ds))),(n||r)&&(t.flags|=4),null);case 4:return Ii(),null===e&&Pn(t.stateNode.containerInfo),null;case 10:return ei(t),null;case 17:return ha(t.type)&&ma(),null;case 19:if(sa(Mi),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=n.rendering))if(s)ns(n,!1);else{if(0!==Ls||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Li(e))){for(t.flags|=64,ns(n,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ca(Mi,1&Mi.current|2),t.child}e=e.sibling}null!==n.tail&&Ua()>Vs&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Li(u))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ns(n,!0),null===n.tail&&"hidden"===n.tailMode&&!u.alternate&&!ji)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Ua()-n.renderingStartTime>Vs&&1073741824!==r&&(t.flags|=64,s=!0,ns(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=n.last)?r.sibling=u:t.child=u,n.last=u)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ua(),r.sibling=null,t=Mi.current,ca(Mi,s?1&t|2:1&t),r):null;case 23:case 24:return wc(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function is(e){switch(e.tag){case 1:ha(e.type)&&ma();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ii(),sa(da),sa(la),Gi(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ai(e),null;case 13:return sa(Mi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return sa(Mi),null;case 4:return Ii(),null;case 10:return ei(e),null;case 23:case 24:return wc(),null;default:return null}}function os(e,t){try{var r="",n=t;do{r+=G(n),n=n.return}while(n);var a=r}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ss(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}Ko=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Go=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Pi(Ei.current);var o,s=null;switch(r){case"input":i=Z(e,i),n=Z(e,n),s=[];break;case"option":i=ie(e,i),n=ie(e,n),s=[];break;case"select":i=a({},i,{value:void 0}),n=a({},n,{value:void 0}),s=[];break;case"textarea":i=se(e,i),n=se(e,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Fn)}for(d in xe(r,n),r=null,i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var l=n[d];if(u=null!=i?i[d]:void 0,n.hasOwnProperty(d)&&l!==u&&(null!=l||null!=u))if("style"===d)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(d,r)),r=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Cn("scroll",e),s||u===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(d,l))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Wo=function(e,t,r,n){r!==n&&(t.flags|=4)};var cs="function"===typeof WeakMap?WeakMap:Map;function us(e,t,r){(r=si(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ws||(Ws=!0,Xs=n),ss(0,t)},r}function ls(e,t,r){(r=si(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return ss(0,t),n(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Ys?Ys=new Set([this]):Ys.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var ds="function"===typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Fc(e,r)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Xa(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hn(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function hs(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;n=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Mc(r,e),Ac(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Xa(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&di(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}di(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Un(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&kt(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function ms(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var a=r.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,n.style.display=_e("display",a)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function vs(e,t){if(_a&&"function"===typeof _a.onCommitFiberUnmount)try{_a.onCommitFiberUnmount(wa,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,a=n.destroy;if(n=n.tag,void 0!==a)if(0!==(4&n))Mc(t,r);else{n=t;try{a()}catch(i){Fc(n,i)}}r=r.next}while(r!==e)}break;case 1:if(ps(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Fc(t,i)}break;case 5:ps(t);break;case 4:ks(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(o(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(o(161))}16&r.flags&&(ye(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ys(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?ws(e,r,t):_s(e,r,t)}function ws(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Fn));else if(4!==n&&null!==(e=e.child))for(ws(e,t,r),e=e.sibling;null!==e;)ws(e,t,r),e=e.sibling}function _s(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(_s(e,t,r),e=e.sibling;null!==e;)_s(e,t,r),e=e.sibling}function ks(e,t){for(var r,n,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(r=i.stateNode,i.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,u=c;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n?(s=r,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,n=!0,a.child.return=a,a=a.child;continue}}else if(vs(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var a=null!==e?e.memoizedProps:n;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(r[Qn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Re(e,a),t=Re(e,n),a=0;a<i.length;a+=2){var s=i[a],c=i[a+1];"style"===s?ke(r,c):"dangerouslySetInnerHTML"===s?ge(r,c):"children"===s?ye(r,c):w(r,s,c,t)}switch(e){case"input":re(r,n);break;case"textarea":ue(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(i=n.value)?oe(r,!!n.multiple,i,!1):e!==!!n.multiple&&(null!=n.defaultValue?oe(r,!!n.multiple,n.defaultValue,!0):oe(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,kt(r.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(qs=Ua(),ms(t.child,!0)),void xs(t);case 19:return void xs(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ds),t.forEach((function(t){var n=Bc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Rs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Es=Math.ceil,Cs=_.ReactCurrentDispatcher,Ts=_.ReactCurrentOwner,Ps=0,Os=null,Is=null,Ds=0,As=0,Ms=oa(0),Ls=0,Ns=null,Fs=0,js=0,Bs=0,Us=0,zs=null,qs=0,Vs=1/0;function Hs(){Vs=Ua()+500}var Ks,Gs=null,Ws=!1,Xs=null,Ys=null,Qs=!1,$s=null,Js=90,Zs=[],ec=[],tc=null,rc=0,nc=null,ac=-1,ic=0,oc=0,sc=null,cc=!1;function uc(){return 0!==(48&Ps)?Ua():-1!==ac?ac:ac=Ua()}function lc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===za()?1:2;if(0===ic&&(ic=Fs),0!==Wa.transition){0!==oc&&(oc=null!==zs?zs.pendingLanes:0),e=ic;var t=4186112&~oc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=za(),0!==(4&Ps)&&98===e?e=Ut(12,ic):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ic),e}function dc(e,t,r){if(50<rc)throw rc=0,nc=null,Error(o(185));if(null===(e=pc(e,t)))return null;Vt(e,t,r),e===Os&&(Bs|=t,4===Ls&&mc(e,Ds));var n=za();1===t?0!==(8&Ps)&&0===(48&Ps)?vc(e):(fc(e,r),0===Ps&&(Hs(),Ka())):(0===(4&Ps)||98!==n&&99!==n||(null===tc?tc=new Set([e]):tc.add(e)),fc(e,r)),zs=e}function pc(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function fc(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Ht(s),u=1<<c,l=i[c];if(-1===l){if(0===(u&n)||0!==(u&a)){l=t,Ft(u);var d=Nt;i[c]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(n=jt(e,e===Os?Ds:0),t=Nt,0===n)null!==r&&(r!==Ma&&xa(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Ma&&xa(r)}15===t?(r=vc.bind(null,e),null===Na?(Na=[r],Fa=Sa(Pa,Ga)):Na.push(r),r=Ma):14===t?r=Ha(99,vc.bind(null,e)):r=Ha(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),hc.bind(null,e)),e.callbackPriority=t,e.callbackNode=r}}function hc(e){if(ac=-1,oc=ic=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Dc()&&e.callbackNode!==t)return null;var r=jt(e,e===Os?Ds:0);if(0===r)return null;var n=r,a=Ps;Ps|=16;var i=Sc();for(Os===e&&Ds===n||(Hs(),_c(e,n));;)try{Ec();break}catch(c){kc(e,c)}if(Za(),Cs.current=i,Ps=a,null!==Is?n=0:(Os=null,Ds=0,n=Ls),0!==(Fs&Bs))_c(e,0);else if(0!==n){if(2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(r=Bt(e))&&(n=xc(e,r))),1===n)throw t=Ns,_c(e,0),mc(e,r),fc(e,Ua()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(o(345));case 2:Pc(e);break;case 3:if(mc(e,r),(62914560&r)===r&&10<(n=qs+500-Ua())){if(0!==jt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){uc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=qn(Pc.bind(null,e),n);break}Pc(e);break;case 4:if(mc(e,r),(4186112&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var s=31-Ht(r);i=1<<s,(s=n[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Ua()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=qn(Pc.bind(null,e),r);break}Pc(e);break;case 5:Pc(e);break;default:throw Error(o(329))}}return fc(e,Ua()),e.callbackNode===t?hc.bind(null,e):null}function mc(e,t){for(t&=~Us,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),n=1<<r;e[r]=-1,t&=~n}}function vc(e){if(0!==(48&Ps))throw Error(o(327));if(Dc(),e===Os&&0!==(e.expiredLanes&Ds)){var t=Ds,r=xc(e,t);0!==(Fs&Bs)&&(r=xc(e,t=jt(e,t)))}else r=xc(e,t=jt(e,0));if(0!==e.tag&&2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(t=Bt(e))&&(r=xc(e,t))),1===r)throw r=Ns,_c(e,0),mc(e,t),fc(e,Ua()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pc(e),fc(e,Ua()),null}function gc(e,t){var r=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=r)&&(Hs(),Ka())}}function yc(e,t){var r=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=r)&&(Hs(),Ka())}}function bc(e,t){ca(Ms,As),As|=t,Fs|=t}function wc(){As=Ms.current,sa(Ms)}function _c(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Vn(r)),null!==Is)for(r=Is.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&ma();break;case 3:Ii(),sa(da),sa(la),Gi();break;case 5:Ai(n);break;case 4:Ii();break;case 13:case 19:sa(Mi);break;case 10:ei(n);break;case 23:case 24:wc()}r=r.return}Os=e,Is=Vc(e.current,null),Ds=As=Fs=t,Ls=0,Ns=null,Us=Bs=js=0}function kc(e,t){for(;;){var r=Is;try{if(Za(),Wi.current=Po,Zi){for(var n=Qi.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}Zi=!1}if(Yi=0,Ji=$i=Qi=null,eo=!1,Ts.current=null,null===r||null===r.return){Ls=1,Ns=t,Is=null;break}e:{var i=e,o=r.return,s=r,c=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Mi.current),p=o;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=p.updateQueue;if(null===v){var g=new Set;g.add(u),p.updateQueue=g}else v.add(u);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=si(-1,1);y.tag=2,ci(s,y)}s.lanes|=1;break e}c=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new cs,c=new Set,b.set(u,c)):void 0===(c=b.get(u))&&(c=new Set,b.set(u,c)),!c.has(s)){c.add(s);var w=jc.bind(null,i,u,s);u.then(w,w)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);c=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),c=os(c,s),p=o;do{switch(p.tag){case 3:i=c,p.flags|=4096,t&=-t,p.lanes|=t,ui(p,us(0,i,t));break e;case 1:i=c;var _=p.type,k=p.stateNode;if(0===(64&p.flags)&&("function"===typeof _.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ys||!Ys.has(k)))){p.flags|=4096,t&=-t,p.lanes|=t,ui(p,ls(p,i,t));break e}}p=p.return}while(null!==p)}Tc(r)}catch(S){t=S,Is===r&&null!==r&&(Is=r=r.return);continue}break}}function Sc(){var e=Cs.current;return Cs.current=Po,null===e?Po:e}function xc(e,t){var r=Ps;Ps|=16;var n=Sc();for(Os===e&&Ds===t||_c(e,t);;)try{Rc();break}catch(a){kc(e,a)}if(Za(),Ps=r,Cs.current=n,null!==Is)throw Error(o(261));return Os=null,Ds=0,Ls}function Rc(){for(;null!==Is;)Cc(Is)}function Ec(){for(;null!==Is&&!Ra();)Cc(Is)}function Cc(e){var t=Ks(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Tc(e):Is=t,Ts.current=null}function Tc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=as(r,t,As)))return void(Is=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&As)||0===(4&r.mode)){for(var n=0,a=r.child;null!==a;)n|=a.lanes|a.childLanes,a=a.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=is(t)))return r.flags&=2047,void(Is=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Ls&&(Ls=5)}function Pc(e){var t=za();return Va(99,Oc.bind(null,e,t)),null}function Oc(e,t){do{Dc()}while(null!==$s);if(0!==(48&Ps))throw Error(o(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null;var n=r.lanes|r.childLanes,a=n,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<i;){var u=31-Ht(i),l=1<<u;a[u]=0,s[u]=-1,c[u]=-1,i&=~l}if(null!==tc&&0===(24&n)&&tc.has(e)&&tc.delete(e),e===Os&&(Is=Os=null,Ds=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(a=Ps,Ps|=32,Ts.current=null,jn=Yt,hn(s=fn())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,i=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(E){c=null;break e}var d=0,p=-1,f=-1,h=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==c||0!==i&&3!==v.nodeType||(p=d+i),v!==u||0!==l&&3!==v.nodeType||(f=d+l),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===c&&++h===i&&(p=d),g===u&&++m===l&&(f=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}c=-1===p||-1===f?null:{start:p,end:f}}else c=null;c=c||{start:0,end:0}}else c=null;Bn={focusedElem:s,selectionRange:c},Yt=!1,sc=null,cc=!1,Gs=n;do{try{Ic()}catch(E){if(null===Gs)throw Error(o(330));Fc(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);sc=null,Gs=n;do{try{for(s=e;null!==Gs;){var b=Gs.flags;if(16&b&&ye(Gs.stateNode,""),128&b){var w=Gs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(Gs),Gs.flags&=-3;break;case 6:bs(Gs),Gs.flags&=-3,Ss(Gs.alternate,Gs);break;case 1024:Gs.flags&=-1025;break;case 1028:Gs.flags&=-1025,Ss(Gs.alternate,Gs);break;case 4:Ss(Gs.alternate,Gs);break;case 8:ks(s,c=Gs);var k=c.alternate;gs(c),null!==k&&gs(k)}Gs=Gs.nextEffect}}catch(E){if(null===Gs)throw Error(o(330));Fc(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);if(_=Bn,w=fn(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&pn(b.ownerDocument.documentElement,b)){null!==s&&hn(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),c=b.textContent.length,k=Math.min(s.start,c),s=void 0===s.end?k:Math.min(s.end,c),!_.extend&&k>s&&(c=s,s=k,k=c),c=dn(b,k),i=dn(b,s),c&&i&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==i.node||_.focusOffset!==i.offset)&&((w=w.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),k>s?(_.addRange(w),_.extend(i.node,i.offset)):(w.setEnd(i.node,i.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Yt=!!jn,Bn=jn=null,e.current=r,Gs=n;do{try{for(b=e;null!==Gs;){var S=Gs.flags;if(36&S&&hs(b,Gs.alternate,Gs),128&S){w=void 0;var x=Gs.ref;if(null!==x){var R=Gs.stateNode;switch(Gs.tag){case 5:w=R;break;default:w=R}"function"===typeof x?x(w):x.current=w}}Gs=Gs.nextEffect}}catch(E){if(null===Gs)throw Error(o(330));Fc(Gs,E),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,La(),Ps=a}else e.current=r;if(Qs)Qs=!1,$s=e,Js=t;else for(Gs=n;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,8&Gs.flags&&((S=Gs).sibling=null,S.stateNode=null),Gs=t;if(0===(n=e.pendingLanes)&&(Ys=null),1===n?e===nc?rc++:(rc=0,nc=e):rc=0,r=r.stateNode,_a&&"function"===typeof _a.onCommitFiberRoot)try{_a.onCommitFiberRoot(wa,r,void 0,64===(64&r.current.flags))}catch(E){}if(fc(e,Ua()),Ws)throw Ws=!1,e=Xs,Xs=null,e;return 0!==(8&Ps)||Ka(),null}function Ic(){for(;null!==Gs;){var e=Gs.alternate;cc||null===sc||(0!==(8&Gs.flags)?et(Gs,sc)&&(cc=!0):13===Gs.tag&&Rs(e,Gs)&&et(Gs,sc)&&(cc=!0));var t=Gs.flags;0!==(256&t)&&fs(e,Gs),0===(512&t)||Qs||(Qs=!0,Ha(97,(function(){return Dc(),null}))),Gs=Gs.nextEffect}}function Dc(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Va(e,Lc)}return!1}function Ac(e,t){Zs.push(t,e),Qs||(Qs=!0,Ha(97,(function(){return Dc(),null})))}function Mc(e,t){ec.push(t,e),Qs||(Qs=!0,Ha(97,(function(){return Dc(),null})))}function Lc(){if(null===$s)return!1;var e=$s;if($s=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var r=ec;ec=[];for(var n=0;n<r.length;n+=2){var a=r[n],i=r[n+1],s=a.destroy;if(a.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===i)throw Error(o(330));Fc(i,u)}}for(r=Zs,Zs=[],n=0;n<r.length;n+=2){a=r[n],i=r[n+1];try{var c=a.create;a.destroy=c()}catch(u){if(null===i)throw Error(o(330));Fc(i,u)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ps=t,Ka(),!0}function Nc(e,t,r){ci(e,t=us(0,t=os(r,t),1)),t=uc(),null!==(e=pc(e,1))&&(Vt(e,1,t),fc(e,t))}function Fc(e,t){if(3===e.tag)Nc(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Nc(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ys||!Ys.has(n))){var a=ls(r,e=os(t,e),1);if(ci(r,a),a=uc(),null!==(r=pc(r,1)))Vt(r,1,a),fc(r,a);else if("function"===typeof n.componentDidCatch&&(null===Ys||!Ys.has(n)))try{n.componentDidCatch(t,e)}catch(i){}break}}r=r.return}}function jc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=uc(),e.pingedLanes|=e.suspendedLanes&r,Os===e&&(Ds&r)===r&&(4===Ls||3===Ls&&(62914560&Ds)===Ds&&500>Ua()-qs?_c(e,0):Us|=r),fc(e,t)}function Bc(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===za()?1:2:(0===ic&&(ic=Fs),0===(t=zt(62914560&~ic))&&(t=4194304))),r=uc(),null!==(e=pc(e,t))&&(Vt(e,t,r),fc(e,r))}function Uc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,r,n){return new Uc(e,t,r,n)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var r=e.alternate;return null===r?((r=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,n,a,i){var s=2;if(n=e,"function"===typeof e)qc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Kc(r.children,a,i,t);case N:s=8,a|=16;break;case R:s=8,a|=1;break;case E:return(e=zc(12,r,t,8|a)).elementType=E,e.type=E,e.lanes=i,e;case O:return(e=zc(13,r,t,a)).type=O,e.elementType=O,e.lanes=i,e;case I:return(e=zc(19,r,t,a)).elementType=I,e.lanes=i,e;case F:return Gc(r,a,i,t);case j:return(e=zc(24,r,t,a)).elementType=j,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case P:s=11;break e;case D:s=14;break e;case A:s=16,n=null;break e;case M:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zc(s,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function Kc(e,t,r,n){return(e=zc(7,e,n,t)).lanes=r,e}function Gc(e,t,r,n){return(e=zc(23,e,n,t)).elementType=F,e.lanes=r,e}function Wc(e,t,r){return(e=zc(6,e,null,t)).lanes=r,e}function Xc(e,t,r){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yc(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Qc(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function $c(e,t,r,n){var a=t.current,i=uc(),s=lc(a);e:if(r){t:{if(Qe(r=r._reactInternals)!==r||1!==r.tag)throw Error(o(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(ha(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===r.tag){var u=r.type;if(ha(u)){r=ga(r,u,c);break e}}r=c}else r=ua;return null===t.context?t.context=r:t.pendingContext=r,(t=si(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ci(a,t),dc(a,s,i),s}function Jc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eu(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function tu(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Yc(e,t,null!=r&&!0===r.hydrate),t=zc(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,ii(t),e[$n]=r.current,Pn(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var a=(t=n[e])._getVersion;a=a(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,a]:r.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=r}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var s=a;a=function(){var e=Jc(o);s.call(e)}}$c(t,o,e,a)}else{if(i=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new tu(e,0,t?{hydrate:!0}:void 0)}(r,n),o=i._internalRoot,"function"===typeof a){var c=a;a=function(){var e=Jc(o);c.call(e)}}yc((function(){$c(t,o,e,a)}))}return Jc(o)}function au(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ru(t))throw Error(o(200));return Qc(e,t,null,r)}Ks=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||da.current)Mo=!0;else{if(0===(r&n)){switch(Mo=!1,t.tag){case 3:Ho(t),Hi();break;case 5:Di(t);break;case 1:ha(t.type)&&ya(t);break;case 4:Oi(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var a=t.type._context;ca(Ya,a._currentValue),a._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Yo(e,t,r):(ca(Mi,1&Mi.current),null!==(t=rs(e,t,r))?t.sibling:null);ca(Mi,1&Mi.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return ts(e,t,r);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),ca(Mi,Mi.current),n)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,r)}return rs(e,t,r)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=fa(t,la.current),ri(t,r),a=no(null,t,n,e,a,r),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ha(n)){var i=!0;ya(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ii(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&fi(t,n,s,e),a.updater=hi,t.stateNode=a,a._reactInternals=t,yi(t,n,e,r),t=Vo(null,t,n,!0,i,r)}else t.tag=0,Lo(null,t,a,r),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return qc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===D)return 14}return 2}(a),e=Xa(a,e),i){case 0:t=zo(null,t,a,e,r);break e;case 1:t=qo(null,t,a,e,r);break e;case 11:t=No(null,t,a,e,r);break e;case 14:t=Fo(null,t,a,Xa(a.type,e),n,r);break e}throw Error(o(306,a,""))}return t;case 0:return n=t.type,a=t.pendingProps,zo(e,t,n,a=t.elementType===n?a:Xa(n,a),r);case 1:return n=t.type,a=t.pendingProps,qo(e,t,n,a=t.elementType===n?a:Xa(n,a),r);case 3:if(Ho(t),n=t.updateQueue,null===e||null===n)throw Error(o(282));if(n=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,oi(e,t),li(t,n,null,r),(n=t.memoizedState.element)===a)Hi(),t=rs(e,t,r);else{if((i=(a=t.stateNode).hydrate)&&(Fi=Kn(t.stateNode.containerInfo.firstChild),Ni=t,i=ji=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],Ki.push(i);for(r=xi(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Lo(e,t,n,r),Hi();t=t.child}return t;case 5:return Di(t),null===e&&zi(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,zn(n,a)?s=null:null!==i&&zn(n,i)&&(t.flags|=16),Uo(e,t),Lo(e,t,s,r),t.child;case 6:return null===e&&zi(t),null;case 13:return Yo(e,t,r);case 4:return Oi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Si(t,null,n,r):Lo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,No(e,t,n,a=t.elementType===n?a:Xa(n,a),r);case 7:return Lo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value;var c=t.type._context;if(ca(Ya,c._currentValue),c._currentValue=i,null!==s)if(c=s.value,0===(i=sn(c,i)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(c,i):1073741823))){if(s.children===a.children&&!da.current){t=rs(e,t,r);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&i)){1===c.tag&&((l=si(-1,r&-r)).tag=2,ci(c,l)),c.lanes|=r,null!==(l=c.alternate)&&(l.lanes|=r),ti(c.return,r),u.lanes|=r;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Lo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=(i=t.pendingProps).children,ri(t,r),n=n(a=ni(a,i.unstable_observedBits)),t.flags|=1,Lo(e,t,n,r),t.child;case 14:return i=Xa(a=t.type,t.pendingProps),Fo(e,t,a,i=Xa(a.type,i),n,r);case 15:return jo(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xa(n,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ha(n)?(e=!0,ya(t)):e=!1,ri(t,r),vi(t,n,a),yi(t,n,a,r),Vo(null,t,n,!0,e,r);case 19:return ts(e,t,r);case 23:case 24:return Bo(e,t,r)}throw Error(o(156,t.tag))},tu.prototype.render=function(e){$c(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$c(null,e,null,(function(){t[$n]=null}))},tt=function(e){13===e.tag&&(dc(e,4,uc()),eu(e,4))},rt=function(e){13===e.tag&&(dc(e,67108864,uc()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=uc(),r=lc(e);dc(e,r,t),eu(e,r)}},at=function(e,t){return t()},Ce=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ra(n);if(!a)throw Error(o(90));$(n),re(n,a)}}}break;case"textarea":ue(e,r);break;case"select":null!=(t=r.value)&&oe(e,!!r.multiple,t,!1)}},Ae=gc,Me=function(e,t,r,n,a){var i=Ps;Ps|=4;try{return Va(98,e.bind(null,t,r,n,a))}finally{0===(Ps=i)&&(Hs(),Ka())}},Le=function(){0===(49&Ps)&&(function(){if(null!==tc){var e=tc;tc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fc(e,Ua())}))}Ka()}(),Dc())},Ne=function(e,t){var r=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=r)&&(Hs(),Ka())}};var iu={Events:[ea,ta,ra,Ie,De,Dc,{current:!1}]},ou={findFiberByHostInstance:Zn,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},su={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{wa=cu.inject(su),_a=cu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iu,t.createPortal=au,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Ps;if(0!==(48&r))return e(t);Ps|=1;try{if(e)return Va(99,e.bind(null,t))}finally{Ps=r,Ka()}},t.hydrate=function(e,t,r){if(!ru(t))throw Error(o(200));return nu(null,e,t,!0,r)},t.render=function(e,t,r){if(!ru(t))throw Error(o(200));return nu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(o(40));return!!e._reactRootContainer&&(yc((function(){nu(null,null,e,!1,(function(){e._reactRootContainer=null,e[$n]=null}))})),!0)},t.unstable_batchedUpdates=gc,t.unstable_createPortal=function(e,t){return au(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ru(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return nu(e,t,r,!1,n)},t.version="17.0.1"},function(e,t,r){"use strict";e.exports=r(57)},function(e,t,r){"use strict";var n,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,d=null,p=function e(){if(null!==l)try{var r=t.unstable_now();l(!0,r),l=null}catch(n){throw setTimeout(e,0),n}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(p,0))},a=function(e,t){d=setTimeout(e,t)},i=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,k=_.port2;_.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+b;try{g(!0,e)?k.postMessage(null):(v=!1,g=null)}catch(r){throw k.postMessage(null),r}}else v=!1},n=function(e){g=e,v||(v=!0,k.postMessage(null))},a=function(e,r){y=f((function(){e(t.unstable_now())}),r)},i=function(){h(y),y=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,a=e[n];if(!(void 0!==a&&0<E(a,t)))break e;e[n]=t,e[r]=a,r=n}}function x(e){return void 0===(e=e[0])?null:e}function R(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length;n<a;){var i=2*(n+1)-1,o=e[i],s=i+1,c=e[s];if(void 0!==o&&0>E(o,r))void 0!==c&&0>E(c,o)?(e[n]=c,e[s]=r,n=s):(e[n]=o,e[i]=r,n=i);else{if(!(void 0!==c&&0>E(c,r)))break e;e[n]=c,e[s]=r,n=s}}}return t}return null}function E(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var C=[],T=[],P=1,O=null,I=3,D=!1,A=!1,M=!1;function L(e){for(var t=x(T);null!==t;){if(null===t.callback)R(T);else{if(!(t.startTime<=e))break;R(T),t.sortIndex=t.expirationTime,S(C,t)}t=x(T)}}function N(e){if(M=!1,L(e),!A)if(null!==x(C))A=!0,n(F);else{var t=x(T);null!==t&&a(N,t.startTime-e)}}function F(e,r){A=!1,M&&(M=!1,i()),D=!0;var n=I;try{for(L(r),O=x(C);null!==O&&(!(O.expirationTime>r)||e&&!t.unstable_shouldYield());){var o=O.callback;if("function"===typeof o){O.callback=null,I=O.priorityLevel;var s=o(O.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?O.callback=s:O===x(C)&&R(C),L(r)}else R(C);O=x(C)}if(null!==O)var c=!0;else{var u=x(T);null!==u&&a(N,u.startTime-r),c=!1}return c}finally{O=null,I=n,D=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||D||(A=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return x(C)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var r=I;I=t;try{return e()}finally{I=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=I;I=e;try{return t()}finally{I=r}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:P++,callback:r,priorityLevel:e,startTime:o,expirationTime:c=o+c,sortIndex:-1},o>s?(e.sortIndex=o,S(T,e),null===x(C)&&e===x(T)&&(M?i():M=!0,a(N,o-s))):(e.sortIndex=c,S(C,e),A||D||(A=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var r=I;I=t;try{return e.apply(this,arguments)}finally{I=r}}}},,function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),o=new T(n||[]);return i._invoke=function(e,t,r){var n=d;return function(a,i){if(n===f)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw i;return O()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=R(o,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:p,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,o),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};b[i]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(P([])));_&&_!==r&&n.call(_,i)&&(b=_);var k=y.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,i,o,s){var c=l(e[a],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}var a;this._invoke=function(e,n){function i(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(i,i):i()}}function R(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var a=l(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=k.constructor=y,y.constructor=g,g.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(x.prototype),x.prototype[o]=function(){return this},e.AsyncIterator=x,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new x(u(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(k),c(k,s,"Generator"),k[i]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;C(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=n}catch(a){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){var n=r(61);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n=r(63),a=r(64),i=r(16),o=r(65);e.exports=function(e,t){return n(e)||a(e,t)||i(e,t)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(c){a=!0,i=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){function r(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}},function(e,t,r){var n=r(17);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(25),a=r(26),i=r(69);e.exports=function(e){var t=a();return function(){var r,a=n(e);if(t){var o=n(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return i(this,r)}}},function(e,t,r){var n=r(70),a=r(24);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?a(e):t}},function(e,t){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t,r){var n=r(25),a=r(17),i=r(72),o=r(73);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return o(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,r){var n=r(17),a=r(26);function i(t,r,o){return a()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,r){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return r&&n(i,r.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t,r){var n=r(16);e.exports=function(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}},function(e,t,r){var n=r(23);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=r(2),a=r(31),i=r(79),o=r(37);function s(e){var t=new i(e),r=a(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=s(r(34));c.Axios=i,c.create=function(e){return s(o(c.defaults,e))},c.Cancel=r(38),c.CancelToken=r(92),c.isCancel=r(33),c.all=function(e){return Promise.all(e)},c.spread=r(93),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var n=r(2),a=r(32),i=r(80),o=r(81),s=r(37);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,a){return this.request(n.merge(a||{},{method:e,url:t,data:r}))}})),e.exports=c},function(e,t,r){"use strict";var n=r(2);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},function(e,t,r){"use strict";var n=r(2),a=r(82),i=r(33),o=r(34);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=a(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(36);e.exports=function(e,t,r){var a=r.config.validateStatus;!a||a(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(87),a=r(88);e.exports=function(e,t){return e&&!n(t)?a(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(2),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,o={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},function(e,t,r){"use strict";var n=r(2);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(2);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(a)&&s.push("path="+a),n.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(38);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){var n=r(40),a=r(9)("socket.io-client:url");e.exports=function(e,t){var r=e;t=t||"undefined"!==typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e="undefined"!==typeof t?t.protocol+"//"+e:"https://"+e),a("parse %s",e),r=n(e));r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443"));r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port,r.href=r.protocol+"://"+i+(t&&t.port===r.port?"":":"+r.port),r}},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var a=t.formatters[n];if("function"===typeof a){var i=o[c];r=a.call(e,i),o.splice(c,1),c--}return r})),t.formatArgs.call(e,o);var u=n.log||t.log||console.log.bind(console);u.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=a,"function"===typeof t.init&&t.init(n),t.instances.push(n),n}function a(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),a=n.length;for(r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var i=t.instances[r];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(96),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var r=1e3,n=60*r,a=60*n,i=24*a,o=365.25*i;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*a;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,i,"day")||s(c,a,"hour")||s(c,n,"minute")||s(c,r,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){(function(n){function a(){var e;try{e=t.storage.debug}catch(r){}return!e&&"undefined"!==typeof n&&"env"in n&&(e=Object({NODE_ENV:"production",PUBLIC_URL:"/avCoreTrain",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DB_CLIENT:"https://lobby.stagescloud.com:8080",REACT_APP_DB_TOKEN:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVmZTRiNzMzZmMzOTliYTgzMmZhOGFmYiIsImlhdCI6MTYwODgyNDc0Mn0.aW_zq_P9OsZLU_us3HsQUnF3Hm-69prrCqmxqFTp5YdKfqqL-XRZ-gNQKkwBStUzBBCvT0fxaN9ChDdN8CKjqA"}).DEBUG),e}(t=e.exports=r(98)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=a,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(a())}).call(this,r(4))},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var a=t.formatters[n];if("function"===typeof a){var i=o[c];r=a.call(e,i),o.splice(c,1),c--}return r})),t.formatArgs.call(e,o);var u=n.log||t.log||console.log.bind(console);u.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=a,"function"===typeof t.init&&t.init(n),t.instances.push(n),n}function a(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),a=n.length;for(r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var i=t.instances[r];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(99),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var r=1e3,n=60*r,a=60*n,i=24*a,o=365.25*i;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*a;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,i,"day")||s(c,a,"hour")||s(c,n,"minute")||s(c,r,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(41),a=r(42),i=Object.prototype.toString,o="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===i.call(File);function c(e,t){if(!e)return e;if(a(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}if(n(e)){for(var i=new Array(e.length),o=0;o<e.length;o++)i[o]=c(e[o],t);return i}if("object"===typeof e&&!(e instanceof Date)){i={};for(var s in e)i[s]=c(e[s],t);return i}return e}function u(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(n(e))for(var r=0;r<e.length;r++)e[r]=u(e[r],t);else if("object"===typeof e)for(var a in e)e[a]=u(e[a],t);return e}t.deconstructPacket=function(e){var t=[],r=e.data,n=e;return n.data=c(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=u(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var r=0,i=e;!function e(c,u,l){if(!c)return c;if(o&&c instanceof Blob||s&&c instanceof File){r++;var d=new FileReader;d.onload=function(){l?l[u]=this.result:i=this.result,--r||t(i)},d.readAsArrayBuffer(c)}else if(n(c))for(var p=0;p<c.length;p++)e(c[p],p,c);else if("object"===typeof c&&!a(c))for(var f in c)e(c[f],f,c)}(i),r||t(i)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),o=n[0],s=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),l=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=16383,s=0,c=r-a;s<c;s+=o)i.push(l(e,s,s+o>c?c:s+o));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,c=(1<<s)-1,u=c>>1,l=-7,d=r?a-1:0,p=r?-1:1,f=e[t+d];for(d+=p,i=f&(1<<-l)-1,f>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=p,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=p,l-=8);if(0===i)i=1-u;else{if(i===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),i-=u}return(f?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,s,c,u=8*i-a-1,l=(1<<u)-1,d=l>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*c-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[r+f]=255&s,f+=h,s/=256,a-=8);for(o=o<<a|s,u+=a;u>0;e[r+f]=255&o,f+=h,o/=256,u-=8);e[r+f-h]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){e.exports=r(106),e.exports.parser=r(6)},function(e,t,r){var n=r(44),a=r(5),i=r(12)("engine.io-client:socket"),o=r(48),s=r(6),c=r(40),u=r(10);function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"===typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"===typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"===typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,a(l.prototype),l.protocol=s.protocol,l.Socket=l,l.Transport=r(22),l.transports=r(44),l.parser=r(6),l.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=s.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function a(){if(n.onlyBinaryUpgrades){var a=!this.supportsBinary&&n.transport.supportsBinary;r=r||a}r||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(a){if(!r)if("pong"===a.type&&"probe"===a.data){if(i('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',n.transport.name),n.transport.pause((function(){r||"closed"!==n.readyState&&(i("changing transport and sending upgrade packet"),p(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())}))}else{i('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,n.emit("upgradeError",o)}})))}function o(){r||(r=!0,p(),t.close(),t=null)}function s(r){var a=new Error("probe error: "+r);a.transport=t.name,o(),i('probe transport "%s" failed because of error: %s',e,r),n.emit("upgradeError",a)}function c(){s("transport closed")}function u(){s("socket closed")}function d(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),o())}function p(){t.removeListener("open",a),t.removeListener("error",s),t.removeListener("close",c),n.removeListener("close",u),n.removeListener("upgrading",d)}l.priorWebsocketSuccess=!1,t.once("open",a),t.once("error",s),t.once("close",c),this.once("close",u),this.once("upgrading",d),t.open()},l.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},l.prototype.sendPacket=function(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var a={type:e,data:t,options:r};this.emit("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():t()})):this.upgrading?n():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function n(){e.once("upgrade",r),e.once("upgradeError",r)}return this},l.prototype.onError=function(e){i("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~o(this.transports,e[r])&&t.push(e[r]);return t}},function(e,t){try{e.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){e.exports=!1}},function(e,t,r){var n=r(20),a=r(45),i=r(5),o=r(11),s=r(12)("engine.io-client:polling-xhr"),c=r(21);function u(){}function l(e){if(a.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!==typeof location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=d,o(l,a),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},l.prototype.doWrite=function(e,t){var r="string"!==typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),a=this;n.on("success",t),n.on("error",(function(e){a.onError("xhr post error",e)})),this.sendXhr=n},l.prototype.doPoll=function(){s("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},i(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}catch(i){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{t.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(i){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError("number"===typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(i){return void setTimeout((function(){r.onError(i)}),0)}"undefined"!==typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(r){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(r){this.onError(r)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!==typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",p);else if("function"===typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",p,!1)}function p(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var a=new Uint8Array(e),i=new Uint8Array(r-t),o=t,s=0;o<r;o++,s++)i[s]=a[o];return i.buffer}},function(e,t){function r(){}e.exports=function(e,t,n){var a=!1;return n=n||r,i.count=e,0===e?t():i;function i(e,r){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(a=!0,t(e),t=n):0!==i.count||a||t(null,r)}}},function(e,t){var r,n,a,i=String.fromCharCode;function o(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function s(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return i(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return i(e);var r="";return 0==(4294965248&e)?r=i(e>>6&31|192):0==(4294901760&e)?(s(e,t)||(e=65533),r=i(e>>12&15|224),r+=c(e,6)):0==(4292870144&e)&&(r=i(e>>18&7|240),r+=c(e,12),r+=c(e,6)),r+=i(63&e|128)}function l(){if(a>=n)throw Error("Invalid byte index");var e=255&r[a];if(a++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,i;if(a>n)throw Error("Invalid byte index");if(a==n)return!1;if(t=255&r[a],a++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|l())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|l()<<6|l())>=2048)return s(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=o(e),a=n.length,i=-1,s="";++i<a;)s+=u(n[i],r);return s},decode:function(e,t){var s=!1!==(t=t||{}).strict;r=o(e),n=r.length,a=0;for(var c,u=[];!1!==(c=d(s));)u.push(c);return function(e){for(var t,r=e.length,n=-1,a="";++n<r;)(t=e[n])>65535&&(a+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),a+=i(t);return a}(u)}}},function(e,t){!function(e){"use strict";t.encode=function(t){var r,n=new Uint8Array(t),a=n.length,i="";for(r=0;r<a;r+=3)i+=e[n[r]>>2],i+=e[(3&n[r])<<4|n[r+1]>>4],i+=e[(15&n[r+1])<<2|n[r+2]>>6],i+=e[63&n[r+2]];return a%3===2?i=i.substring(0,i.length-1)+"=":a%3===1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(t){var r,n,a,i,o,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(r=0;r<c;r+=4)n=e.indexOf(t[r]),a=e.indexOf(t[r+1]),i=e.indexOf(t[r+2]),o=e.indexOf(t[r+3]),d[u++]=n<<2|a>>4,d[u++]=(15&a)<<4|i>>2,d[u++]=(3&i)<<6|63&o;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){var r="undefined"!==typeof r?r:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=r&&r.prototype.append&&r.prototype.getBlob;function o(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e}))}function s(e,t){t=t||{};var n=new r;return o(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function c(e,t){return new Blob(o(e),t||{})}"undefined"!==typeof Blob&&(s.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=n?a?Blob:c:i?s:void 0},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!==typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var a=t.formatters[n];if("function"===typeof a){var i=o[c];r=a.call(e,i),o.splice(c,1),c--}return r})),t.formatArgs.call(e,o);var u=n.log||t.log||console.log.bind(console);u.apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=a,"function"===typeof t.init&&t.init(n),t.instances.push(n),n}function a(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"===typeof e?e:"").split(/[\s,]+/),a=n.length;for(r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var i=t.instances[r];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(117),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){var r=1e3,n=60*r,a=60*n,i=24*a,o=365.25*i;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*a;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(c=e,i,"day")||s(c,a,"hour")||s(c,n,"minute")||s(c,r,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(45),a=r(11),i=r(21);e.exports=l;var o,s=/\n/g,c=/\\n/g;function u(){}function l(e){n.call(this,e),this.query=this.query||{},o||(o=i.___eio=i.___eio||[]),this.index=o.length;var t=this;o.push((function(e){t.onData(e)})),this.query.j=this.index,"function"===typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=u)}),!1)}a(l,n),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!==typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,a=document.createElement("form"),i=document.createElement("textarea"),o=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=o,a.method="POST",a.setAttribute("accept-charset","utf-8"),i.name="d",a.appendChild(i),document.body.appendChild(a),this.form=a,this.area=i}function u(){l(),t()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(t){r.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(t){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),l(),e=e.replace(c,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&u()}:this.iframe.onload=u}},function(e,t,r){(function(t){var n,a,i=r(22),o=r(6),s=r(10),c=r(11),u=r(47),l=r(12)("engine.io-client:websocket");if("undefined"!==typeof WebSocket?n=WebSocket:"undefined"!==typeof self&&(n=self.WebSocket||self.MozWebSocket),"undefined"===typeof window)try{a=r(120)}catch(f){}var d=n||a;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=a),i.call(this,e)}e.exports=p,c(p,i),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,r)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var r=this;this.writable=!1;for(var n=e.length,a=0,i=n;a<i;a++)!function(e){o.encodePacket(e,r.supportsBinary,(function(a){if(!r.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),r.perMessageDeflate)("string"===typeof a?t.byteLength(a):a.length)<r.perMessageDeflate.threshold&&(i.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(a):r.ws.send(a,i)}catch(f){l("websocket closed before onclose event")}--n||s()}))}(e[a]);function s(){r.emit("flush"),setTimeout((function(){r.writable=!0,r.emit("drain")}),0)}},p.prototype.onClose=function(){i.prototype.onClose.call(this)},p.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e},p.prototype.check=function(){return!!d&&!("__initialize"in d&&this.name===p.prototype.name)}}).call(this,r(19).Buffer)},,function(e,t){e.exports=function(e,t){for(var r=[],n=(t=t||0)||0;n<e.length;n++)r[n-t]=e[n];return r}},function(e,t){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},,function(e,t,r){(function(t){var n=r(125),a=r(126);function i(e){console.log("[dotenv][DEBUG] ".concat(e))}var o=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,s=/\\n/g,c=/\n|\r|\r\n/;function u(e,t){var r=Boolean(t&&t.debug),n={};return e.toString().split(c).forEach((function(e,t){var a=e.match(o);if(null!=a){var c=a[1],u=a[2]||"",l=u.length-1,d='"'===u[0]&&'"'===u[l];"'"===u[0]&&"'"===u[l]||d?(u=u.substring(1,l),d&&(u=u.replace(s,"\n"))):u=u.trim(),n[c]=u}else r&&i("did not match key and value when parsing line ".concat(t+1,": ").concat(e))})),n}e.exports.config=function(e){var r=a.resolve(t.cwd(),".env"),o="utf8",s=!1;e&&(null!=e.path&&(r=e.path),null!=e.encoding&&(o=e.encoding),null!=e.debug&&(s=!0));try{var c=u(n.readFileSync(r,{encoding:o}),{debug:s});return Object.keys(c).forEach((function(e){Object.prototype.hasOwnProperty.call(Object({NODE_ENV:"production",PUBLIC_URL:"/avCoreTrain",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DB_CLIENT:"https://lobby.stagescloud.com:8080",REACT_APP_DB_TOKEN:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVmZTRiNzMzZmMzOTliYTgzMmZhOGFmYiIsImlhdCI6MTYwODgyNDc0Mn0.aW_zq_P9OsZLU_us3HsQUnF3Hm-69prrCqmxqFTp5YdKfqqL-XRZ-gNQKkwBStUzBBCvT0fxaN9ChDdN8CKjqA"}),e)?s&&i('"'.concat(e,'" is already defined in `process.env` and will not be overwritten')):Object({NODE_ENV:"production",PUBLIC_URL:"/avCoreTrain",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DB_CLIENT:"https://lobby.stagescloud.com:8080",REACT_APP_DB_TOKEN:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6IjVmZTRiNzMzZmMzOTliYTgzMmZhOGFmYiIsImlhdCI6MTYwODgyNDc0Mn0.aW_zq_P9OsZLU_us3HsQUnF3Hm-69prrCqmxqFTp5YdKfqqL-XRZ-gNQKkwBStUzBBCvT0fxaN9ChDdN8CKjqA"})[e]=c[e]})),{parsed:c}}catch(l){return{error:l}}},e.exports.parse=u}).call(this,r(4))},function(e,t){},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return(a?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!a).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===a(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var a=n(e.split("/")),i=n(r.split("/")),o=Math.min(a.length,i.length),s=o,c=0;c<o;c++)if(a[c]!==i[c]){s=c;break}var u=[];for(c=s;c<a.length;c++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){n=i;break}}else a=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){r=t+1;break}}else-1===n&&(a=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===n&&(a=!1,n=o+1),46===s?-1===t?t=o:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){r=o+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(4))}]]);
//# sourceMappingURL=2.6b7e1b10.chunk.js.map